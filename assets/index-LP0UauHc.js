function U1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function B1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tm={exports:{}},ia={},Im={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=Symbol.for("react.element"),j1=Symbol.for("react.portal"),z1=Symbol.for("react.fragment"),W1=Symbol.for("react.strict_mode"),V1=Symbol.for("react.profiler"),b1=Symbol.for("react.provider"),H1=Symbol.for("react.context"),Q1=Symbol.for("react.forward_ref"),G1=Symbol.for("react.suspense"),K1=Symbol.for("react.memo"),Y1=Symbol.for("react.lazy"),Qf=Symbol.iterator;function q1(e){return e===null||typeof e!="object"?null:(e=Qf&&e[Qf]||e["@@iterator"],typeof e=="function"?e:null)}var km={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nm=Object.assign,Pm={};function Ei(e,t,n){this.props=e,this.context=t,this.refs=Pm,this.updater=n||km}Ei.prototype.isReactComponent={};Ei.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ei.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rm(){}Rm.prototype=Ei.prototype;function Uh(e,t,n){this.props=e,this.context=t,this.refs=Pm,this.updater=n||km}var Bh=Uh.prototype=new Rm;Bh.constructor=Uh;Nm(Bh,Ei.prototype);Bh.isPureReactComponent=!0;var Gf=Array.isArray,xm=Object.prototype.hasOwnProperty,jh={current:null},Am={key:!0,ref:!0,__self:!0,__source:!0};function Dm(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)xm.call(t,r)&&!Am.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:eo,type:e,key:s,ref:o,props:i,_owner:jh.current}}function X1(e,t){return{$$typeof:eo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zh(e){return typeof e=="object"&&e!==null&&e.$$typeof===eo}function J1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kf=/\/+/g;function du(e,t){return typeof e=="object"&&e!==null&&e.key!=null?J1(""+e.key):t.toString(36)}function qo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case eo:case j1:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+du(o,0):r,Gf(i)?(n="",e!=null&&(n=e.replace(Kf,"$&/")+"/"),qo(i,t,n,"",function(u){return u})):i!=null&&(zh(i)&&(i=X1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Kf,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Gf(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+du(s,l);o+=qo(s,t,n,a,i)}else if(a=q1(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+du(s,l++),o+=qo(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function No(e,t,n){if(e==null)return e;var r=[],i=0;return qo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Z1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Xo={transition:null},ew={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Xo,ReactCurrentOwner:jh};B.Children={map:No,forEach:function(e,t,n){No(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return No(e,function(){t++}),t},toArray:function(e){return No(e,function(t){return t})||[]},only:function(e){if(!zh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Ei;B.Fragment=z1;B.Profiler=V1;B.PureComponent=Uh;B.StrictMode=W1;B.Suspense=G1;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ew;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nm({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=jh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)xm.call(t,a)&&!Am.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:eo,type:e.type,key:i,ref:s,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:H1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:b1,_context:e},e.Consumer=e};B.createElement=Dm;B.createFactory=function(e){var t=Dm.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:Q1,render:e}};B.isValidElement=zh;B.lazy=function(e){return{$$typeof:Y1,_payload:{_status:-1,_result:e},_init:Z1}};B.memo=function(e,t){return{$$typeof:K1,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Xo.transition;Xo.transition={};try{e()}finally{Xo.transition=t}};B.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};B.useCallback=function(e,t){return He.current.useCallback(e,t)};B.useContext=function(e){return He.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return He.current.useDeferredValue(e)};B.useEffect=function(e,t){return He.current.useEffect(e,t)};B.useId=function(){return He.current.useId()};B.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return He.current.useMemo(e,t)};B.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};B.useRef=function(e){return He.current.useRef(e)};B.useState=function(e){return He.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return He.current.useTransition()};B.version="18.2.0";Im.exports=B;var N=Im.exports;const Om=B1(N),tw=U1({__proto__:null,default:Om},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw=N,rw=Symbol.for("react.element"),iw=Symbol.for("react.fragment"),sw=Object.prototype.hasOwnProperty,ow=nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lw={key:!0,ref:!0,__self:!0,__source:!0};function Lm(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)sw.call(t,r)&&!lw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:rw,type:e,key:s,ref:o,props:i,_owner:ow.current}}ia.Fragment=iw;ia.jsx=Lm;ia.jsxs=Lm;Tm.exports=ia;var ae=Tm.exports,ic={},Mm={exports:{}},ft={},Fm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,L){var $=k.length;k.push(L);e:for(;0<$;){var ce=$-1>>>1,ve=k[ce];if(0<i(ve,L))k[ce]=L,k[$]=ve,$=ce;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var L=k[0],$=k.pop();if($!==L){k[0]=$;e:for(var ce=0,ve=k.length,Io=ve>>>1;ce<Io;){var tr=2*(ce+1)-1,hu=k[tr],nr=tr+1,ko=k[nr];if(0>i(hu,$))nr<ve&&0>i(ko,hu)?(k[ce]=ko,k[nr]=$,ce=nr):(k[ce]=hu,k[tr]=$,ce=tr);else if(nr<ve&&0>i(ko,$))k[ce]=ko,k[nr]=$,ce=nr;else break e}}return L}function i(k,L){var $=k.sortIndex-L.sortIndex;return $!==0?$:k.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,d=3,g=!1,_=!1,v=!1,I=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(k){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=k)r(u),L.sortIndex=L.expirationTime,t(a,L);else break;L=n(u)}}function y(k){if(v=!1,m(k),!_)if(n(a)!==null)_=!0,uu(S);else{var L=n(u);L!==null&&cu(y,L.startTime-k)}}function S(k,L){_=!1,v&&(v=!1,p(x),x=-1),g=!0;var $=d;try{for(m(L),h=n(a);h!==null&&(!(h.expirationTime>L)||k&&!Pt());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,d=h.priorityLevel;var ve=ce(h.expirationTime<=L);L=e.unstable_now(),typeof ve=="function"?h.callback=ve:h===n(a)&&r(a),m(L)}else r(a);h=n(a)}if(h!==null)var Io=!0;else{var tr=n(u);tr!==null&&cu(y,tr.startTime-L),Io=!1}return Io}finally{h=null,d=$,g=!1}}var P=!1,R=null,x=-1,ue=5,j=-1;function Pt(){return!(e.unstable_now()-j<ue)}function Di(){if(R!==null){var k=e.unstable_now();j=k;var L=!0;try{L=R(!0,k)}finally{L?Oi():(P=!1,R=null)}}else P=!1}var Oi;if(typeof f=="function")Oi=function(){f(Di)};else if(typeof MessageChannel<"u"){var Hf=new MessageChannel,$1=Hf.port2;Hf.port1.onmessage=Di,Oi=function(){$1.postMessage(null)}}else Oi=function(){I(Di,0)};function uu(k){R=k,P||(P=!0,Oi())}function cu(k,L){x=I(function(){k(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,uu(S))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(k){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var $=d;d=L;try{return k()}finally{d=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=d;d=k;try{return L()}finally{d=$}},e.unstable_scheduleCallback=function(k,L,$){var ce=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ce+$:ce):$=ce,k){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=$+ve,k={id:c++,callback:L,priorityLevel:k,startTime:$,expirationTime:ve,sortIndex:-1},$>ce?(k.sortIndex=$,t(u,k),n(a)===null&&k===n(u)&&(v?(p(x),x=-1):v=!0,cu(y,$-ce))):(k.sortIndex=ve,t(a,k),_||g||(_=!0,uu(S))),k},e.unstable_shouldYield=Pt,e.unstable_wrapCallback=function(k){var L=d;return function(){var $=d;d=L;try{return k.apply(this,arguments)}finally{d=$}}}})($m);Fm.exports=$m;var aw=Fm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=N,ct=aw;function w(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bm=new Set,ps={};function Rr(e,t){ui(e,t),ui(e+"Capture",t)}function ui(e,t){for(ps[e]=t,e=0;e<t.length;e++)Bm.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=Object.prototype.hasOwnProperty,uw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yf={},qf={};function cw(e){return sc.call(qf,e)?!0:sc.call(Yf,e)?!1:uw.test(e)?qf[e]=!0:(Yf[e]=!0,!1)}function hw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dw(e,t,n,r){if(t===null||typeof t>"u"||hw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wh=/[\-:]([a-z])/g;function Vh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wh,Vh);Oe[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wh,Vh);Oe[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wh,Vh);Oe[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function bh(e,t,n,r){var i=Oe.hasOwnProperty(t)?Oe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dw(t,n,i,r)&&(n=null),r||i===null?cw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mn=Um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Po=Symbol.for("react.element"),jr=Symbol.for("react.portal"),zr=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),oc=Symbol.for("react.profiler"),jm=Symbol.for("react.provider"),zm=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),lc=Symbol.for("react.suspense"),ac=Symbol.for("react.suspense_list"),Gh=Symbol.for("react.memo"),yn=Symbol.for("react.lazy"),Wm=Symbol.for("react.offscreen"),Xf=Symbol.iterator;function Li(e){return e===null||typeof e!="object"?null:(e=Xf&&e[Xf]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,fu;function Ki(e){if(fu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fu=t&&t[1]||""}return`
`+fu+e}var pu=!1;function gu(e,t){if(!e||pu)return"";pu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{pu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ki(e):""}function fw(e){switch(e.tag){case 5:return Ki(e.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 2:case 15:return e=gu(e.type,!1),e;case 11:return e=gu(e.type.render,!1),e;case 1:return e=gu(e.type,!0),e;default:return""}}function uc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zr:return"Fragment";case jr:return"Portal";case oc:return"Profiler";case Hh:return"StrictMode";case lc:return"Suspense";case ac:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zm:return(e.displayName||"Context")+".Consumer";case jm:return(e._context.displayName||"Context")+".Provider";case Qh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gh:return t=e.displayName||null,t!==null?t:uc(e.type)||"Memo";case yn:t=e._payload,e=e._init;try{return uc(e(t))}catch{}}return null}function pw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uc(t);case 8:return t===Hh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gw(e){var t=Vm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ro(e){e._valueTracker||(e._valueTracker=gw(e))}function bm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cc(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Jf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hm(e,t){t=t.checked,t!=null&&bh(e,"checked",t,!1)}function hc(e,t){Hm(e,t);var n=jn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dc(e,t.type,n):t.hasOwnProperty("defaultValue")&&dc(e,t.type,jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function dc(e,t,n){(t!=="number"||al(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yi=Array.isArray;function Zr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+jn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(w(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ep(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(w(92));if(Yi(n)){if(1<n.length)throw Error(w(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jn(n)}}function Qm(e,t){var n=jn(t.value),r=jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xo,Km=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xo=xo||document.createElement("div"),xo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mw=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(e){mw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),es[t]=es[e]})});function Ym(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||es.hasOwnProperty(e)&&es[e]?(""+t).trim():t+"px"}function qm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ym(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var _w=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gc(e,t){if(t){if(_w[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(w(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(w(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(w(61))}if(t.style!=null&&typeof t.style!="object")throw Error(w(62))}}function mc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=null;function Kh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vc=null,ei=null,ti=null;function np(e){if(e=ro(e)){if(typeof vc!="function")throw Error(w(280));var t=e.stateNode;t&&(t=ua(t),vc(e.stateNode,e.type,t))}}function Xm(e){ei?ti?ti.push(e):ti=[e]:ei=e}function Jm(){if(ei){var e=ei,t=ti;if(ti=ei=null,np(e),t)for(e=0;e<t.length;e++)np(t[e])}}function Zm(e,t){return e(t)}function e_(){}var mu=!1;function t_(e,t,n){if(mu)return e(t,n);mu=!0;try{return Zm(e,t,n)}finally{mu=!1,(ei!==null||ti!==null)&&(e_(),Jm())}}function ms(e,t){var n=e.stateNode;if(n===null)return null;var r=ua(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(w(231,t,typeof n));return n}var yc=!1;if(cn)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){yc=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{yc=!1}function vw(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ts=!1,ul=null,cl=!1,wc=null,yw={onError:function(e){ts=!0,ul=e}};function ww(e,t,n,r,i,s,o,l,a){ts=!1,ul=null,vw.apply(yw,arguments)}function Ew(e,t,n,r,i,s,o,l,a){if(ww.apply(this,arguments),ts){if(ts){var u=ul;ts=!1,ul=null}else throw Error(w(198));cl||(cl=!0,wc=u)}}function xr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function n_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rp(e){if(xr(e)!==e)throw Error(w(188))}function Cw(e){var t=e.alternate;if(!t){if(t=xr(e),t===null)throw Error(w(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return rp(i),e;if(s===r)return rp(i),t;s=s.sibling}throw Error(w(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(w(189))}}if(n.alternate!==r)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?e:t}function r_(e){return e=Cw(e),e!==null?i_(e):null}function i_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=i_(e);if(t!==null)return t;e=e.sibling}return null}var s_=ct.unstable_scheduleCallback,ip=ct.unstable_cancelCallback,Sw=ct.unstable_shouldYield,Tw=ct.unstable_requestPaint,he=ct.unstable_now,Iw=ct.unstable_getCurrentPriorityLevel,Yh=ct.unstable_ImmediatePriority,o_=ct.unstable_UserBlockingPriority,hl=ct.unstable_NormalPriority,kw=ct.unstable_LowPriority,l_=ct.unstable_IdlePriority,sa=null,Qt=null;function Nw(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(sa,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:xw,Pw=Math.log,Rw=Math.LN2;function xw(e){return e>>>=0,e===0?32:31-(Pw(e)/Rw|0)|0}var Ao=64,Do=4194304;function qi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=qi(l):(s&=o,s!==0&&(r=qi(s)))}else o=n&~i,o!==0?r=qi(o):s!==0&&(r=qi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mt(t),i=1<<n,r|=e[n],t&=~i;return r}function Aw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Mt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Aw(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function Ec(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function a_(){var e=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),e}function _u(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function to(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=n}function Ow(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Mt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function qh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Q=0;function u_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var c_,Xh,h_,d_,f_,Cc=!1,Oo=[],Pn=null,Rn=null,xn=null,_s=new Map,vs=new Map,En=[],Lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sp(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":_s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(t.pointerId)}}function Fi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ro(t),t!==null&&Xh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Mw(e,t,n,r,i){switch(t){case"focusin":return Pn=Fi(Pn,e,t,n,r,i),!0;case"dragenter":return Rn=Fi(Rn,e,t,n,r,i),!0;case"mouseover":return xn=Fi(xn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return _s.set(s,Fi(_s.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vs.set(s,Fi(vs.get(s)||null,e,t,n,r,i)),!0}return!1}function p_(e){var t=lr(e.target);if(t!==null){var n=xr(t);if(n!==null){if(t=n.tag,t===13){if(t=n_(n),t!==null){e.blockedOn=t,f_(e.priority,function(){h_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_c=r,n.target.dispatchEvent(r),_c=null}else return t=ro(n),t!==null&&Xh(t),e.blockedOn=n,!1;t.shift()}return!0}function op(e,t,n){Jo(e)&&n.delete(t)}function Fw(){Cc=!1,Pn!==null&&Jo(Pn)&&(Pn=null),Rn!==null&&Jo(Rn)&&(Rn=null),xn!==null&&Jo(xn)&&(xn=null),_s.forEach(op),vs.forEach(op)}function $i(e,t){e.blockedOn===t&&(e.blockedOn=null,Cc||(Cc=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Fw)))}function ys(e){function t(i){return $i(i,e)}if(0<Oo.length){$i(Oo[0],e);for(var n=1;n<Oo.length;n++){var r=Oo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pn!==null&&$i(Pn,e),Rn!==null&&$i(Rn,e),xn!==null&&$i(xn,e),_s.forEach(t),vs.forEach(t),n=0;n<En.length;n++)r=En[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)p_(n),n.blockedOn===null&&En.shift()}var ni=mn.ReactCurrentBatchConfig,fl=!0;function $w(e,t,n,r){var i=Q,s=ni.transition;ni.transition=null;try{Q=1,Jh(e,t,n,r)}finally{Q=i,ni.transition=s}}function Uw(e,t,n,r){var i=Q,s=ni.transition;ni.transition=null;try{Q=4,Jh(e,t,n,r)}finally{Q=i,ni.transition=s}}function Jh(e,t,n,r){if(fl){var i=Sc(e,t,n,r);if(i===null)Nu(e,t,r,pl,n),sp(e,r);else if(Mw(i,e,t,n,r))r.stopPropagation();else if(sp(e,r),t&4&&-1<Lw.indexOf(e)){for(;i!==null;){var s=ro(i);if(s!==null&&c_(s),s=Sc(e,t,n,r),s===null&&Nu(e,t,r,pl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Nu(e,t,r,null,n)}}var pl=null;function Sc(e,t,n,r){if(pl=null,e=Kh(r),e=lr(e),e!==null)if(t=xr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=n_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pl=e,null}function g_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iw()){case Yh:return 1;case o_:return 4;case hl:case kw:return 16;case l_:return 536870912;default:return 16}default:return 16}}var Sn=null,Zh=null,Zo=null;function m_(){if(Zo)return Zo;var e,t=Zh,n=t.length,r,i="value"in Sn?Sn.value:Sn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Zo=i.slice(e,1<r?1-r:void 0)}function el(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lo(){return!0}function lp(){return!1}function pt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Lo:lp,this.isPropagationStopped=lp,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),t}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ed=pt(Ci),no=oe({},Ci,{view:0,detail:0}),Bw=pt(no),vu,yu,Ui,oa=oe({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:td,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&e.type==="mousemove"?(vu=e.screenX-Ui.screenX,yu=e.screenY-Ui.screenY):yu=vu=0,Ui=e),vu)},movementY:function(e){return"movementY"in e?e.movementY:yu}}),ap=pt(oa),jw=oe({},oa,{dataTransfer:0}),zw=pt(jw),Ww=oe({},no,{relatedTarget:0}),wu=pt(Ww),Vw=oe({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),bw=pt(Vw),Hw=oe({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qw=pt(Hw),Gw=oe({},Ci,{data:0}),up=pt(Gw),Kw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qw[e])?!!t[e]:!1}function td(){return Xw}var Jw=oe({},no,{key:function(e){if(e.key){var t=Kw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=el(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:td,charCode:function(e){return e.type==="keypress"?el(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?el(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zw=pt(Jw),eE=oe({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cp=pt(eE),tE=oe({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:td}),nE=pt(tE),rE=oe({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),iE=pt(rE),sE=oe({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oE=pt(sE),lE=[9,13,27,32],nd=cn&&"CompositionEvent"in window,ns=null;cn&&"documentMode"in document&&(ns=document.documentMode);var aE=cn&&"TextEvent"in window&&!ns,__=cn&&(!nd||ns&&8<ns&&11>=ns),hp=" ",dp=!1;function v_(e,t){switch(e){case"keyup":return lE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function uE(e,t){switch(e){case"compositionend":return y_(t);case"keypress":return t.which!==32?null:(dp=!0,hp);case"textInput":return e=t.data,e===hp&&dp?null:e;default:return null}}function cE(e,t){if(Wr)return e==="compositionend"||!nd&&v_(e,t)?(e=m_(),Zo=Zh=Sn=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return __&&t.locale!=="ko"?null:t.data;default:return null}}var hE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hE[e.type]:t==="textarea"}function w_(e,t,n,r){Xm(r),t=gl(t,"onChange"),0<t.length&&(n=new ed("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var rs=null,ws=null;function dE(e){A_(e,0)}function la(e){var t=Hr(e);if(bm(t))return e}function fE(e,t){if(e==="change")return t}var E_=!1;if(cn){var Eu;if(cn){var Cu="oninput"in document;if(!Cu){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),Cu=typeof pp.oninput=="function"}Eu=Cu}else Eu=!1;E_=Eu&&(!document.documentMode||9<document.documentMode)}function gp(){rs&&(rs.detachEvent("onpropertychange",C_),ws=rs=null)}function C_(e){if(e.propertyName==="value"&&la(ws)){var t=[];w_(t,ws,e,Kh(e)),t_(dE,t)}}function pE(e,t,n){e==="focusin"?(gp(),rs=t,ws=n,rs.attachEvent("onpropertychange",C_)):e==="focusout"&&gp()}function gE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return la(ws)}function mE(e,t){if(e==="click")return la(t)}function _E(e,t){if(e==="input"||e==="change")return la(t)}function vE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:vE;function Es(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sc.call(t,i)||!Ut(e[i],t[i]))return!1}return!0}function mp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _p(e,t){var n=mp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mp(n)}}function S_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function T_(){for(var e=window,t=al();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=al(e.document)}return t}function rd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yE(e){var t=T_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&S_(n.ownerDocument.documentElement,n)){if(r!==null&&rd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=_p(n,s);var o=_p(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wE=cn&&"documentMode"in document&&11>=document.documentMode,Vr=null,Tc=null,is=null,Ic=!1;function vp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ic||Vr==null||Vr!==al(r)||(r=Vr,"selectionStart"in r&&rd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),is&&Es(is,r)||(is=r,r=gl(Tc,"onSelect"),0<r.length&&(t=new ed("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vr)))}function Mo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionend:Mo("Transition","TransitionEnd")},Su={},I_={};cn&&(I_=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function aa(e){if(Su[e])return Su[e];if(!br[e])return e;var t=br[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in I_)return Su[e]=t[n];return e}var k_=aa("animationend"),N_=aa("animationiteration"),P_=aa("animationstart"),R_=aa("transitionend"),x_=new Map,yp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){x_.set(e,t),Rr(t,[e])}for(var Tu=0;Tu<yp.length;Tu++){var Iu=yp[Tu],EE=Iu.toLowerCase(),CE=Iu[0].toUpperCase()+Iu.slice(1);Yn(EE,"on"+CE)}Yn(k_,"onAnimationEnd");Yn(N_,"onAnimationIteration");Yn(P_,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(R_,"onTransitionEnd");ui("onMouseEnter",["mouseout","mouseover"]);ui("onMouseLeave",["mouseout","mouseover"]);ui("onPointerEnter",["pointerout","pointerover"]);ui("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function wp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ew(r,t,void 0,e),e.currentTarget=null}function A_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;wp(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;wp(i,l,u),s=a}}}if(cl)throw e=wc,cl=!1,wc=null,e}function J(e,t){var n=t[xc];n===void 0&&(n=t[xc]=new Set);var r=e+"__bubble";n.has(r)||(D_(t,e,2,!1),n.add(r))}function ku(e,t,n){var r=0;t&&(r|=4),D_(n,e,r,t)}var Fo="_reactListening"+Math.random().toString(36).slice(2);function Cs(e){if(!e[Fo]){e[Fo]=!0,Bm.forEach(function(n){n!=="selectionchange"&&(SE.has(n)||ku(n,!1,e),ku(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fo]||(t[Fo]=!0,ku("selectionchange",!1,t))}}function D_(e,t,n,r){switch(g_(t)){case 1:var i=$w;break;case 4:i=Uw;break;default:i=Jh}n=i.bind(null,t,n,e),i=void 0,!yc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=lr(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}t_(function(){var u=s,c=Kh(n),h=[];e:{var d=x_.get(e);if(d!==void 0){var g=ed,_=e;switch(e){case"keypress":if(el(n)===0)break e;case"keydown":case"keyup":g=Zw;break;case"focusin":_="focus",g=wu;break;case"focusout":_="blur",g=wu;break;case"beforeblur":case"afterblur":g=wu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ap;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=zw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=nE;break;case k_:case N_:case P_:g=bw;break;case R_:g=iE;break;case"scroll":g=Bw;break;case"wheel":g=oE;break;case"copy":case"cut":case"paste":g=Qw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=cp}var v=(t&4)!==0,I=!v&&e==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var f=u,m;f!==null;){m=f;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,p!==null&&(y=ms(f,p),y!=null&&v.push(Ss(f,y,m)))),I)break;f=f.return}0<v.length&&(d=new g(d,_,null,n,c),h.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==_c&&(_=n.relatedTarget||n.fromElement)&&(lr(_)||_[hn]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?lr(_):null,_!==null&&(I=xr(_),_!==I||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(v=ap,y="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=cp,y="onPointerLeave",p="onPointerEnter",f="pointer"),I=g==null?d:Hr(g),m=_==null?d:Hr(_),d=new v(y,f+"leave",g,n,c),d.target=I,d.relatedTarget=m,y=null,lr(c)===u&&(v=new v(p,f+"enter",_,n,c),v.target=m,v.relatedTarget=I,y=v),I=y,g&&_)t:{for(v=g,p=_,f=0,m=v;m;m=$r(m))f++;for(m=0,y=p;y;y=$r(y))m++;for(;0<f-m;)v=$r(v),f--;for(;0<m-f;)p=$r(p),m--;for(;f--;){if(v===p||p!==null&&v===p.alternate)break t;v=$r(v),p=$r(p)}v=null}else v=null;g!==null&&Ep(h,d,g,v,!1),_!==null&&I!==null&&Ep(h,I,_,v,!0)}}e:{if(d=u?Hr(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var S=fE;else if(fp(d))if(E_)S=_E;else{S=gE;var P=pE}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=mE);if(S&&(S=S(e,u))){w_(h,S,n,c);break e}P&&P(e,d,u),e==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&dc(d,"number",d.value)}switch(P=u?Hr(u):window,e){case"focusin":(fp(P)||P.contentEditable==="true")&&(Vr=P,Tc=u,is=null);break;case"focusout":is=Tc=Vr=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,vp(h,n,c);break;case"selectionchange":if(wE)break;case"keydown":case"keyup":vp(h,n,c)}var R;if(nd)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Wr?v_(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(__&&n.locale!=="ko"&&(Wr||x!=="onCompositionStart"?x==="onCompositionEnd"&&Wr&&(R=m_()):(Sn=c,Zh="value"in Sn?Sn.value:Sn.textContent,Wr=!0)),P=gl(u,x),0<P.length&&(x=new up(x,e,null,n,c),h.push({event:x,listeners:P}),R?x.data=R:(R=y_(n),R!==null&&(x.data=R)))),(R=aE?uE(e,n):cE(e,n))&&(u=gl(u,"onBeforeInput"),0<u.length&&(c=new up("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=R))}A_(h,t)})}function Ss(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ms(e,n),s!=null&&r.unshift(Ss(e,s,i)),s=ms(e,t),s!=null&&r.push(Ss(e,s,i))),e=e.return}return r}function $r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ep(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ms(n,s),a!=null&&o.unshift(Ss(n,a,l))):i||(a=ms(n,s),a!=null&&o.push(Ss(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var TE=/\r\n?/g,IE=/\u0000|\uFFFD/g;function Cp(e){return(typeof e=="string"?e:""+e).replace(TE,`
`).replace(IE,"")}function $o(e,t,n){if(t=Cp(t),Cp(e)!==t&&n)throw Error(w(425))}function ml(){}var kc=null,Nc=null;function Pc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rc=typeof setTimeout=="function"?setTimeout:void 0,kE=typeof clearTimeout=="function"?clearTimeout:void 0,Sp=typeof Promise=="function"?Promise:void 0,NE=typeof queueMicrotask=="function"?queueMicrotask:typeof Sp<"u"?function(e){return Sp.resolve(null).then(e).catch(PE)}:Rc;function PE(e){setTimeout(function(){throw e})}function Pu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ys(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ys(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Si=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Si,Ts="__reactProps$"+Si,hn="__reactContainer$"+Si,xc="__reactEvents$"+Si,RE="__reactListeners$"+Si,xE="__reactHandles$"+Si;function lr(e){var t=e[Wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[Wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tp(e);e!==null;){if(n=e[Wt])return n;e=Tp(e)}return t}e=n,n=e.parentNode}return null}function ro(e){return e=e[Wt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(w(33))}function ua(e){return e[Ts]||null}var Ac=[],Qr=-1;function qn(e){return{current:e}}function ee(e){0>Qr||(e.current=Ac[Qr],Ac[Qr]=null,Qr--)}function q(e,t){Qr++,Ac[Qr]=e.current,e.current=t}var zn={},je=qn(zn),Je=qn(!1),vr=zn;function ci(e,t){var n=e.type.contextTypes;if(!n)return zn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(e){return e=e.childContextTypes,e!=null}function _l(){ee(Je),ee(je)}function Ip(e,t,n){if(je.current!==zn)throw Error(w(168));q(je,t),q(Je,n)}function O_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(w(108,pw(e)||"Unknown",i));return oe({},n,r)}function vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zn,vr=je.current,q(je,e),q(Je,Je.current),!0}function kp(e,t,n){var r=e.stateNode;if(!r)throw Error(w(169));n?(e=O_(e,t,vr),r.__reactInternalMemoizedMergedChildContext=e,ee(Je),ee(je),q(je,e)):ee(Je),q(Je,n)}var tn=null,ca=!1,Ru=!1;function L_(e){tn===null?tn=[e]:tn.push(e)}function AE(e){ca=!0,L_(e)}function Xn(){if(!Ru&&tn!==null){Ru=!0;var e=0,t=Q;try{var n=tn;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tn=null,ca=!1}catch(i){throw tn!==null&&(tn=tn.slice(e+1)),s_(Yh,Xn),i}finally{Q=t,Ru=!1}}return null}var Gr=[],Kr=0,yl=null,wl=0,mt=[],_t=0,yr=null,nn=1,rn="";function rr(e,t){Gr[Kr++]=wl,Gr[Kr++]=yl,yl=e,wl=t}function M_(e,t,n){mt[_t++]=nn,mt[_t++]=rn,mt[_t++]=yr,yr=e;var r=nn;e=rn;var i=32-Mt(r)-1;r&=~(1<<i),n+=1;var s=32-Mt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,nn=1<<32-Mt(t)+i|n<<i|r,rn=s+e}else nn=1<<s|n<<i|r,rn=e}function id(e){e.return!==null&&(rr(e,1),M_(e,1,0))}function sd(e){for(;e===yl;)yl=Gr[--Kr],Gr[Kr]=null,wl=Gr[--Kr],Gr[Kr]=null;for(;e===yr;)yr=mt[--_t],mt[_t]=null,rn=mt[--_t],mt[_t]=null,nn=mt[--_t],mt[_t]=null}var ut=null,lt=null,te=!1,Ot=null;function F_(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Np(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,lt=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yr!==null?{id:nn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ut=e,lt=null,!0):!1;default:return!1}}function Dc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oc(e){if(te){var t=lt;if(t){var n=t;if(!Np(e,t)){if(Dc(e))throw Error(w(418));t=An(n.nextSibling);var r=ut;t&&Np(e,t)?F_(r,n):(e.flags=e.flags&-4097|2,te=!1,ut=e)}}else{if(Dc(e))throw Error(w(418));e.flags=e.flags&-4097|2,te=!1,ut=e}}}function Pp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Uo(e){if(e!==ut)return!1;if(!te)return Pp(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pc(e.type,e.memoizedProps)),t&&(t=lt)){if(Dc(e))throw $_(),Error(w(418));for(;t;)F_(e,t),t=An(t.nextSibling)}if(Pp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){lt=An(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=ut?An(e.stateNode.nextSibling):null;return!0}function $_(){for(var e=lt;e;)e=An(e.nextSibling)}function hi(){lt=ut=null,te=!1}function od(e){Ot===null?Ot=[e]:Ot.push(e)}var DE=mn.ReactCurrentBatchConfig;function At(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var El=qn(null),Cl=null,Yr=null,ld=null;function ad(){ld=Yr=Cl=null}function ud(e){var t=El.current;ee(El),e._currentValue=t}function Lc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ri(e,t){Cl=e,ld=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(ld!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(Cl===null)throw Error(w(308));Yr=e,Cl.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var ar=null;function cd(e){ar===null?ar=[e]:ar.push(e)}function U_(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,cd(t)):(n.next=i.next,i.next=n),t.interleaved=n,dn(e,r)}function dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wn=!1;function hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function B_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,dn(e,n)}return i=r.interleaved,i===null?(t.next=t,cd(r)):(t.next=i.next,i.next=t),r.interleaved=t,dn(e,n)}function tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qh(e,n)}}function Rp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Sl(e,t,n,r){var i=e.updateQueue;wn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,c=u=a=null,l=s;do{var d=l.lane,g=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,v=l;switch(d=t,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){h=_.call(g,h,d);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,d=typeof _=="function"?_.call(g,h,d):_,d==null)break e;h=oe({},h,d);break e;case 2:wn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=h):c=c.next=g,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Er|=o,e.lanes=o,e.memoizedState=h}}function xp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(w(191,i));i.call(r)}}}var j_=new Um.Component().refs;function Mc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return(e=e._reactInternals)?xr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=be(),i=Ln(e),s=ln(r,i);s.payload=t,n!=null&&(s.callback=n),t=Dn(e,s,i),t!==null&&(Ft(t,e,i,r),tl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=be(),i=Ln(e),s=ln(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Dn(e,s,i),t!==null&&(Ft(t,e,i,r),tl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=be(),r=Ln(e),i=ln(n,r);i.tag=2,t!=null&&(i.callback=t),t=Dn(e,i,r),t!==null&&(Ft(t,e,r,n),tl(t,e,r))}};function Ap(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Es(n,r)||!Es(i,s):!0}function z_(e,t,n){var r=!1,i=zn,s=t.contextType;return typeof s=="object"&&s!==null?s=Tt(s):(i=Ze(t)?vr:je.current,r=t.contextTypes,s=(r=r!=null)?ci(e,i):zn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Dp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function Fc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=j_,hd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Tt(s):(s=Ze(t)?vr:je.current,i.context=ci(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Mc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),Sl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Bi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(w(309));var r=n.stateNode}if(!r)throw Error(w(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===j_&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(w(284));if(!n._owner)throw Error(w(290,e))}return e}function Bo(e,t){throw e=Object.prototype.toString.call(t),Error(w(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Op(e){var t=e._init;return t(e._payload)}function W_(e){function t(p,f){if(e){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=Mn(p,f),p.index=0,p.sibling=null,p}function s(p,f,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,m,y){return f===null||f.tag!==6?(f=Fu(m,p.mode,y),f.return=p,f):(f=i(f,m),f.return=p,f)}function a(p,f,m,y){var S=m.type;return S===zr?c(p,f,m.props.children,y,m.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===yn&&Op(S)===f.type)?(y=i(f,m.props),y.ref=Bi(p,f,m),y.return=p,y):(y=ll(m.type,m.key,m.props,null,p.mode,y),y.ref=Bi(p,f,m),y.return=p,y)}function u(p,f,m,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=$u(m,p.mode,y),f.return=p,f):(f=i(f,m.children||[]),f.return=p,f)}function c(p,f,m,y,S){return f===null||f.tag!==7?(f=pr(m,p.mode,y,S),f.return=p,f):(f=i(f,m),f.return=p,f)}function h(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Fu(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Po:return m=ll(f.type,f.key,f.props,null,p.mode,m),m.ref=Bi(p,null,f),m.return=p,m;case jr:return f=$u(f,p.mode,m),f.return=p,f;case yn:var y=f._init;return h(p,y(f._payload),m)}if(Yi(f)||Li(f))return f=pr(f,p.mode,m,null),f.return=p,f;Bo(p,f)}return null}function d(p,f,m,y){var S=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(p,f,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Po:return m.key===S?a(p,f,m,y):null;case jr:return m.key===S?u(p,f,m,y):null;case yn:return S=m._init,d(p,f,S(m._payload),y)}if(Yi(m)||Li(m))return S!==null?null:c(p,f,m,y,null);Bo(p,m)}return null}function g(p,f,m,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(m)||null,l(f,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Po:return p=p.get(y.key===null?m:y.key)||null,a(f,p,y,S);case jr:return p=p.get(y.key===null?m:y.key)||null,u(f,p,y,S);case yn:var P=y._init;return g(p,f,m,P(y._payload),S)}if(Yi(y)||Li(y))return p=p.get(m)||null,c(f,p,y,S,null);Bo(f,y)}return null}function _(p,f,m,y){for(var S=null,P=null,R=f,x=f=0,ue=null;R!==null&&x<m.length;x++){R.index>x?(ue=R,R=null):ue=R.sibling;var j=d(p,R,m[x],y);if(j===null){R===null&&(R=ue);break}e&&R&&j.alternate===null&&t(p,R),f=s(j,f,x),P===null?S=j:P.sibling=j,P=j,R=ue}if(x===m.length)return n(p,R),te&&rr(p,x),S;if(R===null){for(;x<m.length;x++)R=h(p,m[x],y),R!==null&&(f=s(R,f,x),P===null?S=R:P.sibling=R,P=R);return te&&rr(p,x),S}for(R=r(p,R);x<m.length;x++)ue=g(R,p,x,m[x],y),ue!==null&&(e&&ue.alternate!==null&&R.delete(ue.key===null?x:ue.key),f=s(ue,f,x),P===null?S=ue:P.sibling=ue,P=ue);return e&&R.forEach(function(Pt){return t(p,Pt)}),te&&rr(p,x),S}function v(p,f,m,y){var S=Li(m);if(typeof S!="function")throw Error(w(150));if(m=S.call(m),m==null)throw Error(w(151));for(var P=S=null,R=f,x=f=0,ue=null,j=m.next();R!==null&&!j.done;x++,j=m.next()){R.index>x?(ue=R,R=null):ue=R.sibling;var Pt=d(p,R,j.value,y);if(Pt===null){R===null&&(R=ue);break}e&&R&&Pt.alternate===null&&t(p,R),f=s(Pt,f,x),P===null?S=Pt:P.sibling=Pt,P=Pt,R=ue}if(j.done)return n(p,R),te&&rr(p,x),S;if(R===null){for(;!j.done;x++,j=m.next())j=h(p,j.value,y),j!==null&&(f=s(j,f,x),P===null?S=j:P.sibling=j,P=j);return te&&rr(p,x),S}for(R=r(p,R);!j.done;x++,j=m.next())j=g(R,p,x,j.value,y),j!==null&&(e&&j.alternate!==null&&R.delete(j.key===null?x:j.key),f=s(j,f,x),P===null?S=j:P.sibling=j,P=j);return e&&R.forEach(function(Di){return t(p,Di)}),te&&rr(p,x),S}function I(p,f,m,y){if(typeof m=="object"&&m!==null&&m.type===zr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Po:e:{for(var S=m.key,P=f;P!==null;){if(P.key===S){if(S=m.type,S===zr){if(P.tag===7){n(p,P.sibling),f=i(P,m.props.children),f.return=p,p=f;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===yn&&Op(S)===P.type){n(p,P.sibling),f=i(P,m.props),f.ref=Bi(p,P,m),f.return=p,p=f;break e}n(p,P);break}else t(p,P);P=P.sibling}m.type===zr?(f=pr(m.props.children,p.mode,y,m.key),f.return=p,p=f):(y=ll(m.type,m.key,m.props,null,p.mode,y),y.ref=Bi(p,f,m),y.return=p,p=y)}return o(p);case jr:e:{for(P=m.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=i(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=$u(m,p.mode,y),f.return=p,p=f}return o(p);case yn:return P=m._init,I(p,f,P(m._payload),y)}if(Yi(m))return _(p,f,m,y);if(Li(m))return v(p,f,m,y);Bo(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,m),f.return=p,p=f):(n(p,f),f=Fu(m,p.mode,y),f.return=p,p=f),o(p)):n(p,f)}return I}var di=W_(!0),V_=W_(!1),io={},Gt=qn(io),Is=qn(io),ks=qn(io);function ur(e){if(e===io)throw Error(w(174));return e}function dd(e,t){switch(q(ks,t),q(Is,e),q(Gt,io),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pc(t,e)}ee(Gt),q(Gt,t)}function fi(){ee(Gt),ee(Is),ee(ks)}function b_(e){ur(ks.current);var t=ur(Gt.current),n=pc(t,e.type);t!==n&&(q(Is,e),q(Gt,n))}function fd(e){Is.current===e&&(ee(Gt),ee(Is))}var re=qn(0);function Tl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xu=[];function pd(){for(var e=0;e<xu.length;e++)xu[e]._workInProgressVersionPrimary=null;xu.length=0}var nl=mn.ReactCurrentDispatcher,Au=mn.ReactCurrentBatchConfig,wr=0,se=null,pe=null,we=null,Il=!1,ss=!1,Ns=0,OE=0;function Le(){throw Error(w(321))}function gd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function md(e,t,n,r,i,s){if(wr=s,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nl.current=e===null||e.memoizedState===null?$E:UE,e=n(r,i),ss){s=0;do{if(ss=!1,Ns=0,25<=s)throw Error(w(301));s+=1,we=pe=null,t.updateQueue=null,nl.current=BE,e=n(r,i)}while(ss)}if(nl.current=kl,t=pe!==null&&pe.next!==null,wr=0,we=pe=se=null,Il=!1,t)throw Error(w(300));return e}function _d(){var e=Ns!==0;return Ns=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?se.memoizedState=we=e:we=we.next=e,we}function It(){if(pe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=we===null?se.memoizedState:we.next;if(t!==null)we=t,pe=e;else{if(e===null)throw Error(w(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},we===null?se.memoizedState=we=e:we=we.next=e}return we}function Ps(e,t){return typeof t=="function"?t(e):t}function Du(e){var t=It(),n=t.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=e;var r=pe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((wr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,se.lanes|=c,Er|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Ut(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,se.lanes|=s,Er|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ou(e){var t=It(),n=t.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ut(s,t.memoizedState)||(qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function H_(){}function Q_(e,t){var n=se,r=It(),i=t(),s=!Ut(r.memoizedState,i);if(s&&(r.memoizedState=i,qe=!0),r=r.queue,vd(Y_.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Rs(9,K_.bind(null,n,r,i,t),void 0,null),Te===null)throw Error(w(349));wr&30||G_(n,t,i)}return i}function G_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function K_(e,t,n,r){t.value=n,t.getSnapshot=r,q_(t)&&X_(e)}function Y_(e,t,n){return n(function(){q_(t)&&X_(e)})}function q_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function X_(e){var t=dn(e,1);t!==null&&Ft(t,e,1,-1)}function Lp(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:e},t.queue=e,e=e.dispatch=FE.bind(null,se,e),[t.memoizedState,e]}function Rs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function J_(){return It().memoizedState}function rl(e,t,n,r){var i=zt();se.flags|=e,i.memoizedState=Rs(1|t,n,void 0,r===void 0?null:r)}function da(e,t,n,r){var i=It();r=r===void 0?null:r;var s=void 0;if(pe!==null){var o=pe.memoizedState;if(s=o.destroy,r!==null&&gd(r,o.deps)){i.memoizedState=Rs(t,n,s,r);return}}se.flags|=e,i.memoizedState=Rs(1|t,n,s,r)}function Mp(e,t){return rl(8390656,8,e,t)}function vd(e,t){return da(2048,8,e,t)}function Z_(e,t){return da(4,2,e,t)}function ev(e,t){return da(4,4,e,t)}function tv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nv(e,t,n){return n=n!=null?n.concat([e]):null,da(4,4,tv.bind(null,t,e),n)}function yd(){}function rv(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function iv(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sv(e,t,n){return wr&21?(Ut(n,t)||(n=a_(),se.lanes|=n,Er|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function LE(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=Au.transition;Au.transition={};try{e(!1),t()}finally{Q=n,Au.transition=r}}function ov(){return It().memoizedState}function ME(e,t,n){var r=Ln(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lv(e))av(t,n);else if(n=U_(e,t,n,r),n!==null){var i=be();Ft(n,e,r,i),uv(n,t,r)}}function FE(e,t,n){var r=Ln(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lv(e))av(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ut(l,o)){var a=t.interleaved;a===null?(i.next=i,cd(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=U_(e,t,i,r),n!==null&&(i=be(),Ft(n,e,r,i),uv(n,t,r))}}function lv(e){var t=e.alternate;return e===se||t!==null&&t===se}function av(e,t){ss=Il=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qh(e,n)}}var kl={readContext:Tt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},$E={readContext:Tt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Mp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,rl(4194308,4,tv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rl(4194308,4,e,t)},useInsertionEffect:function(e,t){return rl(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ME.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:Lp,useDebugValue:yd,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=Lp(!1),t=e[0];return e=LE.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,i=zt();if(te){if(n===void 0)throw Error(w(407));n=n()}else{if(n=t(),Te===null)throw Error(w(349));wr&30||G_(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Mp(Y_.bind(null,r,s,e),[e]),r.flags|=2048,Rs(9,K_.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=zt(),t=Te.identifierPrefix;if(te){var n=rn,r=nn;n=(r&~(1<<32-Mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ns++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=OE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},UE={readContext:Tt,useCallback:rv,useContext:Tt,useEffect:vd,useImperativeHandle:nv,useInsertionEffect:Z_,useLayoutEffect:ev,useMemo:iv,useReducer:Du,useRef:J_,useState:function(){return Du(Ps)},useDebugValue:yd,useDeferredValue:function(e){var t=It();return sv(t,pe.memoizedState,e)},useTransition:function(){var e=Du(Ps)[0],t=It().memoizedState;return[e,t]},useMutableSource:H_,useSyncExternalStore:Q_,useId:ov,unstable_isNewReconciler:!1},BE={readContext:Tt,useCallback:rv,useContext:Tt,useEffect:vd,useImperativeHandle:nv,useInsertionEffect:Z_,useLayoutEffect:ev,useMemo:iv,useReducer:Ou,useRef:J_,useState:function(){return Ou(Ps)},useDebugValue:yd,useDeferredValue:function(e){var t=It();return pe===null?t.memoizedState=e:sv(t,pe.memoizedState,e)},useTransition:function(){var e=Ou(Ps)[0],t=It().memoizedState;return[e,t]},useMutableSource:H_,useSyncExternalStore:Q_,useId:ov,unstable_isNewReconciler:!1};function pi(e,t){try{var n="",r=t;do n+=fw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Lu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $c(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jE=typeof WeakMap=="function"?WeakMap:Map;function cv(e,t,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pl||(Pl=!0,Gc=r),$c(e,t)},n}function hv(e,t,n){n=ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){$c(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$c(e,t),typeof r!="function"&&(On===null?On=new Set([this]):On.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Fp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jE;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=eC.bind(null,e,t,n),t.then(e,e))}function $p(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Up(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ln(-1,1),t.tag=2,Dn(n,t,1))),n.lanes|=1),e)}var zE=mn.ReactCurrentOwner,qe=!1;function ze(e,t,n,r){t.child=e===null?V_(t,null,n,r):di(t,e.child,n,r)}function Bp(e,t,n,r,i){n=n.render;var s=t.ref;return ri(t,i),r=md(e,t,n,r,s,i),n=_d(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fn(e,t,i)):(te&&n&&id(t),t.flags|=1,ze(e,t,r,i),t.child)}function jp(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Nd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,dv(e,t,s,r,i)):(e=ll(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Es,n(o,r)&&e.ref===t.ref)return fn(e,t,i)}return t.flags|=1,e=Mn(s,r),e.ref=t.ref,e.return=t,t.child=e}function dv(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Es(s,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,fn(e,t,i)}return Uc(e,t,n,r,i)}function fv(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Xr,rt),rt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(Xr,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,q(Xr,rt),rt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,q(Xr,rt),rt|=r;return ze(e,t,i,n),t.child}function pv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uc(e,t,n,r,i){var s=Ze(n)?vr:je.current;return s=ci(t,s),ri(t,i),n=md(e,t,n,r,s,i),r=_d(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fn(e,t,i)):(te&&r&&id(t),t.flags|=1,ze(e,t,n,i),t.child)}function zp(e,t,n,r,i){if(Ze(n)){var s=!0;vl(t)}else s=!1;if(ri(t,i),t.stateNode===null)il(e,t),z_(t,n,r),Fc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=Ze(n)?vr:je.current,u=ci(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Dp(t,o,r,u),wn=!1;var d=t.memoizedState;o.state=d,Sl(t,r,o,i),a=t.memoizedState,l!==r||d!==a||Je.current||wn?(typeof c=="function"&&(Mc(t,n,c,r),a=t.memoizedState),(l=wn||Ap(t,n,l,r,d,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,B_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:At(t.type,l),o.props=u,h=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Tt(a):(a=Ze(n)?vr:je.current,a=ci(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||d!==a)&&Dp(t,o,r,a),wn=!1,d=t.memoizedState,o.state=d,Sl(t,r,o,i);var _=t.memoizedState;l!==h||d!==_||Je.current||wn?(typeof g=="function"&&(Mc(t,n,g,r),_=t.memoizedState),(u=wn||Ap(t,n,u,r,d,_,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Bc(e,t,n,r,s,i)}function Bc(e,t,n,r,i,s){pv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&kp(t,n,!1),fn(e,t,s);r=t.stateNode,zE.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=di(t,e.child,null,s),t.child=di(t,null,l,s)):ze(e,t,l,s),t.memoizedState=r.state,i&&kp(t,n,!0),t.child}function gv(e){var t=e.stateNode;t.pendingContext?Ip(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ip(e,t.context,!1),dd(e,t.containerInfo)}function Wp(e,t,n,r,i){return hi(),od(i),t.flags|=256,ze(e,t,n,r),t.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function zc(e){return{baseLanes:e,cachePool:null,transitions:null}}function mv(e,t,n){var r=t.pendingProps,i=re.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),q(re,i&1),e===null)return Oc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ga(o,r,0,null),e=pr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zc(n),t.memoizedState=jc,e):wd(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return WE(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Mn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Mn(l,s):(s=pr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?zc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=jc,r}return s=e.child,e=s.sibling,r=Mn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wd(e,t){return t=ga({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jo(e,t,n,r){return r!==null&&od(r),di(t,e.child,null,n),e=wd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WE(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Lu(Error(w(422))),jo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=ga({mode:"visible",children:r.children},i,0,null),s=pr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&di(t,e.child,null,o),t.child.memoizedState=zc(o),t.memoizedState=jc,s);if(!(t.mode&1))return jo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(w(419)),r=Lu(s,r,void 0),jo(e,t,o,r)}if(l=(o&e.childLanes)!==0,qe||l){if(r=Te,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,dn(e,i),Ft(r,e,i,-1))}return kd(),r=Lu(Error(w(421))),jo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=tC.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,lt=An(i.nextSibling),ut=t,te=!0,Ot=null,e!==null&&(mt[_t++]=nn,mt[_t++]=rn,mt[_t++]=yr,nn=e.id,rn=e.overflow,yr=t),t=wd(t,r.children),t.flags|=4096,t)}function Vp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lc(e.return,t,n)}function Mu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _v(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ze(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vp(e,n,t);else if(e.tag===19)Vp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(re,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Tl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Mu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Tl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Mu(t,!0,n,null,s);break;case"together":Mu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function il(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Er|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(w(153));if(t.child!==null){for(e=t.child,n=Mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function VE(e,t,n){switch(t.tag){case 3:gv(t),hi();break;case 5:b_(t);break;case 1:Ze(t.type)&&vl(t);break;case 4:dd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;q(El,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?mv(e,t,n):(q(re,re.current&1),e=fn(e,t,n),e!==null?e.sibling:null);q(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _v(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),q(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,fv(e,t,n)}return fn(e,t,n)}var vv,Wc,yv,wv;vv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wc=function(){};yv=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ur(Gt.current);var s=null;switch(n){case"input":i=cc(e,i),r=cc(e,r),s=[];break;case"select":i=oe({},i,{value:void 0}),r=oe({},r,{value:void 0}),s=[];break;case"textarea":i=fc(e,i),r=fc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ml)}gc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ps.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ps.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&J("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};wv=function(e,t,n,r){n!==r&&(t.flags|=4)};function ji(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bE(e,t,n){var r=t.pendingProps;switch(sd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Ze(t.type)&&_l(),Me(t),null;case 3:return r=t.stateNode,fi(),ee(Je),ee(je),pd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Uo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(qc(Ot),Ot=null))),Wc(e,t),Me(t),null;case 5:fd(t);var i=ur(ks.current);if(n=t.type,e!==null&&t.stateNode!=null)yv(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(w(166));return Me(t),null}if(e=ur(Gt.current),Uo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Wt]=t,r[Ts]=s,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(i=0;i<Xi.length;i++)J(Xi[i],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":Jf(r,s),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},J("invalid",r);break;case"textarea":ep(r,s),J("invalid",r)}gc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&$o(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$o(r.textContent,l,e),i=["children",""+l]):ps.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&J("scroll",r)}switch(n){case"input":Ro(r),Zf(r,s,!0);break;case"textarea":Ro(r),tp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ml)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Wt]=t,e[Ts]=r,vv(e,t,!1,!1),t.stateNode=e;e:{switch(o=mc(n,r),n){case"dialog":J("cancel",e),J("close",e),i=r;break;case"iframe":case"object":case"embed":J("load",e),i=r;break;case"video":case"audio":for(i=0;i<Xi.length;i++)J(Xi[i],e);i=r;break;case"source":J("error",e),i=r;break;case"img":case"image":case"link":J("error",e),J("load",e),i=r;break;case"details":J("toggle",e),i=r;break;case"input":Jf(e,r),i=cc(e,r),J("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=oe({},r,{value:void 0}),J("invalid",e);break;case"textarea":ep(e,r),i=fc(e,r),J("invalid",e);break;default:i=r}gc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?qm(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Km(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&gs(e,a):typeof a=="number"&&gs(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ps.hasOwnProperty(s)?a!=null&&s==="onScroll"&&J("scroll",e):a!=null&&bh(e,s,a,o))}switch(n){case"input":Ro(e),Zf(e,r,!1);break;case"textarea":Ro(e),tp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+jn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Zr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Zr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)wv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(w(166));if(n=ur(ks.current),ur(Gt.current),Uo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wt]=t,(s=r.nodeValue!==n)&&(e=ut,e!==null))switch(e.tag){case 3:$o(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$o(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wt]=t,t.stateNode=r}return Me(t),null;case 13:if(ee(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&lt!==null&&t.mode&1&&!(t.flags&128))$_(),hi(),t.flags|=98560,s=!1;else if(s=Uo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(w(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(w(317));s[Wt]=t}else hi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),s=!1}else Ot!==null&&(qc(Ot),Ot=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?me===0&&(me=3):kd())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return fi(),Wc(e,t),e===null&&Cs(t.stateNode.containerInfo),Me(t),null;case 10:return ud(t.type._context),Me(t),null;case 17:return Ze(t.type)&&_l(),Me(t),null;case 19:if(ee(re),s=t.memoizedState,s===null)return Me(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)ji(s,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Tl(e),o!==null){for(t.flags|=128,ji(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(re,re.current&1|2),t.child}e=e.sibling}s.tail!==null&&he()>gi&&(t.flags|=128,r=!0,ji(s,!1),t.lanes=4194304)}else{if(!r)if(e=Tl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ji(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!te)return Me(t),null}else 2*he()-s.renderingStartTime>gi&&n!==1073741824&&(t.flags|=128,r=!0,ji(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=he(),t.sibling=null,n=re.current,q(re,r?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return Id(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rt&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(w(156,t.tag))}function HE(e,t){switch(sd(t),t.tag){case 1:return Ze(t.type)&&_l(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fi(),ee(Je),ee(je),pd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fd(t),null;case 13:if(ee(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(w(340));hi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(re),null;case 4:return fi(),null;case 10:return ud(t.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var zo=!1,Fe=!1,QE=typeof WeakSet=="function"?WeakSet:Set,T=null;function qr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(e,t,r)}else n.current=null}function Vc(e,t,n){try{n()}catch(r){le(e,t,r)}}var bp=!1;function GE(e,t){if(kc=fl,e=T_(),rd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===e)break t;if(d===n&&++u===i&&(l=o),d===s&&++c===r&&(a=o),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nc={focusedElem:e,selectionRange:n},fl=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,I=_.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:At(t.type,v),I);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(y){le(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return _=bp,bp=!1,_}function os(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vc(t,n,s)}i=i.next}while(i!==r)}}function fa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ev(e){var t=e.alternate;t!==null&&(e.alternate=null,Ev(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[Ts],delete t[xc],delete t[RE],delete t[xE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cv(e){return e.tag===5||e.tag===3||e.tag===4}function Hp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ml));else if(r!==4&&(e=e.child,e!==null))for(Hc(e,t,n),e=e.sibling;e!==null;)Hc(e,t,n),e=e.sibling}function Qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Qc(e,t,n),e=e.sibling;e!==null;)Qc(e,t,n),e=e.sibling}var Re=null,Dt=!1;function _n(e,t,n){for(n=n.child;n!==null;)Sv(e,t,n),n=n.sibling}function Sv(e,t,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(sa,n)}catch{}switch(n.tag){case 5:Fe||qr(n,t);case 6:var r=Re,i=Dt;Re=null,_n(e,t,n),Re=r,Dt=i,Re!==null&&(Dt?(e=Re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(Dt?(e=Re,n=n.stateNode,e.nodeType===8?Pu(e.parentNode,n):e.nodeType===1&&Pu(e,n),ys(e)):Pu(Re,n.stateNode));break;case 4:r=Re,i=Dt,Re=n.stateNode.containerInfo,Dt=!0,_n(e,t,n),Re=r,Dt=i;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vc(n,t,o),i=i.next}while(i!==r)}_n(e,t,n);break;case 1:if(!Fe&&(qr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){le(n,t,l)}_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,_n(e,t,n),Fe=r):_n(e,t,n);break;default:_n(e,t,n)}}function Qp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new QE),t.forEach(function(r){var i=nC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Re=l.stateNode,Dt=!1;break e;case 3:Re=l.stateNode.containerInfo,Dt=!0;break e;case 4:Re=l.stateNode.containerInfo,Dt=!0;break e}l=l.return}if(Re===null)throw Error(w(160));Sv(s,o,i),Re=null,Dt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){le(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tv(t,e),t=t.sibling}function Tv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),jt(e),r&4){try{os(3,e,e.return),fa(3,e)}catch(v){le(e,e.return,v)}try{os(5,e,e.return)}catch(v){le(e,e.return,v)}}break;case 1:Rt(t,e),jt(e),r&512&&n!==null&&qr(n,n.return);break;case 5:if(Rt(t,e),jt(e),r&512&&n!==null&&qr(n,n.return),e.flags&32){var i=e.stateNode;try{gs(i,"")}catch(v){le(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Hm(i,s),mc(l,o);var u=mc(l,s);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?qm(i,h):c==="dangerouslySetInnerHTML"?Km(i,h):c==="children"?gs(i,h):bh(i,c,h,u)}switch(l){case"input":hc(i,s);break;case"textarea":Qm(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Zr(i,!!s.multiple,g,!1):d!==!!s.multiple&&(s.defaultValue!=null?Zr(i,!!s.multiple,s.defaultValue,!0):Zr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ts]=s}catch(v){le(e,e.return,v)}}break;case 6:if(Rt(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(w(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){le(e,e.return,v)}}break;case 3:if(Rt(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ys(t.containerInfo)}catch(v){le(e,e.return,v)}break;case 4:Rt(t,e),jt(e);break;case 13:Rt(t,e),jt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sd=he())),r&4&&Qp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(u=Fe)||c,Rt(t,e),Fe=u):Rt(t,e),jt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(T=e,c=e.child;c!==null;){for(h=T=c;T!==null;){switch(d=T,g=d.child,d.tag){case 0:case 11:case 14:case 15:os(4,d,d.return);break;case 1:qr(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(v){le(r,n,v)}}break;case 5:qr(d,d.return);break;case 22:if(d.memoizedState!==null){Kp(h);continue}}g!==null?(g.return=d,T=g):Kp(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Ym("display",o))}catch(v){le(e,e.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){le(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rt(t,e),jt(e),r&4&&Qp(e);break;case 21:break;default:Rt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cv(n)){var r=n;break e}n=n.return}throw Error(w(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gs(i,""),r.flags&=-33);var s=Hp(e);Qc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Hp(e);Hc(e,l,o);break;default:throw Error(w(161))}}catch(a){le(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function KE(e,t,n){T=e,Iv(e)}function Iv(e,t,n){for(var r=(e.mode&1)!==0;T!==null;){var i=T,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zo;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Fe;l=zo;var u=Fe;if(zo=o,(Fe=a)&&!u)for(T=i;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?Yp(i):a!==null?(a.return=o,T=a):Yp(i);for(;s!==null;)T=s,Iv(s),s=s.sibling;T=i,zo=l,Fe=u}Gp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,T=s):Gp(e)}}function Gp(e){for(;T!==null;){var t=T;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||fa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:At(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&xp(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ys(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}Fe||t.flags&512&&bc(t)}catch(d){le(t,t.return,d)}}if(t===e){T=null;break}if(n=t.sibling,n!==null){n.return=t.return,T=n;break}T=t.return}}function Kp(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var n=t.sibling;if(n!==null){n.return=t.return,T=n;break}T=t.return}}function Yp(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fa(4,t)}catch(a){le(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){le(t,i,a)}}var s=t.return;try{bc(t)}catch(a){le(t,s,a)}break;case 5:var o=t.return;try{bc(t)}catch(a){le(t,o,a)}}}catch(a){le(t,t.return,a)}if(t===e){T=null;break}var l=t.sibling;if(l!==null){l.return=t.return,T=l;break}T=t.return}}var YE=Math.ceil,Nl=mn.ReactCurrentDispatcher,Ed=mn.ReactCurrentOwner,St=mn.ReactCurrentBatchConfig,W=0,Te=null,fe=null,Ae=0,rt=0,Xr=qn(0),me=0,xs=null,Er=0,pa=0,Cd=0,ls=null,Ke=null,Sd=0,gi=1/0,en=null,Pl=!1,Gc=null,On=null,Wo=!1,Tn=null,Rl=0,as=0,Kc=null,sl=-1,ol=0;function be(){return W&6?he():sl!==-1?sl:sl=he()}function Ln(e){return e.mode&1?W&2&&Ae!==0?Ae&-Ae:DE.transition!==null?(ol===0&&(ol=a_()),ol):(e=Q,e!==0||(e=window.event,e=e===void 0?16:g_(e.type)),e):1}function Ft(e,t,n,r){if(50<as)throw as=0,Kc=null,Error(w(185));to(e,n,r),(!(W&2)||e!==Te)&&(e===Te&&(!(W&2)&&(pa|=n),me===4&&Cn(e,Ae)),et(e,r),n===1&&W===0&&!(t.mode&1)&&(gi=he()+500,ca&&Xn()))}function et(e,t){var n=e.callbackNode;Dw(e,t);var r=dl(e,e===Te?Ae:0);if(r===0)n!==null&&ip(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ip(n),t===1)e.tag===0?AE(qp.bind(null,e)):L_(qp.bind(null,e)),NE(function(){!(W&6)&&Xn()}),n=null;else{switch(u_(r)){case 1:n=Yh;break;case 4:n=o_;break;case 16:n=hl;break;case 536870912:n=l_;break;default:n=hl}n=Ov(n,kv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kv(e,t){if(sl=-1,ol=0,W&6)throw Error(w(327));var n=e.callbackNode;if(ii()&&e.callbackNode!==n)return null;var r=dl(e,e===Te?Ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xl(e,r);else{t=r;var i=W;W|=2;var s=Pv();(Te!==e||Ae!==t)&&(en=null,gi=he()+500,fr(e,t));do try{JE();break}catch(l){Nv(e,l)}while(!0);ad(),Nl.current=s,W=i,fe!==null?t=0:(Te=null,Ae=0,t=me)}if(t!==0){if(t===2&&(i=Ec(e),i!==0&&(r=i,t=Yc(e,i))),t===1)throw n=xs,fr(e,0),Cn(e,r),et(e,he()),n;if(t===6)Cn(e,r);else{if(i=e.current.alternate,!(r&30)&&!qE(i)&&(t=xl(e,r),t===2&&(s=Ec(e),s!==0&&(r=s,t=Yc(e,s))),t===1))throw n=xs,fr(e,0),Cn(e,r),et(e,he()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(w(345));case 2:ir(e,Ke,en);break;case 3:if(Cn(e,r),(r&130023424)===r&&(t=Sd+500-he(),10<t)){if(dl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){be(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Rc(ir.bind(null,e,Ke,en),t);break}ir(e,Ke,en);break;case 4:if(Cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Mt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YE(r/1960))-r,10<r){e.timeoutHandle=Rc(ir.bind(null,e,Ke,en),r);break}ir(e,Ke,en);break;case 5:ir(e,Ke,en);break;default:throw Error(w(329))}}}return et(e,he()),e.callbackNode===n?kv.bind(null,e):null}function Yc(e,t){var n=ls;return e.current.memoizedState.isDehydrated&&(fr(e,t).flags|=256),e=xl(e,t),e!==2&&(t=Ke,Ke=n,t!==null&&qc(t)),e}function qc(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function qE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ut(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t){for(t&=~Cd,t&=~pa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mt(t),r=1<<n;e[n]=-1,t&=~r}}function qp(e){if(W&6)throw Error(w(327));ii();var t=dl(e,0);if(!(t&1))return et(e,he()),null;var n=xl(e,t);if(e.tag!==0&&n===2){var r=Ec(e);r!==0&&(t=r,n=Yc(e,r))}if(n===1)throw n=xs,fr(e,0),Cn(e,t),et(e,he()),n;if(n===6)throw Error(w(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ir(e,Ke,en),et(e,he()),null}function Td(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(gi=he()+500,ca&&Xn())}}function Cr(e){Tn!==null&&Tn.tag===0&&!(W&6)&&ii();var t=W;W|=1;var n=St.transition,r=Q;try{if(St.transition=null,Q=1,e)return e()}finally{Q=r,St.transition=n,W=t,!(W&6)&&Xn()}}function Id(){rt=Xr.current,ee(Xr)}function fr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kE(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(sd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_l();break;case 3:fi(),ee(Je),ee(je),pd();break;case 5:fd(r);break;case 4:fi();break;case 13:ee(re);break;case 19:ee(re);break;case 10:ud(r.type._context);break;case 22:case 23:Id()}n=n.return}if(Te=e,fe=e=Mn(e.current,null),Ae=rt=t,me=0,xs=null,Cd=pa=Er=0,Ke=ls=null,ar!==null){for(t=0;t<ar.length;t++)if(n=ar[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ar=null}return e}function Nv(e,t){do{var n=fe;try{if(ad(),nl.current=kl,Il){for(var r=se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Il=!1}if(wr=0,we=pe=se=null,ss=!1,Ns=0,Ed.current=null,n===null||n.return===null){me=1,xs=t,fe=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ae,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=$p(o);if(g!==null){g.flags&=-257,Up(g,o,l,s,t),g.mode&1&&Fp(s,u,t),t=g,a=u;var _=t.updateQueue;if(_===null){var v=new Set;v.add(a),t.updateQueue=v}else _.add(a);break e}else{if(!(t&1)){Fp(s,u,t),kd();break e}a=Error(w(426))}}else if(te&&l.mode&1){var I=$p(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Up(I,o,l,s,t),od(pi(a,l));break e}}s=a=pi(a,l),me!==4&&(me=2),ls===null?ls=[s]:ls.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=cv(s,a,t);Rp(s,p);break e;case 1:l=a;var f=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(On===null||!On.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var y=hv(s,l,t);Rp(s,y);break e}}s=s.return}while(s!==null)}xv(n)}catch(S){t=S,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function Pv(){var e=Nl.current;return Nl.current=kl,e===null?kl:e}function kd(){(me===0||me===3||me===2)&&(me=4),Te===null||!(Er&268435455)&&!(pa&268435455)||Cn(Te,Ae)}function xl(e,t){var n=W;W|=2;var r=Pv();(Te!==e||Ae!==t)&&(en=null,fr(e,t));do try{XE();break}catch(i){Nv(e,i)}while(!0);if(ad(),W=n,Nl.current=r,fe!==null)throw Error(w(261));return Te=null,Ae=0,me}function XE(){for(;fe!==null;)Rv(fe)}function JE(){for(;fe!==null&&!Sw();)Rv(fe)}function Rv(e){var t=Dv(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?xv(e):fe=t,Ed.current=null}function xv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=HE(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,fe=null;return}}else if(n=bE(n,t,rt),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);me===0&&(me=5)}function ir(e,t,n){var r=Q,i=St.transition;try{St.transition=null,Q=1,ZE(e,t,n,r)}finally{St.transition=i,Q=r}return null}function ZE(e,t,n,r){do ii();while(Tn!==null);if(W&6)throw Error(w(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(w(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ow(e,s),e===Te&&(fe=Te=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wo||(Wo=!0,Ov(hl,function(){return ii(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=St.transition,St.transition=null;var o=Q;Q=1;var l=W;W|=4,Ed.current=null,GE(e,n),Tv(n,e),yE(Nc),fl=!!kc,Nc=kc=null,e.current=n,KE(n),Tw(),W=l,Q=o,St.transition=s}else e.current=n;if(Wo&&(Wo=!1,Tn=e,Rl=i),s=e.pendingLanes,s===0&&(On=null),Nw(n.stateNode),et(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pl)throw Pl=!1,e=Gc,Gc=null,e;return Rl&1&&e.tag!==0&&ii(),s=e.pendingLanes,s&1?e===Kc?as++:(as=0,Kc=e):as=0,Xn(),null}function ii(){if(Tn!==null){var e=u_(Rl),t=St.transition,n=Q;try{if(St.transition=null,Q=16>e?16:e,Tn===null)var r=!1;else{if(e=Tn,Tn=null,Rl=0,W&6)throw Error(w(331));var i=W;for(W|=4,T=e.current;T!==null;){var s=T,o=s.child;if(T.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(T=u;T!==null;){var c=T;switch(c.tag){case 0:case 11:case 15:os(8,c,s)}var h=c.child;if(h!==null)h.return=c,T=h;else for(;T!==null;){c=T;var d=c.sibling,g=c.return;if(Ev(c),c===u){T=null;break}if(d!==null){d.return=g,T=d;break}T=g}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var I=v.sibling;v.sibling=null,v=I}while(v!==null)}}T=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,T=o;else e:for(;T!==null;){if(s=T,s.flags&2048)switch(s.tag){case 0:case 11:case 15:os(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,T=p;break e}T=s.return}}var f=e.current;for(T=f;T!==null;){o=T;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,T=m;else e:for(o=f;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fa(9,l)}}catch(S){le(l,l.return,S)}if(l===o){T=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,T=y;break e}T=l.return}}if(W=i,Xn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(sa,e)}catch{}r=!0}return r}finally{Q=n,St.transition=t}}return!1}function Xp(e,t,n){t=pi(n,t),t=cv(e,t,1),e=Dn(e,t,1),t=be(),e!==null&&(to(e,1,t),et(e,t))}function le(e,t,n){if(e.tag===3)Xp(e,e,n);else for(;t!==null;){if(t.tag===3){Xp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){e=pi(n,e),e=hv(t,e,1),t=Dn(t,e,1),e=be(),t!==null&&(to(t,1,e),et(t,e));break}}t=t.return}}function eC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Ae&n)===n&&(me===4||me===3&&(Ae&130023424)===Ae&&500>he()-Sd?fr(e,0):Cd|=n),et(e,t)}function Av(e,t){t===0&&(e.mode&1?(t=Do,Do<<=1,!(Do&130023424)&&(Do=4194304)):t=1);var n=be();e=dn(e,t),e!==null&&(to(e,t,n),et(e,n))}function tC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Av(e,n)}function nC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(w(314))}r!==null&&r.delete(t),Av(e,n)}var Dv;Dv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,VE(e,t,n);qe=!!(e.flags&131072)}else qe=!1,te&&t.flags&1048576&&M_(t,wl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;il(e,t),e=t.pendingProps;var i=ci(t,je.current);ri(t,n),i=md(null,t,r,e,i,n);var s=_d();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(s=!0,vl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hd(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,Fc(t,r,e,n),t=Bc(null,t,r,!0,s,n)):(t.tag=0,te&&s&&id(t),ze(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(il(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=iC(r),e=At(r,e),i){case 0:t=Uc(null,t,r,e,n);break e;case 1:t=zp(null,t,r,e,n);break e;case 11:t=Bp(null,t,r,e,n);break e;case 14:t=jp(null,t,r,At(r.type,e),n);break e}throw Error(w(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),Uc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),zp(e,t,r,i,n);case 3:e:{if(gv(t),e===null)throw Error(w(387));r=t.pendingProps,s=t.memoizedState,i=s.element,B_(e,t),Sl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=pi(Error(w(423)),t),t=Wp(e,t,r,n,i);break e}else if(r!==i){i=pi(Error(w(424)),t),t=Wp(e,t,r,n,i);break e}else for(lt=An(t.stateNode.containerInfo.firstChild),ut=t,te=!0,Ot=null,n=V_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hi(),r===i){t=fn(e,t,n);break e}ze(e,t,r,n)}t=t.child}return t;case 5:return b_(t),e===null&&Oc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Pc(r,i)?o=null:s!==null&&Pc(r,s)&&(t.flags|=32),pv(e,t),ze(e,t,o,n),t.child;case 6:return e===null&&Oc(t),null;case 13:return mv(e,t,n);case 4:return dd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=di(t,null,r,n):ze(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),Bp(e,t,r,i,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,q(El,r._currentValue),r._currentValue=o,s!==null)if(Ut(s.value,o)){if(s.children===i.children&&!Je.current){t=fn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=ln(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Lc(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(w(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ze(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ri(t,n),i=Tt(i),r=r(i),t.flags|=1,ze(e,t,r,n),t.child;case 14:return r=t.type,i=At(r,t.pendingProps),i=At(r.type,i),jp(e,t,r,i,n);case 15:return dv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),il(e,t),t.tag=1,Ze(r)?(e=!0,vl(t)):e=!1,ri(t,n),z_(t,r,i),Fc(t,r,i,n),Bc(null,t,r,!0,e,n);case 19:return _v(e,t,n);case 22:return fv(e,t,n)}throw Error(w(156,t.tag))};function Ov(e,t){return s_(e,t)}function rC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,r){return new rC(e,t,n,r)}function Nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iC(e){if(typeof e=="function")return Nd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qh)return 11;if(e===Gh)return 14}return 2}function Mn(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ll(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Nd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zr:return pr(n.children,i,s,t);case Hh:o=8,i|=8;break;case oc:return e=wt(12,n,t,i|2),e.elementType=oc,e.lanes=s,e;case lc:return e=wt(13,n,t,i),e.elementType=lc,e.lanes=s,e;case ac:return e=wt(19,n,t,i),e.elementType=ac,e.lanes=s,e;case Wm:return ga(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jm:o=10;break e;case zm:o=9;break e;case Qh:o=11;break e;case Gh:o=14;break e;case yn:o=16,r=null;break e}throw Error(w(130,e==null?e:typeof e,""))}return t=wt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function pr(e,t,n,r){return e=wt(7,e,r,t),e.lanes=n,e}function ga(e,t,n,r){return e=wt(22,e,r,t),e.elementType=Wm,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function $u(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sC(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_u(0),this.expirationTimes=_u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_u(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pd(e,t,n,r,i,s,o,l,a){return e=new sC(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=wt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hd(s),e}function oC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lv(e){if(!e)return zn;e=e._reactInternals;e:{if(xr(e)!==e||e.tag!==1)throw Error(w(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(w(171))}if(e.tag===1){var n=e.type;if(Ze(n))return O_(e,n,t)}return t}function Mv(e,t,n,r,i,s,o,l,a){return e=Pd(n,r,!0,e,i,s,o,l,a),e.context=Lv(null),n=e.current,r=be(),i=Ln(n),s=ln(r,i),s.callback=t??null,Dn(n,s,i),e.current.lanes=i,to(e,i,r),et(e,r),e}function ma(e,t,n,r){var i=t.current,s=be(),o=Ln(i);return n=Lv(n),t.context===null?t.context=n:t.pendingContext=n,t=ln(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dn(i,t,o),e!==null&&(Ft(e,i,o,s),tl(e,i,o)),o}function Al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Rd(e,t){Jp(e,t),(e=e.alternate)&&Jp(e,t)}function lC(){return null}var Fv=typeof reportError=="function"?reportError:function(e){console.error(e)};function xd(e){this._internalRoot=e}_a.prototype.render=xd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(w(409));ma(e,t,null,null)};_a.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){ma(null,e,null,null)}),t[hn]=null}};function _a(e){this._internalRoot=e}_a.prototype.unstable_scheduleHydration=function(e){if(e){var t=d_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<En.length&&t!==0&&t<En[n].priority;n++);En.splice(n,0,e),n===0&&p_(e)}};function Ad(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function va(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zp(){}function aC(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Al(o);s.call(u)}}var o=Mv(t,r,e,0,null,!1,!1,"",Zp);return e._reactRootContainer=o,e[hn]=o.current,Cs(e.nodeType===8?e.parentNode:e),Cr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Al(a);l.call(u)}}var a=Pd(e,0,!1,null,null,!1,!1,"",Zp);return e._reactRootContainer=a,e[hn]=a.current,Cs(e.nodeType===8?e.parentNode:e),Cr(function(){ma(t,a,n,r)}),a}function ya(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Al(o);l.call(a)}}ma(t,o,e,i)}else o=aC(n,t,e,i,r);return Al(o)}c_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qi(t.pendingLanes);n!==0&&(qh(t,n|1),et(t,he()),!(W&6)&&(gi=he()+500,Xn()))}break;case 13:Cr(function(){var r=dn(e,1);if(r!==null){var i=be();Ft(r,e,1,i)}}),Rd(e,1)}};Xh=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var n=be();Ft(t,e,134217728,n)}Rd(e,134217728)}};h_=function(e){if(e.tag===13){var t=Ln(e),n=dn(e,t);if(n!==null){var r=be();Ft(n,e,t,r)}Rd(e,t)}};d_=function(){return Q};f_=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};vc=function(e,t,n){switch(t){case"input":if(hc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ua(r);if(!i)throw Error(w(90));bm(r),hc(r,i)}}}break;case"textarea":Qm(e,n);break;case"select":t=n.value,t!=null&&Zr(e,!!n.multiple,t,!1)}};Zm=Td;e_=Cr;var uC={usingClientEntryPoint:!1,Events:[ro,Hr,ua,Xm,Jm,Td]},zi={findFiberByHostInstance:lr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cC={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=r_(e),e===null?null:e.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||lC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{sa=Vo.inject(cC),Qt=Vo}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uC;ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ad(t))throw Error(w(200));return oC(e,t,null,n)};ft.createRoot=function(e,t){if(!Ad(e))throw Error(w(299));var n=!1,r="",i=Fv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Pd(e,1,!1,null,null,n,!1,r,i),e[hn]=t.current,Cs(e.nodeType===8?e.parentNode:e),new xd(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(w(188)):(e=Object.keys(e).join(","),Error(w(268,e)));return e=r_(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return Cr(e)};ft.hydrate=function(e,t,n){if(!va(t))throw Error(w(200));return ya(null,e,t,!0,n)};ft.hydrateRoot=function(e,t,n){if(!Ad(e))throw Error(w(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Fv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Mv(t,null,e,1,n??null,i,!1,s,o),e[hn]=t.current,Cs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new _a(t)};ft.render=function(e,t,n){if(!va(t))throw Error(w(200));return ya(null,e,t,!1,n)};ft.unmountComponentAtNode=function(e){if(!va(e))throw Error(w(40));return e._reactRootContainer?(Cr(function(){ya(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};ft.unstable_batchedUpdates=Td;ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!va(n))throw Error(w(200));if(e==null||e._reactInternals===void 0)throw Error(w(38));return ya(e,t,n,!1,r)};ft.version="18.2.0-next-9e3b772b8-20220608";function $v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($v)}catch(e){console.error(e)}}$v(),Mm.exports=ft;var hC=Mm.exports,eg=hC;ic.createRoot=eg.createRoot,ic.hydrateRoot=eg.hydrateRoot;/**
 * @remix-run/router v1.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},As.apply(this,arguments)}var In;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(In||(In={}));const tg="popstate";function dC(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=Ar(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Xc("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof s=="string"?s:Uv(s))}function r(i,s){wa(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return pC(t,n,r,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fC(){return Math.random().toString(36).substr(2,8)}function ng(e,t){return{usr:e.state,key:e.key,idx:t}}function Xc(e,t,n,r){return n===void 0&&(n=null),As({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ar(t):t,{state:n,key:t&&t.key||r||fC()})}function Uv(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ar(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pC(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=In.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(As({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){l=In.Pop;let I=c(),p=I==null?null:I-u;u=I,a&&a({action:l,location:v.location,delta:p})}function d(I,p){l=In.Push;let f=Xc(v.location,I,p);n&&n(f,I),u=c()+1;let m=ng(f,u),y=v.createHref(f);try{o.pushState(m,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(y)}s&&a&&a({action:l,location:v.location,delta:1})}function g(I,p){l=In.Replace;let f=Xc(v.location,I,p);n&&n(f,I),u=c();let m=ng(f,u),y=v.createHref(f);o.replaceState(m,"",y),s&&a&&a({action:l,location:v.location,delta:0})}function _(I){let p=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof I=="string"?I:Uv(I);return _e(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let v={get action(){return l},get location(){return e(i,o)},listen(I){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(tg,h),a=I,()=>{i.removeEventListener(tg,h),a=null}},createHref(I){return t(i,I)},createURL:_,encodeLocation(I){let p=_(I);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:g,go(I){return o.go(I)}};return v}var rg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rg||(rg={}));function gC(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ar(t):t,i=zv(r.pathname||"/",n);if(i==null)return null;let s=Bv(e);mC(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=IC(s[l],PC(i));return o}function Bv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(_e(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=gr([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(_e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Bv(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:SC(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of jv(s.path))i(s,o,a)}),t}function jv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=jv(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function mC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:TC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _C=/^:\w+$/,vC=3,yC=2,wC=1,EC=10,CC=-2,ig=e=>e==="*";function SC(e,t){let n=e.split("/"),r=n.length;return n.some(ig)&&(r+=CC),t&&(r+=yC),n.filter(i=>!ig(i)).reduce((i,s)=>i+(_C.test(s)?vC:s===""?wC:EC),r)}function TC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function IC(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=kC({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let h=l.route;s.push({params:r,pathname:gr([i,c.pathname]),pathnameBase:LC(gr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=gr([i,c.pathnameBase]))}return s}function kC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=NC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:g}=c;if(d==="*"){let v=l[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const _=l[h];return g&&!_?u[d]=void 0:u[d]=RC(_||"",d),u},{}),pathname:s,pathnameBase:o,pattern:e}}function NC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),wa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function PC(e){try{return decodeURI(e)}catch(t){return wa(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function RC(e,t){try{return decodeURIComponent(e)}catch(n){return wa(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function zv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function xC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ar(e):e;return{pathname:n?n.startsWith("/")?n:AC(n,t):t,search:MC(r),hash:FC(i)}}function AC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Uu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function OC(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ar(e):(i=As({},e),_e(!i.pathname||!i.pathname.includes("?"),Uu("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),Uu("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),Uu("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else if(r){let h=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h.pop();i.pathname=d.join("/")}l="/"+h.join("/")}else{let h=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}l=h>=0?t[h]:"/"}let a=xC(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const gr=e=>e.join("/").replace(/\/\/+/g,"/"),LC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $C(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Wv=["post","put","patch","delete"];new Set(Wv);const UC=["get",...Wv];new Set(UC);/**
 * React Router v6.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dl.apply(this,arguments)}const Dd=N.createContext(null),BC=N.createContext(null),Ea=N.createContext(null),Ca=N.createContext(null),Dr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Vv=N.createContext(null);function Sa(){return N.useContext(Ca)!=null}function bv(){return Sa()||_e(!1),N.useContext(Ca).location}function Hv(e){N.useContext(Ea).static||N.useLayoutEffect(e)}function jC(){let{isDataRoute:e}=N.useContext(Dr);return e?eS():zC()}function zC(){Sa()||_e(!1);let e=N.useContext(Dd),{basename:t,navigator:n}=N.useContext(Ea),{matches:r}=N.useContext(Dr),{pathname:i}=bv(),s=JSON.stringify(DC(r).map(a=>a.pathnameBase)),o=N.useRef(!1);return Hv(()=>{o.current=!0}),N.useCallback(function(a,u){if(u===void 0&&(u={}),!o.current)return;if(typeof a=="number"){n.go(a);return}let c=OC(a,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:gr([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}function WC(){let{matches:e}=N.useContext(Dr),t=e[e.length-1];return t?t.params:{}}function VC(e,t){return bC(e,t)}function bC(e,t,n){Sa()||_e(!1);let{navigator:r}=N.useContext(Ea),{matches:i}=N.useContext(Dr),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let a=bv(),u;if(t){var c;let v=typeof t=="string"?Ar(t):t;l==="/"||(c=v.pathname)!=null&&c.startsWith(l)||_e(!1),u=v}else u=a;let h=u.pathname||"/",d=l==="/"?h:h.slice(l.length)||"/",g=gC(e,{pathname:d}),_=YC(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:gr([l,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:gr([l,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return t&&_?N.createElement(Ca.Provider,{value:{location:Dl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:In.Pop}},_):_}function HC(){let e=ZC(),t=$C(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,s)}const QC=N.createElement(HC,null);class GC extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?N.createElement(Dr.Provider,{value:this.props.routeContext},N.createElement(Vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KC(e){let{routeContext:t,match:n,children:r}=e,i=N.useContext(Dd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Dr.Provider,{value:t},r)}function YC(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=s.findIndex(a=>a.route.id&&(o==null?void 0:o[a.route.id]));l>=0||_e(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,a,u)=>{let c=a.route.id?o==null?void 0:o[a.route.id]:null,h=null;n&&(h=a.route.errorElement||QC);let d=t.concat(s.slice(0,u+1)),g=()=>{let _;return c?_=h:a.route.Component?_=N.createElement(a.route.Component,null):a.route.element?_=a.route.element:_=l,N.createElement(KC,{match:a,routeContext:{outlet:l,matches:d,isDataRoute:n!=null},children:_})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?N.createElement(GC,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:g(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):g()},null)}var Qv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Qv||{}),Ol=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ol||{});function qC(e){let t=N.useContext(Dd);return t||_e(!1),t}function XC(e){let t=N.useContext(BC);return t||_e(!1),t}function JC(e){let t=N.useContext(Dr);return t||_e(!1),t}function Gv(e){let t=JC(),n=t.matches[t.matches.length-1];return n.route.id||_e(!1),n.route.id}function ZC(){var e;let t=N.useContext(Vv),n=XC(Ol.UseRouteError),r=Gv(Ol.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function eS(){let{router:e}=qC(Qv.UseNavigateStable),t=Gv(Ol.UseNavigateStable),n=N.useRef(!1);return Hv(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Dl({fromRouteId:t},s)))},[e,t])}function Jc(e){_e(!1)}function tS(e){let{basename:t="/",children:n=null,location:r,navigationType:i=In.Pop,navigator:s,static:o=!1}=e;Sa()&&_e(!1);let l=t.replace(/^\/*/,"/"),a=N.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=Ar(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:g="default"}=r,_=N.useMemo(()=>{let v=zv(u,l);return v==null?null:{location:{pathname:v,search:c,hash:h,state:d,key:g},navigationType:i}},[l,u,c,h,d,g,i]);return _==null?null:N.createElement(Ea.Provider,{value:a},N.createElement(Ca.Provider,{children:n,value:_}))}function nS(e){let{children:t,location:n}=e;return VC(Zc(t),n)}new Promise(()=>{});function Zc(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(r,i)=>{if(!N.isValidElement(r))return;let s=[...t,i];if(r.type===N.Fragment){n.push.apply(n,Zc(r.props.children,s));return}r.type!==Jc&&_e(!1),!r.props.index||!r.props.children||_e(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zc(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const rS="startTransition",sg=tw[rS];function iS(e){let{basename:t,children:n,future:r,window:i}=e,s=N.useRef();s.current==null&&(s.current=dC({window:i,v5Compat:!0}));let o=s.current,[l,a]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=N.useCallback(h=>{u&&sg?sg(()=>a(h)):a(h)},[a,u]);return N.useLayoutEffect(()=>o.listen(c),[o,c]),N.createElement(tS,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}var og;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(og||(og={}));var lg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lg||(lg={}));var ag={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E=function(e,t){if(!e)throw Ti(t)},Ti=function(e){return new Error("Firebase Database ("+Kv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},sS=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Od={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,h=(s&3)<<4|l>>4;let d=(l&15)<<2|u>>6,g=u&63;a||(g=64,o||(d=64)),r.push(n[c],n[h],n[d],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Yv(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):sS(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||h==null)throw new oS;const d=s<<2|l>>4;if(r.push(d),u!==64){const g=l<<4&240|u>>2;if(r.push(g),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class oS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qv=function(e){const t=Yv(e);return Od.encodeByteArray(t,!0)},Ll=function(e){return qv(e).replace(/\./g,"")},eh=function(e){try{return Od.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(e){return Ds(void 0,e)}function Ds(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!aS(n)||(e[n]=Ds(e[n],t[n]));return e}function aS(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=()=>uS().__FIREBASE_DEFAULTS__,hS=()=>{if(typeof process>"u"||typeof ag>"u")return;const e=ag.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},dS=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&eh(e[1]);return t&&JSON.parse(t)},fS=()=>{try{return cS()||hS()||dS()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Xv=()=>{var e;return(e=fS())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Ll(JSON.stringify(n)),Ll(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gS())}function mS(){return typeof self=="object"&&self.self===self}function _S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zv(){return Kv.NODE_ADMIN===!0}function vS(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="FirebaseError";class Or extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=wS,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ta.prototype.create)}}class Ta{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?ES(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Or(i,l,r)}}function ES(e,t){return e.replace(CS,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const CS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(e){return JSON.parse(e)}function ge(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Os(eh(s[0])||""),n=Os(eh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},SS=function(e){const t=ey(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},TS=function(e){const t=ey(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Sr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function th(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ml(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function nh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(ug(s)&&ug(o)){if(!nh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ug(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let h=0;h<16;h++)r[h]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):h<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const d=(i<<5|i>>>27)+u+a+c+r[h]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function NS(e,t){const n=new PS(e,t);return n.subscribe.bind(n)}class PS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RS(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Bu),i.error===void 0&&(i.error=Bu),i.complete===void 0&&(i.complete=Bu);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RS(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Bu(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){const s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function tt(e,t){return`${e} failed: ${t} argument `}function Ee(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(tt(e,t)+"must be a valid function.")}function cg(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(tt(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,E(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ia=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(e){return e&&e._delegate?e._delegate:e}class qt{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ye;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DS(t))try{this.getOrInitializeService({instanceIdentifier:sr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=sr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sr){return this.instances.has(t)}getOptions(t=sr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=sr){return this.component?this.component.multipleInstances?t:sr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AS(e){return e===sr?void 0:e}function DS(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new rh(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=[];var H;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(H||(H={}));const ny={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},OS=H.INFO,LS={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},MS=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=LS[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class so{constructor(t){this.name=t,this._logLevel=OS,this._logHandler=MS,this._userLogHandler=null,Ld.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in H))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ny[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...t),this._logHandler(this,H.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...t),this._logHandler(this,H.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,H.INFO,...t),this._logHandler(this,H.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,H.WARN,...t),this._logHandler(this,H.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...t),this._logHandler(this,H.ERROR,...t)}}function FS(e){Ld.forEach(t=>{t.setLogLevel(e)})}function $S(e,t){for(const n of Ld){let r=null;t&&t.level&&(r=ny[t.level]),e===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const l=o.map(a=>{if(a==null)return null;if(typeof a=="string")return a;if(typeof a=="number"||typeof a=="boolean")return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch{return null}}).filter(a=>a).join(" ");s>=(r??i.logLevel)&&e({level:H[s].toLowerCase(),message:l,args:o,type:i.name})}}}const US=(e,t)=>t.some(n=>e instanceof n);let hg,dg;function BS(){return hg||(hg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jS(){return dg||(dg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ry=new WeakMap,ih=new WeakMap,iy=new WeakMap,ju=new WeakMap,Md=new WeakMap;function zS(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Fn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&ry.set(n,e)}).catch(()=>{}),Md.set(t,e),t}function WS(e){if(ih.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});ih.set(e,t)}let sh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ih.get(e);if(t==="objectStoreNames")return e.objectStoreNames||iy.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function VS(e){sh=e(sh)}function bS(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(zu(this),t,...n);return iy.set(r,t.sort?t.sort():[t]),Fn(r)}:jS().includes(e)?function(...t){return e.apply(zu(this),t),Fn(ry.get(this))}:function(...t){return Fn(e.apply(zu(this),t))}}function HS(e){return typeof e=="function"?bS(e):(e instanceof IDBTransaction&&WS(e),US(e,BS())?new Proxy(e,sh):e)}function Fn(e){if(e instanceof IDBRequest)return zS(e);if(ju.has(e))return ju.get(e);const t=HS(e);return t!==e&&(ju.set(e,t),Md.set(t,e)),t}const zu=e=>Md.get(e);function QS(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Fn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Fn(o.result),a.oldVersion,a.newVersion,Fn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const GS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],Wu=new Map;function fg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Wu.get(t))return Wu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=KS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GS.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Wu.set(t,s),s}VS(e=>({...e,get:(t,n,r)=>fg(t,n)||e.get(t,n,r),has:(t,n)=>!!fg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qS(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const oh="@firebase/app",pg="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new so("@firebase/app"),XS="@firebase/app-compat",JS="@firebase/analytics-compat",ZS="@firebase/analytics",eT="@firebase/app-check-compat",tT="@firebase/app-check",nT="@firebase/auth",rT="@firebase/auth-compat",iT="@firebase/database",sT="@firebase/database-compat",oT="@firebase/functions",lT="@firebase/functions-compat",aT="@firebase/installations",uT="@firebase/installations-compat",cT="@firebase/messaging",hT="@firebase/messaging-compat",dT="@firebase/performance",fT="@firebase/performance-compat",pT="@firebase/remote-config",gT="@firebase/remote-config-compat",mT="@firebase/storage",_T="@firebase/storage-compat",vT="@firebase/firestore",yT="@firebase/firestore-compat",wT="firebase",ET="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="[DEFAULT]",CT={[oh]:"fire-core",[XS]:"fire-core-compat",[ZS]:"fire-analytics",[JS]:"fire-analytics-compat",[tT]:"fire-app-check",[eT]:"fire-app-check-compat",[nT]:"fire-auth",[rT]:"fire-auth-compat",[iT]:"fire-rtdb",[sT]:"fire-rtdb-compat",[oT]:"fire-fn",[lT]:"fire-fn-compat",[aT]:"fire-iid",[uT]:"fire-iid-compat",[cT]:"fire-fcm",[hT]:"fire-fcm-compat",[dT]:"fire-perf",[fT]:"fire-perf-compat",[pT]:"fire-rc",[gT]:"fire-rc-compat",[mT]:"fire-gcs",[_T]:"fire-gcs-compat",[vT]:"fire-fst",[yT]:"fire-fst-compat","fire-js":"fire-js",[wT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new Map,Ls=new Map;function Fl(e,t){try{e.container.addComponent(t)}catch(n){Tr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function sy(e,t){e.container.addOrOverwriteComponent(t)}function Ir(e){const t=e.name;if(Ls.has(t))return Tr.debug(`There were multiple attempts to register component ${t}.`),!1;Ls.set(t,e);for(const n of Vn.values())Fl(n,e);return!0}function oy(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ST(e,t,n=Wn){oy(e,t).clearInstance(n)}function TT(){Ls.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},an=new Ta("app","Firebase",IT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kT=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw an.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=ET;function Fd(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Wn,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw an.create("bad-app-name",{appName:String(i)});if(n||(n=Xv()),!n)throw an.create("no-options");const s=Vn.get(i);if(s){if(nh(n,s.options)&&nh(r,s.config))return s;throw an.create("duplicate-app",{appName:i})}const o=new ty(i);for(const a of Ls.values())o.addComponent(a);const l=new kT(n,r,o);return Vn.set(i,l),l}function NT(e=Wn){const t=Vn.get(e);if(!t&&e===Wn&&Xv())return Fd();if(!t)throw an.create("no-app",{appName:e});return t}function PT(){return Array.from(Vn.values())}async function ly(e){const t=e.name;Vn.has(t)&&(Vn.delete(t),await Promise.all(e.container.getProviders().map(n=>n.delete())),e.isDeleted=!0)}function Kt(e,t,n){var r;let i=(r=CT[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Tr.warn(l.join(" "));return}Ir(new qt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}function ay(e,t){if(e!==null&&typeof e!="function")throw an.create("invalid-log-argument");$S(e,t)}function uy(e){FS(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firebase-heartbeat-database",xT=1,Ms="firebase-heartbeat-store";let Vu=null;function cy(){return Vu||(Vu=QS(RT,xT,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ms)}}}).catch(e=>{throw an.create("idb-open",{originalErrorMessage:e.message})})),Vu}async function AT(e){try{return await(await cy()).transaction(Ms).objectStore(Ms).get(hy(e))}catch(t){if(t instanceof Or)Tr.warn(t.message);else{const n=an.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Tr.warn(n.message)}}}async function gg(e,t){try{const r=(await cy()).transaction(Ms,"readwrite");await r.objectStore(Ms).put(t,hy(e)),await r.done}catch(n){if(n instanceof Or)Tr.warn(n.message);else{const r=an.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(r.message)}}}function hy(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=1024,OT=30*24*60*60*1e3;class LT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mg();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=OT}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mg(),{heartbeatsToSend:r,unsentEntries:i}=MT(this._heartbeatsCache.heartbeats),s=Ll(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function mg(){return new Date().toISOString().substring(0,10)}function MT(e,t=DT){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_g(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_g(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vS()?yS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await AT(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function _g(e){return Ll(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(e){Ir(new qt("platform-logger",t=>new YS(t),"PRIVATE")),Ir(new qt("heartbeat",t=>new LT(t),"PRIVATE")),Kt(oh,pg,e),Kt(oh,pg,"esm2017"),Kt("fire-js","")}$T("");const UT=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Or,SDK_VERSION:ka,_DEFAULT_ENTRY_NAME:Wn,_addComponent:Fl,_addOrOverwriteComponent:sy,_apps:Vn,_clearComponents:TT,_components:Ls,_getProvider:oy,_registerComponent:Ir,_removeServiceInstance:ST,deleteApp:ly,getApp:NT,getApps:PT,initializeApp:Fd,onLog:ay,registerVersion:Kt,setLogLevel:uy},Symbol.toStringTag,{value:"Module"}));var BT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},C,$d=$d||{},O=BT||self;function Na(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function oo(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function jT(e){return Object.prototype.hasOwnProperty.call(e,bu)&&e[bu]||(e[bu]=++zT)}var bu="closure_uid_"+(1e9*Math.random()>>>0),zT=0;function WT(e,t,n){return e.call.apply(e.bind,arguments)}function VT(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function $e(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$e=WT:$e=VT,$e.apply(null,arguments)}function bo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ne(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return t.prototype[i].apply(r,o)}}function Jn(){this.s=this.s,this.o=this.o}var bT=0;Jn.prototype.s=!1;Jn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),bT!=0)&&jT(this)};Jn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dy=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ud(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function vg(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Na(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Ue(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var HT=function(){if(!O.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{O.addEventListener("test",()=>{},t),O.removeEventListener("test",()=>{},t)}catch{}return e}();function Fs(e){return/^[\s\xa0]*$/.test(e)}function Pa(){var e=O.navigator;return e&&(e=e.userAgent)?e:""}function Vt(e){return Pa().indexOf(e)!=-1}function Bd(e){return Bd[" "](e),e}Bd[" "]=function(){};function QT(e,t){var n=BI;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var GT=Vt("Opera"),$s=Vt("Trident")||Vt("MSIE"),fy=Vt("Edge"),lh=fy||$s,py=Vt("Gecko")&&!(Pa().toLowerCase().indexOf("webkit")!=-1&&!Vt("Edge"))&&!(Vt("Trident")||Vt("MSIE"))&&!Vt("Edge"),KT=Pa().toLowerCase().indexOf("webkit")!=-1&&!Vt("Edge");function gy(){var e=O.document;return e?e.documentMode:void 0}e:{var yg="",Hu=function(){var e=Pa();if(py)return/rv:([^\);]+)(\)|;)/.exec(e);if(fy)return/Edge\/([\d\.]+)/.exec(e);if($s)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(KT)return/WebKit\/(\S+)/.exec(e);if(GT)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Hu&&(yg=Hu?Hu[1]:""),$s){var wg=gy();if(wg!=null&&wg>parseFloat(yg))break e}}O.document&&$s&&gy();function Us(e,t){if(Ue.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(py){e:{try{Bd(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:YT[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Us.$.h.call(this)}}Ne(Us,Ue);var YT={2:"touch",3:"pen",4:"mouse"};Us.prototype.h=function(){Us.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var lo="closure_listenable_"+(1e6*Math.random()|0),qT=0;function XT(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++qT,this.fa=this.ia=!1}function Ra(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function jd(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function JT(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function my(e){const t={};for(const n in e)t[n]=e[n];return t}const Eg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _y(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Eg.length;s++)n=Eg[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function xa(e){this.src=e,this.g={},this.h=0}xa.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=uh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new XT(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function ah(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=dy(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ra(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function uh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var zd="closure_lm_"+(1e6*Math.random()|0),Qu={};function vy(e,t,n,r,i){if(r&&r.once)return wy(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)vy(e,t[s],n,r,i);return null}return n=bd(n),e&&e[lo]?e.O(t,n,oo(r)?!!r.capture:!!r,i):yy(e,t,n,!1,r,i)}function yy(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=oo(i)?!!i.capture:!!i,l=Vd(e);if(l||(e[zd]=l=new xa(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=ZT(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)HT||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Cy(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ZT(){function e(n){return t.call(e.src,e.listener,n)}const t=eI;return e}function wy(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)wy(e,t[s],n,r,i);return null}return n=bd(n),e&&e[lo]?e.P(t,n,oo(r)?!!r.capture:!!r,i):yy(e,t,n,!0,r,i)}function Ey(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ey(e,t[s],n,r,i);else r=oo(r)?!!r.capture:!!r,n=bd(n),e&&e[lo]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=uh(s,n,r,i),-1<n&&(Ra(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Vd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=uh(t,n,r,i)),(n=-1<e?t[e]:null)&&Wd(n))}function Wd(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[lo])ah(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Cy(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Vd(t))?(ah(n,e),n.h==0&&(n.src=null,t[zd]=null)):Ra(e)}}}function Cy(e){return e in Qu?Qu[e]:Qu[e]="on"+e}function eI(e,t){if(e.fa)e=!0;else{t=new Us(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Wd(e),e=n.call(r,t)}return e}function Vd(e){return e=e[zd],e instanceof xa?e:null}var Gu="__closure_events_fn_"+(1e9*Math.random()>>>0);function bd(e){return typeof e=="function"?e:(e[Gu]||(e[Gu]=function(t){return e.handleEvent(t)}),e[Gu])}function Ie(){Jn.call(this),this.i=new xa(this),this.S=this,this.J=null}Ne(Ie,Jn);Ie.prototype[lo]=!0;Ie.prototype.removeEventListener=function(e,t,n,r){Ey(this,e,t,n,r)};function De(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Ue(t,e);else if(t instanceof Ue)t.target=t.target||e;else{var i=t;t=new Ue(r,e),_y(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ho(o,r,!0,t)&&i}if(o=t.g=e,i=Ho(o,r,!0,t)&&i,i=Ho(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Ho(o,r,!1,t)&&i}Ie.prototype.N=function(){if(Ie.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ra(n[r]);delete e.g[t],e.h--}}this.J=null};Ie.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ie.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ho(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,a=o.la||o.src;o.ia&&ah(e.i,o),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Hd=O.JSON.stringify;class tI{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function nI(){var e=Qd;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class rI{constructor(){this.h=this.g=null}add(t,n){const r=Sy.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Sy=new tI(()=>new iI,e=>e.reset());class iI{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sI(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function oI(e){O.setTimeout(()=>{throw e},0)}let Bs,js=!1,Qd=new rI,Ty=()=>{const e=O.Promise.resolve(void 0);Bs=()=>{e.then(lI)}};var lI=()=>{for(var e;e=nI();){try{e.h.call(e.g)}catch(n){oI(n)}var t=Sy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}js=!1};function Aa(e,t){Ie.call(this),this.h=e||1,this.g=t||O,this.j=$e(this.qb,this),this.l=Date.now()}Ne(Aa,Ie);C=Aa.prototype;C.ga=!1;C.T=null;C.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),De(this,"tick"),this.ga&&(Gd(this),this.start()))}};C.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}C.N=function(){Aa.$.N.call(this),Gd(this),delete this.g};function Kd(e,t,n){if(typeof e=="function")n&&(e=$e(e,n));else if(e&&typeof e.handleEvent=="function")e=$e(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:O.setTimeout(e,t||0)}function Iy(e){e.g=Kd(()=>{e.g=null,e.i&&(e.i=!1,Iy(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class aI extends Jn{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Iy(this)}N(){super.N(),this.g&&(O.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(e){Jn.call(this),this.h=e,this.g={}}Ne(zs,Jn);var Cg=[];function ky(e,t,n,r){Array.isArray(n)||(n&&(Cg[0]=n.toString()),n=Cg);for(var i=0;i<n.length;i++){var s=vy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ny(e){jd(e.g,function(t,n){this.g.hasOwnProperty(n)&&Wd(t)},e),e.g={}}zs.prototype.N=function(){zs.$.N.call(this),Ny(this)};zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Da(){this.g=!0}Da.prototype.Ea=function(){this.g=!1};function uI(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function cI(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Jr(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+dI(e,n)+(r?" "+r:"")})}function hI(e,t){e.info(function(){return"TIMEOUT: "+t})}Da.prototype.info=function(){};function dI(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Hd(n)}catch{return t}}var Ii={},Sg=null;function Yd(){return Sg=Sg||new Ie}Ii.Ta="serverreachability";function Py(e){Ue.call(this,Ii.Ta,e)}Ne(Py,Ue);function Ws(e){const t=Yd();De(t,new Py(t))}Ii.STAT_EVENT="statevent";function Ry(e,t){Ue.call(this,Ii.STAT_EVENT,e),this.stat=t}Ne(Ry,Ue);function We(e){const t=Yd();De(t,new Ry(t,e))}Ii.Ua="timingevent";function xy(e,t){Ue.call(this,Ii.Ua,e),this.size=t}Ne(xy,Ue);function ao(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return O.setTimeout(function(){e()},t)}var qd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xd(){}Xd.prototype.h=null;function Tg(e){return e.h||(e.h=e.i())}function pI(){}var uo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jd(){Ue.call(this,"d")}Ne(Jd,Ue);function Zd(){Ue.call(this,"c")}Ne(Zd,Ue);var ch;function Oa(){}Ne(Oa,Xd);Oa.prototype.g=function(){return new XMLHttpRequest};Oa.prototype.i=function(){return{}};ch=new Oa;function co(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new zs(this),this.P=gI,e=lh?125:void 0,this.V=new Aa(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ay}function Ay(){this.i=null,this.g="",this.h=!1}var gI=45e3,hh={},$l={};C=co.prototype;C.setTimeout=function(e){this.P=e};function dh(e,t,n){e.L=1,e.v=Ma(pn(t)),e.s=n,e.S=!0,Dy(e,null)}function Dy(e,t){e.G=Date.now(),ho(e),e.A=pn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),jy(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ay,e.g=l0(e.l,n?t:null,!e.s),0<e.O&&(e.M=new aI($e(e.Pa,e,e.g),e.O)),ky(e.U,e.g,"readystatechange",e.nb),t=e.I?my(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ws(),uI(e.j,e.u,e.A,e.m,e.W,e.s)}C.nb=function(e){e=e.target;const t=this.M;t&&bt(e)==3?t.l():this.Pa(e)};C.Pa=function(e){try{if(e==this.g)e:{const c=bt(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||lh||this.g&&(this.h.h||this.g.ja()||Pg(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?Ws(3):Ws(2)),La(this);var n=this.g.da();this.ca=n;t:if(Oy(this)){var r=Pg(this.g);e="";var i=r.length,s=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),us(this);var o="";break t}this.h.i=new O.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,cI(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fs(l)){var u=l;break t}}u=null}if(n=u)Jr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fh(this,n);else{this.i=!1,this.o=3,We(12),cr(this),us(this);break e}}this.S?(Ly(this,c,o),lh&&this.i&&c==3&&(ky(this.U,this.V,"tick",this.mb),this.V.start())):(Jr(this.j,this.m,o,null),fh(this,o)),c==4&&cr(this),this.i&&!this.J&&(c==4?r0(this.l,this):(this.i=!1,ho(this)))}else FI(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,We(12)):(this.o=0,We(13)),cr(this),us(this)}}}catch{}finally{}};function Oy(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function Ly(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=mI(e,n),i==$l){t==4&&(e.o=4,We(14),r=!1),Jr(e.j,e.m,null,"[Incomplete Response]");break}else if(i==hh){e.o=4,We(15),Jr(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Jr(e.j,e.m,i,null),fh(e,i);Oy(e)&&i!=$l&&i!=hh&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,We(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),of(t),t.M=!0,We(11))):(Jr(e.j,e.m,n,"[Invalid Chunked Response]"),cr(e),us(e))}C.mb=function(){if(this.g){var e=bt(this.g),t=this.g.ja();this.C<t.length&&(La(this),Ly(this,e,t),this.i&&e!=4&&ho(this))}};function mI(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?$l:(n=Number(t.substring(n,r)),isNaN(n)?hh:(r+=1,r+n>t.length?$l:(t=t.slice(r,r+n),e.C=r+n,t)))}C.cancel=function(){this.J=!0,cr(this)};function ho(e){e.Y=Date.now()+e.P,My(e,e.P)}function My(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=ao($e(e.lb,e),t)}function La(e){e.B&&(O.clearTimeout(e.B),e.B=null)}C.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(hI(this.j,this.A),this.L!=2&&(Ws(),We(17)),cr(this),this.o=2,us(this)):My(this,this.Y-e)};function us(e){e.l.H==0||e.J||r0(e.l,e)}function cr(e){La(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Gd(e.V),Ny(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function fh(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||ph(n.i,e))){if(!e.K&&ph(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)jl(n),Ba(n);else break e;sf(n),We(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ao($e(n.ib,n),6e3));if(1>=Vy(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else hr(n,11)}else if((e.K||n.g==e)&&jl(n),!Fs(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const _=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ef(s,s.h),s.h=null))}if(r.F){const v=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Z(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=o0(r,r.J?r.pa:null,r.Y),o.K){by(r.i,o);var l=o,a=r.L;a&&l.setTimeout(a),l.B&&(La(l),ho(l)),r.g=o}else t0(r);0<n.j.length&&ja(n)}else u[0]!="stop"&&u[0]!="close"||hr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?hr(n,7):rf(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ws(4)}catch{}}function _I(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Na(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function vI(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Na(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Fy(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Na(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=vI(e),r=_I(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var $y=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yI(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function mr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof mr){this.h=e.h,Ul(this,e.j),this.s=e.s,this.g=e.g,Bl(this,e.m),this.l=e.l;var t=e.i,n=new Vs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ig(this,n),this.o=e.o}else e&&(t=String(e).match($y))?(this.h=!1,Ul(this,t[1]||"",!0),this.s=Ji(t[2]||""),this.g=Ji(t[3]||"",!0),Bl(this,t[4]),this.l=Ji(t[5]||"",!0),Ig(this,t[6]||"",!0),this.o=Ji(t[7]||"")):(this.h=!1,this.i=new Vs(null,this.h))}mr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Zi(t,kg,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Zi(t,kg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Zi(n,n.charAt(0)=="/"?CI:EI,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Zi(n,TI)),e.join("")};function pn(e){return new mr(e)}function Ul(e,t,n){e.j=n?Ji(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ig(e,t,n){t instanceof Vs?(e.i=t,II(e.i,e.h)):(n||(t=Zi(t,SI)),e.i=new Vs(t,e.h))}function Z(e,t,n){e.i.set(t,n)}function Ma(e){return Z(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ji(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zi(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,wI),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wI(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var kg=/[#\/\?@]/g,EI=/[#\?:]/g,CI=/[#\?]/g,SI=/[#\?@]/g,TI=/#/g;function Vs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zn(e){e.g||(e.g=new Map,e.h=0,e.i&&yI(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}C=Vs.prototype;C.add=function(e,t){Zn(this),this.i=null,e=ki(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Uy(e,t){Zn(e),t=ki(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function By(e,t){return Zn(e),t=ki(e,t),e.g.has(t)}C.forEach=function(e,t){Zn(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};C.ta=function(){Zn(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};C.Z=function(e){Zn(this);let t=[];if(typeof e=="string")By(this,e)&&(t=t.concat(this.g.get(ki(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};C.set=function(e,t){return Zn(this),this.i=null,e=ki(this,e),By(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};C.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function jy(e,t,n){Uy(e,t),0<n.length&&(e.i=null,e.g.set(ki(e,t),Ud(n)),e.h+=n.length)}C.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function ki(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function II(e,t){t&&!e.j&&(Zn(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Uy(this,r),jy(this,i,n))},e)),e.j=t}var kI=class{constructor(e,t){this.g=e,this.map=t}};function zy(e){this.l=e||NI,O.PerformanceNavigationTiming?(e=O.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(O.g&&O.g.Ka&&O.g.Ka()&&O.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var NI=10;function Wy(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Vy(e){return e.h?1:e.g?e.g.size:0}function ph(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ef(e,t){e.g?e.g.add(t):e.h=t}function by(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}zy.prototype.cancel=function(){if(this.i=Hy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Hy(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ud(e.i)}var PI=class{stringify(e){return O.JSON.stringify(e,void 0)}parse(e){return O.JSON.parse(e,void 0)}};function RI(){this.g=new PI}function xI(e,t,n){const r=n||"";try{Fy(e,function(i,s){let o=i;oo(i)&&(o=Hd(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function AI(e,t){const n=new Da;if(O.Image){const r=new Image;r.onload=bo(Qo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=bo(Qo,n,r,"TestLoadImage: error",!1,t),r.onabort=bo(Qo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=bo(Qo,n,r,"TestLoadImage: timeout",!1,t),O.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Qo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Fa(e){this.l=e.ec||null,this.j=e.ob||!1}Ne(Fa,Xd);Fa.prototype.g=function(){return new $a(this.l,this.j)};Fa.prototype.i=function(e){return function(){return e}}({});function $a(e,t){Ie.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=tf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ne($a,Ie);var tf=0;C=$a.prototype;C.open=function(e,t){if(this.readyState!=tf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bs(this)};C.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||O).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};C.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=tf};C.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof O.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qy(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Qy(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}C.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?fo(this):bs(this),this.readyState==3&&Qy(this)}};C.Za=function(e){this.g&&(this.response=this.responseText=e,fo(this))};C.Ya=function(e){this.g&&(this.response=e,fo(this))};C.ka=function(){this.g&&fo(this)};function fo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bs(e)}C.setRequestHeader=function(e,t){this.v.append(e,t)};C.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};C.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function bs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var DI=O.JSON.parse;function de(e){Ie.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gy,this.L=this.M=!1}Ne(de,Ie);var Gy="",OI=/^https?$/i,LI=["POST","PUT"];C=de.prototype;C.Oa=function(e){this.M=e};C.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ch.g(),this.C=this.u?Tg(this.u):Tg(ch),this.g.onreadystatechange=$e(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Ng(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=O.FormData&&e instanceof O.FormData,!(0<=dy(LI,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qy(this),0<this.B&&((this.L=MI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$e(this.ua,this)):this.A=Kd(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ng(this,s)}};function MI(e){return $s&&typeof e.timeout=="number"&&e.ontimeout!==void 0}C.ua=function(){typeof $d<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,De(this,"timeout"),this.abort(8))};function Ng(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ky(e),Ua(e)}function Ky(e){e.F||(e.F=!0,De(e,"complete"),De(e,"error"))}C.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,De(this,"complete"),De(this,"abort"),Ua(this))};C.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ua(this,!0)),de.$.N.call(this)};C.La=function(){this.s||(this.G||this.v||this.l?Yy(this):this.kb())};C.kb=function(){Yy(this)};function Yy(e){if(e.h&&typeof $d<"u"&&(!e.C[1]||bt(e)!=4||e.da()!=2)){if(e.v&&bt(e)==4)Kd(e.La,0,e);else if(De(e,"readystatechange"),bt(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match($y)[1]||null;!i&&O.self&&O.self.location&&(i=O.self.location.protocol.slice(0,-1)),r=!OI.test(i?i.toLowerCase():"")}n=r}if(n)De(e,"complete"),De(e,"success");else{e.m=6;try{var s=2<bt(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Ky(e)}}finally{Ua(e)}}}}function Ua(e,t){if(e.g){qy(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||De(e,"ready");try{n.onreadystatechange=r}catch{}}}function qy(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(O.clearTimeout(e.A),e.A=null)}C.isActive=function(){return!!this.g};function bt(e){return e.g?e.g.readyState:0}C.da=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}};C.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};C.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),DI(t)}};function Pg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Gy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function FI(e){const t={};e=(e.g&&2<=bt(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Fs(e[r]))continue;var n=sI(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}JT(t,function(r){return r.join(", ")})}C.Ia=function(){return this.m};C.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Xy(e){let t="";return jd(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function nf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Xy(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Z(e,t,n))}function Wi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jy(e){this.Ga=0,this.j=[],this.l=new Da,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wi("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wi("baseRetryDelayMs",5e3,e),this.hb=Wi("retryDelaySeedMs",1e4,e),this.eb=Wi("forwardChannelMaxRetries",2,e),this.xa=Wi("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new zy(e&&e.concurrentRequestLimit),this.Ja=new RI,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}C=Jy.prototype;C.ra=8;C.H=1;function rf(e){if(Zy(e),e.H==3){var t=e.W++,n=pn(e.I);if(Z(n,"SID",e.K),Z(n,"RID",t),Z(n,"TYPE","terminate"),po(e,n),t=new co(e,e.l,t),t.L=2,t.v=Ma(pn(n)),n=!1,O.navigator&&O.navigator.sendBeacon)try{n=O.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&O.Image&&(new Image().src=t.v,n=!0),n||(t.g=l0(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ho(t)}s0(e)}function Ba(e){e.g&&(of(e),e.g.cancel(),e.g=null)}function Zy(e){Ba(e),e.u&&(O.clearTimeout(e.u),e.u=null),jl(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&O.clearTimeout(e.m),e.m=null)}function ja(e){if(!Wy(e.i)&&!e.m){e.m=!0;var t=e.Na;Bs||Ty(),js||(Bs(),js=!0),Qd.add(t,e),e.C=0}}function $I(e,t){return Vy(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=ao($e(e.Na,e,t),i0(e,e.C)),e.C++,!0)}C.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new co(this,this.l,e);let s=this.s;if(this.U&&(s?(s=my(s),_y(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=e0(this,i,t),n=pn(this.I),Z(n,"RID",e),Z(n,"CVER",22),this.F&&Z(n,"X-HTTP-Session-Id",this.F),po(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Xy(s)))+"&"+t:this.o&&nf(n,this.o,s)),ef(this.i,i),this.bb&&Z(n,"TYPE","init"),this.P?(Z(n,"$req",t),Z(n,"SID","null"),i.aa=!0,dh(i,n,null)):dh(i,n,t),this.H=2}}else this.H==3&&(e?Rg(this,e):this.j.length==0||Wy(this.i)||Rg(this))};function Rg(e,t){var n;t?n=t.m:n=e.W++;const r=pn(e.I);Z(r,"SID",e.K),Z(r,"RID",n),Z(r,"AID",e.V),po(e,r),e.o&&e.s&&nf(r,e.o,e.s),n=new co(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=e0(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ef(e.i,n),dh(n,r,t)}function po(e,t){e.na&&jd(e.na,function(n,r){Z(t,r,n)}),e.h&&Fy({},function(n,r){Z(t,r,n)})}function e0(e,t,n){n=Math.min(e.j.length,n);var r=e.h?$e(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let u=i[a].g;const c=i[a].map;if(u-=s,0>u)s=Math.max(0,i[a].g-100),l=!1;else try{xI(c,o,"req"+u+"_")}catch{r&&r(c)}}if(l){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function t0(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Bs||Ty(),js||(Bs(),js=!0),Qd.add(t,e),e.A=0}}function sf(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=ao($e(e.Ma,e),i0(e,e.A)),e.A++,!0)}C.Ma=function(){if(this.u=null,n0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ao($e(this.jb,this),e)}};C.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,We(10),Ba(this),n0(this))};function of(e){e.B!=null&&(O.clearTimeout(e.B),e.B=null)}function n0(e){e.g=new co(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=pn(e.wa);Z(t,"RID","rpc"),Z(t,"SID",e.K),Z(t,"AID",e.V),Z(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Z(t,"TO",e.qa),Z(t,"TYPE","xmlhttp"),po(e,t),e.o&&e.s&&nf(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Ma(pn(t)),n.s=null,n.S=!0,Dy(n,e)}C.ib=function(){this.v!=null&&(this.v=null,Ba(this),sf(this),We(19))};function jl(e){e.v!=null&&(O.clearTimeout(e.v),e.v=null)}function r0(e,t){var n=null;if(e.g==t){jl(e),of(e),e.g=null;var r=2}else if(ph(e.i,t))n=t.F,by(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=Yd(),De(r,new xy(r,n)),ja(e)}else t0(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&$I(e,t)||r==2&&sf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:hr(e,5);break;case 4:hr(e,10);break;case 3:hr(e,6);break;default:hr(e,2)}}}function i0(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function hr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=$e(e.pb,e);n||(n=new mr("//www.google.com/images/cleardot.gif"),O.location&&O.location.protocol=="http"||Ul(n,"https"),Ma(n)),AI(n.toString(),r)}else We(2);e.H=0,e.h&&e.h.za(t),s0(e),Zy(e)}C.pb=function(e){e?(this.l.info("Successfully pinged google.com"),We(2)):(this.l.info("Failed to ping google.com"),We(1))};function s0(e){if(e.H=0,e.ma=[],e.h){const t=Hy(e.i);(t.length!=0||e.j.length!=0)&&(vg(e.ma,t),vg(e.ma,e.j),e.i.i.length=0,Ud(e.j),e.j.length=0),e.h.ya()}}function o0(e,t,n){var r=n instanceof mr?pn(n):new mr(n);if(r.g!="")t&&(r.g=t+"."+r.g),Bl(r,r.m);else{var i=O.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new mr(null);r&&Ul(s,r),t&&(s.g=t),i&&Bl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Z(r,n,t),Z(r,"VER",e.ra),po(e,r),r}function l0(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new de(new Fa({ob:!0})):new de(e.va),t.Oa(e.J),t}C.isActive=function(){return!!this.h&&this.h.isActive(this)};function a0(){}C=a0.prototype;C.Ba=function(){};C.Aa=function(){};C.za=function(){};C.ya=function(){};C.isActive=function(){return!0};C.Va=function(){};function kt(e,t){Ie.call(this),this.g=new Jy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Fs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Fs(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ni(this)}Ne(kt,Ie);kt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;We(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=o0(e,null,e.Y),ja(e)};kt.prototype.close=function(){rf(this.g)};kt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Hd(e),e=n);t.j.push(new kI(t.fb++,e)),t.H==3&&ja(t)};kt.prototype.N=function(){this.g.h=null,delete this.j,rf(this.g),delete this.g,kt.$.N.call(this)};function u0(e){Jd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ne(u0,Jd);function c0(){Zd.call(this),this.status=1}Ne(c0,Zd);function Ni(e){this.g=e}Ne(Ni,a0);Ni.prototype.Ba=function(){De(this.g,"a")};Ni.prototype.Aa=function(e){De(this.g,new u0(e))};Ni.prototype.za=function(e){De(this.g,new c0)};Ni.prototype.ya=function(){De(this.g,"b")};function UI(){this.blockSize=-1}function Xt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ne(Xt,UI);Xt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ku(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Xt.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Ku(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ku(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ku(this,r),i=0;break}}this.h=i,this.i+=t};Xt.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function G(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var BI={};function lf(e){return-128<=e&&128>e?QT(e,function(t){return new G([t|0],0>t?-1:0)}):new G([e|0],0>e?-1:0)}function Ht(e){if(isNaN(e)||!isFinite(e))return si;if(0>e)return xe(Ht(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=gh;return new G(t,0)}function h0(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return xe(h0(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ht(Math.pow(t,8)),r=si,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Ht(Math.pow(t,s)),r=r.R(s).add(Ht(o))):(r=r.R(n),r=r.add(Ht(o)))}return r}var gh=4294967296,si=lf(0),mh=lf(1),xg=lf(16777216);C=G.prototype;C.ea=function(){if(vt(this))return-xe(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:gh+r)*t,t*=gh}return e};C.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(sn(this))return"0";if(vt(this))return"-"+xe(this).toString(e);for(var t=Ht(Math.pow(e,6)),n=this,r="";;){var i=Wl(n,t).g;n=zl(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,sn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};C.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function sn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function vt(e){return e.h==-1}C.X=function(e){return e=zl(this,e),vt(e)?-1:sn(e)?0:1};function xe(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new G(n,~e.h).add(mh)}C.abs=function(){return vt(this)?xe(this):this};C.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new G(n,n[n.length-1]&-2147483648?-1:0)};function zl(e,t){return e.add(xe(t))}C.R=function(e){if(sn(this)||sn(e))return si;if(vt(this))return vt(e)?xe(this).R(xe(e)):xe(xe(this).R(e));if(vt(e))return xe(this.R(xe(e)));if(0>this.X(xg)&&0>e.X(xg))return Ht(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=e.D(i)>>>16,a=e.D(i)&65535;n[2*r+2*i]+=o*a,Go(n,2*r+2*i),n[2*r+2*i+1]+=s*a,Go(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,Go(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,Go(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new G(n,0)};function Go(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Vi(e,t){this.g=e,this.h=t}function Wl(e,t){if(sn(t))throw Error("division by zero");if(sn(e))return new Vi(si,si);if(vt(e))return t=Wl(xe(e),t),new Vi(xe(t.g),xe(t.h));if(vt(t))return t=Wl(e,xe(t)),new Vi(xe(t.g),t.h);if(30<e.g.length){if(vt(e)||vt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=mh,r=t;0>=r.X(e);)n=Ag(n),r=Ag(r);var i=Ur(n,1),s=Ur(r,1);for(r=Ur(r,2),n=Ur(n,2);!sn(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Ur(r,1),n=Ur(n,1)}return t=zl(e,i.R(t)),new Vi(i,t)}for(i=si;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ht(n),o=s.R(t);vt(o)||0<o.X(e);)n-=r,s=Ht(n),o=s.R(t);sn(s)&&(s=mh),i=i.add(s),e=zl(e,o)}return new Vi(i,e)}C.gb=function(e){return Wl(this,e).h};C.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new G(n,this.h&e.h)};C.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new G(n,this.h|e.h)};C.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new G(n,this.h^e.h)};function Ag(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new G(n,e.h)}function Ur(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new G(i,e.h)}kt.prototype.send=kt.prototype.u;kt.prototype.open=kt.prototype.m;kt.prototype.close=kt.prototype.close;qd.NO_ERROR=0;qd.TIMEOUT=8;qd.HTTP_ERROR=6;fI.COMPLETE="complete";pI.EventType=uo;uo.OPEN="a";uo.CLOSE="b";uo.ERROR="c";uo.MESSAGE="d";Ie.prototype.listen=Ie.prototype.O;de.prototype.listenOnce=de.prototype.P;de.prototype.getLastError=de.prototype.Sa;de.prototype.getLastErrorCode=de.prototype.Ia;de.prototype.getStatus=de.prototype.da;de.prototype.getResponseJson=de.prototype.Wa;de.prototype.getResponseText=de.prototype.ja;de.prototype.send=de.prototype.ha;de.prototype.setWithCredentials=de.prototype.Oa;Xt.prototype.digest=Xt.prototype.l;Xt.prototype.reset=Xt.prototype.reset;Xt.prototype.update=Xt.prototype.j;G.prototype.add=G.prototype.add;G.prototype.multiply=G.prototype.R;G.prototype.modulo=G.prototype.gb;G.prototype.compare=G.prototype.X;G.prototype.toNumber=G.prototype.ea;G.prototype.toString=G.prototype.toString;G.prototype.getBits=G.prototype.D;G.fromNumber=Ht;G.fromString=h0;var jI=G;const Dg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new so("@firebase/firestore");function at(e,...t){if(Vl.logLevel<=H.DEBUG){const n=t.map(d0);Vl.debug(`Firestore (${za}): ${e}`,...n)}}function af(e,...t){if(Vl.logLevel<=H.ERROR){const n=t.map(d0);Vl.error(`Firestore (${za}): ${e}`,...n)}}function d0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(e="Unexpected state"){const t=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: `+e;throw af(t),new Error(t)}function _h(e,t){e||f0()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Or{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}}class VI{constructor(t){this.t=t,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new oi,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;t.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new oi)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_h(typeof r.accessToken=="string"),new zI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return _h(t===null||typeof t=="string"),new Ge(t)}}class bI{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HI{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new bI(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GI{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,at("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(_h(typeof n.token=="string"),this.R=n.token,new QI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=KI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function p0(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t,n,r,i,s,o,l,a,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=u}}class bl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Og,z;(z=Og||(Og={}))[z.OK=0]="OK",z[z.CANCELLED=1]="CANCELLED",z[z.UNKNOWN=2]="UNKNOWN",z[z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",z[z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",z[z.NOT_FOUND=5]="NOT_FOUND",z[z.ALREADY_EXISTS=6]="ALREADY_EXISTS",z[z.PERMISSION_DENIED=7]="PERMISSION_DENIED",z[z.UNAUTHENTICATED=16]="UNAUTHENTICATED",z[z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",z[z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",z[z.ABORTED=10]="ABORTED",z[z.OUT_OF_RANGE=11]="OUT_OF_RANGE",z[z.UNIMPLEMENTED=12]="UNIMPLEMENTED",z[z.INTERNAL=13]="INTERNAL",z[z.UNAVAILABLE=14]="UNAVAILABLE",z[z.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new jI([4294967295,4294967295],0);function Yu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,l=new uf(t,n,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JI(e,t){if(af("AsyncQueue",`${t}: ${e}`),p0(e))return new st(it.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=YI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{at("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(at("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new st(it.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=JI(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=new Map;function ek(e,t,n,r){if(t===!0&&r===!0)throw new st(it.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new st(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new st(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ek("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g0((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tk{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new st(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new st(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mg(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WI;switch(r.type){case"firstParty":return new HI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Lg.get(n);r&&(at("ComponentProvider","Removing Datastore"),Lg.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new XI(this,"async_queue_retry"),this.iu=()=>{const n=Yu();n&&at("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Yu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Yu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new oi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!p0(t))throw t;at("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw af("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=uf.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&f0()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class rk extends tk{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new nk}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ik(this),this._firestoreClient.terminate()}}function ik(e){var t,n,r;const i=e._freezeSettings(),s=function(l,a,u,c){return new qI(l,a,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,g0(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ZI(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(function(t,n=!0){(function(i){za=i})(ka),Ir(new qt("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new rk(new VI(r.getProvider("auth-internal")),new GI(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new st(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Kt(Dg,"4.3.2",t),Kt(Dg,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(t,n){this._delegate=t,this.firebase=n,Fl(t,new qt("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),ly(this._delegate)))}_getService(t,n=Wn){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(t,n=Wn){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){Fl(this._delegate,t)}_addOrOverwriteComponent(t){sy(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Fg=new Ta("app-compat","Firebase",ok);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(e){const t={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Kt,setLogLevel:uy,onLog:ay,apps:null,SDK_VERSION:ka,INTERNAL:{registerComponent:l,removeApp:r,useAsService:a,modularAPIs:UT}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete t[u]}function i(u){if(u=u||Wn,!ht(t,u))throw Fg.create("no-app",{appName:u});return t[u]}i.App=e;function s(u,c={}){const h=Fd(u,c);if(ht(t,h.name))return t[h.name];const d=new e(h,n);return t[h.name]=d,d}function o(){return Object.keys(t).map(u=>t[u])}function l(u){const c=u.name,h=c.replace("-compat","");if(Ir(u)&&u.type==="PUBLIC"){const d=(g=i())=>{if(typeof g[h]!="function")throw Fg.create("invalid-app-argument",{appName:c});return g[h]()};u.serviceProps!==void 0&&Ds(d,u.serviceProps),n[h]=d,e.prototype[h]=function(...g){return this._getService.bind(this,c).apply(this,u.multipleInstances?g:[])}}return u.type==="PUBLIC"?n[h]:null}function a(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(){const e=lk(sk);e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:m0,extendNamespace:t,createSubscribe:NS,ErrorFactory:Ta,deepExtend:Ds});function t(n){Ds(e,n)}return e}const ak=m0();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=new so("@firebase/app-compat"),uk="@firebase/app-compat",ck="0.2.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(e){Kt(uk,ck,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(mS()&&self.firebase!==void 0){$g.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&$g.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Wa=ak;hk();var dk="firebase",fk="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wa.registerVersion(dk,fk,"app-compat");var Ug={};const Bg="@firebase/database",jg="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _0="";function v0(e){_0=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ge(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Os(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return ht(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new pk(t)}}catch{}return new gk},dr=y0("localStorage"),vh=y0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new so("@firebase/database"),w0=function(){let e=1;return function(){return e++}}(),E0=function(e){const t=xS(e),n=new kS;n.update(t);const r=n.digest();return Od.encodeByteArray(r)},go=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=go.apply(null,r):typeof r=="object"?t+=ge(r):t+=r,t+=" "}return t};let _r=null,zg=!0;const C0=function(e,t){E(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(li.logLevel=H.VERBOSE,_r=li.log.bind(li),t&&vh.set("logging_enabled",!0)):typeof e=="function"?_r=e:(_r=null,vh.remove("logging_enabled"))},Se=function(...e){if(zg===!0&&(zg=!1,_r===null&&vh.get("logging_enabled")===!0&&C0(!0)),_r){const t=go.apply(null,e);_r(t)}},mo=function(e){return function(...t){Se(e,...t)}},yh=function(...e){const t="FIREBASE INTERNAL ERROR: "+go(...e);li.error(t)},Jt=function(...e){const t=`FIREBASE FATAL ERROR: ${go(...e)}`;throw li.error(t),new Error(t)},Be=function(...e){const t="FIREBASE WARNING: "+go(...e);li.warn(t)},mk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Be("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Va=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},_k=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},bn="[MIN_NAME]",gn="[MAX_NAME]",Lr=function(e,t){if(e===t)return 0;if(e===bn||t===gn)return-1;if(t===bn||e===gn)return 1;{const n=Wg(e),r=Wg(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},vk=function(e,t){return e===t?0:e<t?-1:1},bi=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ge(t))},cf=function(e){if(typeof e!="object"||e===null)return ge(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ge(t[r]),n+=":",n+=cf(e[t[r]]);return n+="}",n},S0=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ke(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const T0=function(e){E(!Va(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(a=0;a<64;a+=8){let d=parseInt(c.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},yk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ek(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const Ck=new RegExp("^-?(0*)\\d{1,10}$"),Sk=-2147483648,Tk=2147483647,Wg=function(e){if(Ck.test(e)){const t=Number(e);if(t>=Sk&&t<=Tk)return t}return null},Pi=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Be("Exception was thrown by user callback.",n),t},Math.floor(0))}},Ik=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},cs=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Be(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Se("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Be(t)}}class ai{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}ai.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="5",I0="v",k0="s",N0="r",P0="f",R0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,x0="ls",A0="p",wh="ac",D0="websocket",O0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&dr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function Pk(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function M0(e,t,n){E(typeof t=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(t===D0)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===O0)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Pk(e)&&(n.ns=e.namespace);const i=[];return ke(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.counters_={}}incrementCounter(t,n=1){ht(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return lS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu={},Xu={};function df(e){const t=e.toString();return qu[t]||(qu[t]=new Rk),qu[t]}function xk(e,t){const n=e.toString();return Xu[n]||(Xu[n]=t()),Xu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="start",Dk="close",Ok="pLPCommand",Lk="pRTLPCB",F0="id",$0="pw",U0="ser",Mk="cb",Fk="seg",$k="ts",Uk="d",Bk="dframe",B0=1870,j0=30,jk=B0-j0,zk=25e3,Wk=3e4;class kn{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mo(t),this.stats_=df(n),this.urlFn=a=>(this.appCheckToken&&(a[wh]=this.appCheckToken),M0(n,O0,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ak(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Wk)),_k(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ff((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Vg)this.id=l,this.password=a;else if(o===Dk)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Vg]="t",r[U0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Mk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[I0]=hf,this.transportSessionId&&(r[k0]=this.transportSessionId),this.lastSessionId&&(r[x0]=this.lastSessionId),this.applicationId&&(r[A0]=this.applicationId),this.appCheckToken&&(r[wh]=this.appCheckToken),typeof location<"u"&&location.hostname&&R0.test(location.hostname)&&(r[N0]=P0);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){kn.forceAllow_=!0}static forceDisallow(){kn.forceDisallow_=!0}static isAvailable(){return kn.forceAllow_?!0:!kn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!yk()&&!wk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=ge(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=qv(n),i=S0(r,jk);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Bk]="t",r[F0]=t,r[$0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=ge(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ff{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=w0(),window[Ok+this.uniqueCallbackIdentifier]=t,window[Lk+this.uniqueCallbackIdentifier]=n,this.myIFrame=ff.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Se("frame writing exception"),l.stack&&Se(l.stack),Se(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Se("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[F0]=this.myID,t[$0]=this.myPW,t[U0]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+j0+r.length<=B0;){const o=this.pendingSegs.shift();r=r+"&"+Fk+i+"="+o.seg+"&"+$k+i+"="+o.ts+"&"+Uk+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(zk)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Se("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=16384,bk=45e3;let Hl=null;typeof MozWebSocket<"u"?Hl=MozWebSocket:typeof WebSocket<"u"&&(Hl=WebSocket);class yt{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mo(this.connId),this.stats_=df(n),this.connURL=yt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[I0]=hf,typeof location<"u"&&location.hostname&&R0.test(location.hostname)&&(o[N0]=P0),n&&(o[k0]=n),r&&(o[x0]=r),i&&(o[wh]=i),s&&(o[A0]=s),M0(t,D0,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dr.set("previous_websocket_failure",!0);try{let r;Zv(),this.mySock=new Hl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){yt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Hl!==null&&!yt.forceDisallow_}static previouslyFailed(){return dr.isInMemoryStorage||dr.get("previous_websocket_failure")===!0}markConnectionHealthy(){dr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Os(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(E(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=ge(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=S0(n,Vk);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(bk))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}yt.responsesRequiredToBeHealthy=2;yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[kn,yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=yt&&yt.isAvailable();let r=n&&!yt.previouslyFailed();if(t.webSocketOnly&&(n||Be("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yt];else{const i=this.transports_=[];for(const s of mi.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);mi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=6e4,Qk=5e3,Gk=10*1024,Kk=100*1024,Ju="t",bg="d",Yk="s",Hg="r",qk="e",Qg="o",Gg="a",Kg="n",Yg="p",Xk="h";class Jk{constructor(t,n,r,i,s,o,l,a,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mo("c:"+this.id+":"),this.transportManager_=new mi(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=cs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Kk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Gk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Ju in t){const n=t[Ju];n===Gg?this.upgradeIfSecondaryHealthy_():n===Hg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Qg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=bi("t",t),r=bi("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Yg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Gg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Kg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=bi("t",t),r=bi("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=bi(Ju,t);if(bg in t){const r=t[bg];if(n===Xk){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Kg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Yk?this.onConnectionShutdown_(r):n===Hg?this.onReset_(r):n===qk?yh("Server Error: "+r):n===Qg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yh("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),hf!==r&&Be("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),cs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Hk))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Qk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Yg,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t){this.allowedEvents_=t,this.listeners_={},E(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){E(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends W0{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Jv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ql}getInitialEvent(t){return E(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=32,Xg=768;class b{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function V(){return new b("")}function M(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Hn(e){return e.pieces_.length-e.pieceNum_}function K(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new b(e.pieces_,t)}function pf(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Zk(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Hs(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function V0(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new b(t,0)}function ne(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof b)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new b(n,0)}function F(e){return e.pieceNum_>=e.pieces_.length}function Ve(e,t){const n=M(e),r=M(t);if(n===null)return t;if(n===r)return Ve(K(e),K(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function eN(e,t){const n=Hs(e,0),r=Hs(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Lr(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function gf(e,t){if(Hn(e)!==Hn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Et(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Hn(e)>Hn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class tN{constructor(t,n){this.errorPrefix_=n,this.parts_=Hs(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ia(this.parts_[r]);b0(this)}}function nN(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ia(t),b0(e)}function rN(e){const t=e.parts_.pop();e.byteLength_-=Ia(t),e.parts_.length>0&&(e.byteLength_-=1)}function b0(e){if(e.byteLength_>Xg)throw new Error(e.errorPrefix_+"has a key path longer than "+Xg+" bytes ("+e.byteLength_+").");if(e.parts_.length>qg)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qg+") or object contains a cycle "+or(e))}function or(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends W0{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new mf}getInitialEvent(t){return E(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=1e3,iN=60*5*1e3,Jg=30*1e3,sN=1.3,oN=3e4,lN="server_kill",Zg=3;class un extends z0{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=un.nextPersistentConnectionId_++,this.log_=mo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hi,this.maxReconnectDelay_=iN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Zv())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mf.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Ql.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(ge(s)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Ye,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),E(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;un.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&ht(t,"w")){const r=Sr(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Be(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||TS(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Jg)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=SS(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),E(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ge(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):yh("Unrecognized action received from server: "+ge(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oN&&(this.reconnectDelay_=Hi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+un.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(h){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Se("getToken() completed but was canceled"):(Se("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,l=new Jk(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{Be(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(lN)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Be(h),a())}}}interrupt(t){Se("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Se("Resuming connection for reason: "+t),delete this.interruptReasons_[t],th(this.interruptReasons_)&&(this.reconnectDelay_=Hi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>cf(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new b(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Se("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Zg&&(this.reconnectDelay_=Jg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Se("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Zg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+_0.replace(/\./g,"-")]=1,Jv()?t["framework.cordova"]=1:_S()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ql.getInstance().currentlyOnline();return th(this.interruptReasons_)&&t}}un.nextPersistentConnectionId_=0;un.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new U(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new U(bn,t),i=new U(bn,n);return this.compare(r,i)!==0}minPost(){return U.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko;class H0 extends ba{static get __EMPTY_NODE(){return Ko}static set __EMPTY_NODE(t){Ko=t}compare(t,n){return Lr(t.name,n.name)}isDefinedOn(t){throw Ti("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return U.MIN}maxPost(){return new U(gn,Ko)}makePost(t,n){return E(typeof t=="string","KeyIndex indexValue must always be a string."),new U(t,Ko)}toString(){return".key"}}const Yt=new H0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ce{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ce.RED,this.left=i??Xe.EMPTY_NODE,this.right=s??Xe.EMPTY_NODE}copy(t,n,r,i,s){return new Ce(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xe.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Xe.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ce.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ce.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ce.RED=!0;Ce.BLACK=!1;class aN{copy(t,n,r,i,s){return this}insert(t,n,r){return new Ce(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xe{constructor(t,n=Xe.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Xe(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ce.BLACK,null,null))}remove(t){return new Xe(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ce.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Yo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Yo(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Yo(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Yo(this.root_,null,this.comparator_,!0,t)}}Xe.EMPTY_NODE=new aN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(e,t){return Lr(e.name,t.name)}function _f(e,t){return Lr(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh;function cN(e){Eh=e}const Q0=function(e){return typeof e=="number"?"number:"+T0(e):"string:"+e},G0=function(e){if(e.isLeafNode()){const t=e.val();E(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ht(t,".sv"),"Priority must be a string or number.")}else E(e===Eh||e.isEmpty(),"priority of unexpected type.");E(e===Eh||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em;class ye{constructor(t,n=ye.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),G0(this.priorityNode_)}static set __childrenNodeConstructor(t){em=t}static get __childrenNodeConstructor(){return em}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ye(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ye.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return F(t)?this:M(t)===".priority"?this.priorityNode_:ye.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:ye.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=M(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(E(r!==".priority"||Hn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ye.__childrenNodeConstructor.EMPTY_NODE.updateChild(K(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Q0(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=T0(this.value_):t+=this.value_,this.lazyHash_=E0(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ye.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ye.__childrenNodeConstructor?-1:(E(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=ye.VALUE_TYPE_ORDER.indexOf(n),s=ye.VALUE_TYPE_ORDER.indexOf(r);return E(i>=0,"Unknown leaf type: "+n),E(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ye.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0,Y0;function hN(e){K0=e}function dN(e){Y0=e}class fN extends ba{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Lr(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return U.MIN}maxPost(){return new U(gn,new ye("[PRIORITY-POST]",Y0))}makePost(t,n){const r=K0(t);return new U(n,new ye("[PRIORITY-POST]",r))}toString(){return".priority"}}const X=new fN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=Math.log(2);class gN{constructor(t){const n=s=>parseInt(Math.log(s)/pN,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Gl=function(e,t,n,r){e.sort(t);const i=function(a,u){const c=u-a;let h,d;if(c===0)return null;if(c===1)return h=e[a],d=n?n(h):h,new Ce(d,h.node,Ce.BLACK,null,null);{const g=parseInt(c/2,10)+a,_=i(a,g),v=i(g+1,u);return h=e[g],d=n?n(h):h,new Ce(d,h.node,Ce.BLACK,_,v)}},s=function(a){let u=null,c=null,h=e.length;const d=function(_,v){const I=h-_,p=h;h-=_;const f=i(I+1,p),m=e[I],y=n?n(m):m;g(new Ce(y,m.node,v,null,f))},g=function(_){u?(u.left=_,u=_):(c=_,u=_)};for(let _=0;_<a.count;++_){const v=a.nextBitIsOne(),I=Math.pow(2,a.count-(_+1));v?d(I,Ce.BLACK):(d(I,Ce.BLACK),d(I,Ce.RED))}return c},o=new gN(e.length),l=s(o);return new Xe(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu;const Br={};class on{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return E(Br&&X,"ChildrenNode.ts has not been loaded"),Zu=Zu||new on({".priority":Br},{".priority":X}),Zu}get(t){const n=Sr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Xe?n:null}hasIndex(t){return ht(this.indexSet_,t.toString())}addIndex(t,n){E(t!==Yt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(U.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Gl(r,t.getCompare()):l=Br;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const c=Object.assign({},this.indexes_);return c[a]=l,new on(c,u)}addToIndexes(t,n){const r=Ml(this.indexes_,(i,s)=>{const o=Sr(this.indexSet_,s);if(E(o,"Missing index implementation for "+s),i===Br)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(U.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),Gl(l,o.getCompare())}else return Br;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new U(t.name,l))),a.insert(t,t.node)}});return new on(r,this.indexSet_)}removeFromIndexes(t,n){const r=Ml(this.indexes_,i=>{if(i===Br)return i;{const s=n.get(t.name);return s?i.remove(new U(t.name,s)):i}});return new on(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qi;class A{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&G0(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qi||(Qi=new A(new Xe(_f),null,on.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qi}updatePriority(t){return this.children_.isEmpty()?this:new A(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Qi:n}}getChild(t){const n=M(t);return n===null?this:this.getImmediateChild(n).getChild(K(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(E(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new U(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Qi:this.priorityNode_;return new A(i,o,s)}}updateChild(t,n){const r=M(t);if(r===null)return n;{E(M(t)!==".priority"||Hn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(K(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(X,(o,l)=>{n[o]=l.val(t),r++,s&&A.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Q0(this.getPriority().val())+":"),this.forEachChild(X,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":E0(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new U(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new U(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new U(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,U.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,U.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===_o?-1:0}withIndex(t){if(t===Yt||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new A(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Yt||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(X),i=n.getIterator(X);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Yt?null:this.indexMap_.get(t.toString())}}A.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class mN extends A{constructor(){super(new Xe(_f),A.EMPTY_NODE,on.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return A.EMPTY_NODE}isEmpty(){return!1}}const _o=new mN;Object.defineProperties(U,{MIN:{value:new U(bn,A.EMPTY_NODE)},MAX:{value:new U(gn,_o)}});H0.__EMPTY_NODE=A.EMPTY_NODE;ye.__childrenNodeConstructor=A;cN(_o);dN(_o);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=!0;function ie(e,t=null){if(e===null)return A.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),E(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new ye(n,ie(t))}if(!(e instanceof Array)&&_N){const n=[];let r=!1;if(ke(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=ie(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new U(o,a)))}}),n.length===0)return A.EMPTY_NODE;const s=Gl(n,uN,o=>o.name,_f);if(r){const o=Gl(n,X.getCompare());return new A(s,ie(t),new on({".priority":o},{".priority":X}))}else return new A(s,ie(t),on.Default)}else{let n=A.EMPTY_NODE;return ke(e,(r,i)=>{if(ht(e,r)&&r.substring(0,1)!=="."){const s=ie(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ie(t))}}hN(ie);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends ba{constructor(t){super(),this.indexPath_=t,E(!F(t)&&M(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Lr(t.name,n.name):s}makePost(t,n){const r=ie(t),i=A.EMPTY_NODE.updateChild(this.indexPath_,r);return new U(n,i)}maxPost(){const t=A.EMPTY_NODE.updateChild(this.indexPath_,_o);return new U(gn,t)}toString(){return Hs(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN extends ba{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Lr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return U.MIN}maxPost(){return U.MAX}makePost(t,n){const r=ie(t);return new U(n,r)}toString(){return".value"}}const yf=new vN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(e){return{type:"value",snapshotNode:e}}function _i(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Qs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Gs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function yN(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){E(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(Qs(n,l)):E(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(_i(n,r)):o.trackChildChange(Gs(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(X,(i,s)=>{n.hasChild(i)||r.trackChildChange(Qs(i,s))}),n.isLeafNode()||n.forEachChild(X,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(Gs(i,s,o))}else r.trackChildChange(_i(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?A.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.indexedFilter_=new wf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ks.getStartPost_(t),this.endPost_=Ks.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new U(n,r))||(r=A.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=A.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(A.EMPTY_NODE);const s=this;return n.forEachChild(X,(o,l)=>{s.matches(new U(o,l))||(i=i.updateImmediateChild(o,A.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ks(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new U(n,r))||(r=A.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=A.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=A.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(A.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,A.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,g)=>h(g,d)}else o=this.index_.getCompare();const l=t;E(l.numChildren()===this.limit_,"");const a=new U(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(l.hasChild(n)){const h=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const g=d==null?1:o(d,a);if(c&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(Gs(n,r,h)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Qs(n,h));const v=l.updateImmediateChild(n,A.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(_i(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}}else return r.isEmpty()?t:c&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Qs(u.name,u.node)),s.trackChildChange(_i(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,A.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=X}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:bn}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===X}copy(){const t=new Ha;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function EN(e){return e.loadsAllData()?new wf(e.getIndex()):e.hasLimit()?new wN(e):new Ks(e)}function CN(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function SN(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Ch(e,t,n){const r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function TN(e,t,n){let r;return e.index_===Yt||n?r=Ch(e,t,n):r=Ch(e,t,gn),r.startAfterSet_=!0,r}function Sh(e,t,n){const r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function IN(e,t,n){let r;return e.index_===Yt||n?r=Sh(e,t,n):r=Sh(e,t,bn),r.endBeforeSet_=!0,r}function Qa(e,t){const n=e.copy();return n.index_=t,n}function tm(e){const t={};if(e.isDefault())return t;let n;if(e.index_===X?n="$priority":e.index_===yf?n="$value":e.index_===Yt?n="$key":(E(e.index_ instanceof vf,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ge(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=ge(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ge(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ge(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ge(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function nm(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==X&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends z0{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=mo("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(E(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Kl.getListenId_(t,r),l={};this.listens_[o]=l;const a=tm(t._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Sr(this.listens_,o)===l){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(t,n){const r=Kl.getListenId_(t,n);delete this.listens_[r]}get(t){const n=tm(t._queryParams),r=t._path.toString(),i=new Ye;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+IS(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Os(l.responseText)}catch{Be("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Be("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.rootNode_=A.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(){return{value:null,children:new Map}}function Ri(e,t,n){if(F(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=M(t);e.children.has(r)||e.children.set(r,Yl());const i=e.children.get(r);t=K(t),Ri(i,t,n)}}function Th(e,t){if(F(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(X,(r,i)=>{Ri(e,new b(r),i)}),Th(e,t)}}else if(e.children.size>0){const n=M(t);return t=K(t),e.children.has(n)&&Th(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function Ih(e,t,n){e.value!==null?n(t,e.value):NN(e,(r,i)=>{const s=new b(t.toString()+"/"+r);Ih(i,s,n)})}function NN(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ke(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=10*1e3,RN=30*1e3,xN=5*60*1e3;class AN{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new PN(t);const r=rm+(RN-rm)*Math.random();cs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;ke(t,(i,s)=>{s>0&&ht(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),cs(this.reportStats_.bind(this),Math.floor(Math.random()*2*xN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Lt||(Lt={}));function Ef(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Cf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Sf(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Lt.ACK_USER_WRITE,this.source=Ef()}operationForChild(t){if(F(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new b(t));return new ql(V(),n,this.revert)}}else return E(M(this.path)===t,"operationForChild called for unrelated child."),new ql(K(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,n){this.source=t,this.path=n,this.type=Lt.LISTEN_COMPLETE}operationForChild(t){return F(this.path)?new Ys(this.source,V()):new Ys(this.source,K(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Lt.OVERWRITE}operationForChild(t){return F(this.path)?new kr(this.source,V(),this.snap.getImmediateChild(t)):new kr(this.source,K(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Lt.MERGE}operationForChild(t){if(F(this.path)){const n=this.children.subtree(new b(t));return n.isEmpty()?null:n.value?new kr(this.source,V(),n.value):new vi(this.source,V(),n)}else return E(M(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new vi(this.source,K(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(F(t))return this.isFullyInitialized()&&!this.filtered_;const n=M(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ON(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(yN(o.childName,o.snapshotNode))}),Gi(e,i,"child_removed",t,r,n),Gi(e,i,"child_added",t,r,n),Gi(e,i,"child_moved",s,r,n),Gi(e,i,"child_changed",t,r,n),Gi(e,i,"value",t,r,n),i}function Gi(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>MN(e,l,a)),o.forEach(l=>{const a=LN(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function LN(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function MN(e,t,n){if(t.childName==null||n.childName==null)throw Ti("Should only compare child_ events.");const r=new U(t.childName,t.snapshotNode),i=new U(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(e,t){return{eventCache:e,serverCache:t}}function hs(e,t,n,r){return Ga(new Qn(t,n,r),e.serverCache)}function X0(e,t,n,r){return Ga(e.eventCache,new Qn(t,n,r))}function Xl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Nr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;const FN=()=>(ec||(ec=new Xe(vk)),ec);class Y{constructor(t,n=FN()){this.value=t,this.children=n}static fromObject(t){let n=new Y(null);return ke(t,(r,i)=>{n=n.set(new b(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:V(),value:this.value};if(F(t))return null;{const r=M(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(K(t),n);return s!=null?{path:ne(new b(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(F(t))return this;{const n=M(t),r=this.children.get(n);return r!==null?r.subtree(K(t)):new Y(null)}}set(t,n){if(F(t))return new Y(n,this.children);{const r=M(t),s=(this.children.get(r)||new Y(null)).set(K(t),n),o=this.children.insert(r,s);return new Y(this.value,o)}}remove(t){if(F(t))return this.children.isEmpty()?new Y(null):new Y(null,this.children);{const n=M(t),r=this.children.get(n);if(r){const i=r.remove(K(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Y(null):new Y(this.value,s)}else return this}}get(t){if(F(t))return this.value;{const n=M(t),r=this.children.get(n);return r?r.get(K(t)):null}}setTree(t,n){if(F(t))return n;{const r=M(t),s=(this.children.get(r)||new Y(null)).setTree(K(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Y(this.value,o)}}fold(t){return this.fold_(V(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ne(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,V(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(F(t))return null;{const s=M(t),o=this.children.get(s);return o?o.findOnPath_(K(t),ne(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,V(),n)}foreachOnPath_(t,n,r){if(F(t))return this;{this.value&&r(n,this.value);const i=M(t),s=this.children.get(i);return s?s.foreachOnPath_(K(t),ne(n,i),r):new Y(null)}}foreach(t){this.foreach_(V(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ne(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.writeTree_=t}static empty(){return new $t(new Y(null))}}function ds(e,t,n){if(F(t))return new $t(new Y(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Ve(i,t);return s=s.updateChild(o,n),new $t(e.writeTree_.set(i,s))}else{const i=new Y(n),s=e.writeTree_.setTree(t,i);return new $t(s)}}}function kh(e,t,n){let r=e;return ke(n,(i,s)=>{r=ds(r,ne(t,i),s)}),r}function im(e,t){if(F(t))return $t.empty();{const n=e.writeTree_.setTree(t,new Y(null));return new $t(n)}}function Nh(e,t){return Mr(e,t)!=null}function Mr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ve(n.path,t)):null}function sm(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(X,(r,i)=>{t.push(new U(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new U(r,i.value))}),t}function $n(e,t){if(F(t))return e;{const n=Mr(e,t);return n!=null?new $t(new Y(n)):new $t(e.writeTree_.subtree(t))}}function Ph(e){return e.writeTree_.isEmpty()}function yi(e,t){return J0(V(),e.writeTree_,t)}function J0(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(E(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=J0(ne(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ne(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(e,t){return n1(t,e)}function $N(e,t,n,r,i){E(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ds(e.visibleWrites,t,n)),e.lastWriteId=r}function UN(e,t,n,r){E(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=kh(e.visibleWrites,t,n),e.lastWriteId=r}function BN(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function jN(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);E(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&zN(l,r.path)?i=!1:Et(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return WN(e),!0;if(r.snap)e.visibleWrites=im(e.visibleWrites,r.path);else{const l=r.children;ke(l,a=>{e.visibleWrites=im(e.visibleWrites,ne(r.path,a))})}return!0}else return!1}function zN(e,t){if(e.snap)return Et(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Et(ne(e.path,n),t))return!0;return!1}function WN(e){e.visibleWrites=Z0(e.allWrites,VN,V()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function VN(e){return e.visible}function Z0(e,t,n){let r=$t.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)Et(n,o)?(l=Ve(n,o),r=ds(r,l,s.snap)):Et(o,n)&&(l=Ve(o,n),r=ds(r,V(),s.snap.getChild(l)));else if(s.children){if(Et(n,o))l=Ve(n,o),r=kh(r,l,s.children);else if(Et(o,n))if(l=Ve(o,n),F(l))r=kh(r,V(),s.children);else{const a=Sr(s.children,M(l));if(a){const u=a.getChild(K(l));r=ds(r,V(),u)}}}else throw Ti("WriteRecord should have .snap or .children")}}return r}function e1(e,t,n,r,i){if(!r&&!i){const s=Mr(e.visibleWrites,t);if(s!=null)return s;{const o=$n(e.visibleWrites,t);if(Ph(o))return n;if(n==null&&!Nh(o,V()))return null;{const l=n||A.EMPTY_NODE;return yi(o,l)}}}else{const s=$n(e.visibleWrites,t);if(!i&&Ph(s))return n;if(!i&&n==null&&!Nh(s,V()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Et(u.path,t)||Et(t,u.path))},l=Z0(e.allWrites,o,t),a=n||A.EMPTY_NODE;return yi(l,a)}}}function bN(e,t,n){let r=A.EMPTY_NODE;const i=Mr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(X,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=$n(e.visibleWrites,t);return n.forEachChild(X,(o,l)=>{const a=yi($n(s,new b(o)),l);r=r.updateImmediateChild(o,a)}),sm(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=$n(e.visibleWrites,t);return sm(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function HN(e,t,n,r,i){E(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ne(t,n);if(Nh(e.visibleWrites,s))return null;{const o=$n(e.visibleWrites,s);return Ph(o)?i.getChild(n):yi(o,i.getChild(n))}}function QN(e,t,n,r){const i=ne(t,n),s=Mr(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=$n(e.visibleWrites,i);return yi(o,r.getNode().getImmediateChild(n))}else return null}function GN(e,t){return Mr(e.visibleWrites,t)}function KN(e,t,n,r,i,s,o){let l;const a=$n(e.visibleWrites,t),u=Mr(a,V());if(u!=null)l=u;else if(n!=null)l=yi(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],h=o.getCompare(),d=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=d.getNext();for(;g&&c.length<i;)h(g,r)!==0&&c.push(g),g=d.getNext();return c}else return[]}function YN(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function Jl(e,t,n,r){return e1(e.writeTree,e.treePath,t,n,r)}function Tf(e,t){return bN(e.writeTree,e.treePath,t)}function om(e,t,n,r){return HN(e.writeTree,e.treePath,t,n,r)}function Zl(e,t){return GN(e.writeTree,ne(e.treePath,t))}function qN(e,t,n,r,i,s){return KN(e.writeTree,e.treePath,t,n,r,i,s)}function If(e,t,n){return QN(e.writeTree,e.treePath,t,n)}function t1(e,t){return n1(ne(e.treePath,t),e.writeTree)}function n1(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Gs(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Qs(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,_i(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Gs(r,t.snapshotNode,i.oldSnap));else throw Ti("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const r1=new JN;class kf{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Qn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return If(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Nr(this.viewCache_),s=qN(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(e){return{filter:e}}function eP(e,t){E(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),E(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function tP(e,t,n,r,i){const s=new XN;let o,l;if(n.type===Lt.OVERWRITE){const u=n;u.source.fromUser?o=Rh(e,t,u.path,u.snap,r,i,s):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!F(u.path),o=ea(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===Lt.MERGE){const u=n;u.source.fromUser?o=rP(e,t,u.path,u.children,r,i,s):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=xh(e,t,u.path,u.children,r,i,l,s))}else if(n.type===Lt.ACK_USER_WRITE){const u=n;u.revert?o=oP(e,t,u.path,r,i,s):o=iP(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===Lt.LISTEN_COMPLETE)o=sP(e,t,n.path,r,s);else throw Ti("Unknown operation type: "+n.type);const a=s.getChanges();return nP(t,o,a),{viewCache:o,changes:a}}function nP(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Xl(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(q0(Xl(t)))}}function i1(e,t,n,r,i,s){const o=t.eventCache;if(Zl(r,n)!=null)return t;{let l,a;if(F(n))if(E(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Nr(t),c=u instanceof A?u:A.EMPTY_NODE,h=Tf(r,c);l=e.filter.updateFullNode(t.eventCache.getNode(),h,s)}else{const u=Jl(r,Nr(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=M(n);if(u===".priority"){E(Hn(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=t.serverCache.getNode();const h=om(r,n,c,a);h!=null?l=e.filter.updatePriority(c,h):l=o.getNode()}else{const c=K(n);let h;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const d=om(r,n,o.getNode(),a);d!=null?h=o.getNode().getImmediateChild(u).updateChild(c,d):h=o.getNode().getImmediateChild(u)}else h=If(r,u,t.serverCache);h!=null?l=e.filter.updateChild(o.getNode(),u,h,c,i,s):l=o.getNode()}}return hs(t,l,o.isFullyInitialized()||F(n),e.filter.filtersNodes())}}function ea(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(F(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),g,null)}else{const g=M(n);if(!a.isCompleteForPath(n)&&Hn(n)>1)return t;const _=K(n),I=a.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?u=c.updatePriority(a.getNode(),I):u=c.updateChild(a.getNode(),g,I,_,r1,null)}const h=X0(t,u,a.isFullyInitialized()||F(n),c.filtersNodes()),d=new kf(i,h,s);return i1(e,h,n,i,d,l)}function Rh(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const c=new kf(i,t,s);if(F(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=hs(t,u,!0,e.filter.filtersNodes());else{const h=M(n);if(h===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=hs(t,u,l.isFullyInitialized(),l.isFiltered());else{const d=K(n),g=l.getNode().getImmediateChild(h);let _;if(F(d))_=r;else{const v=c.getCompleteChild(h);v!=null?pf(d)===".priority"&&v.getChild(V0(d)).isEmpty()?_=v:_=v.updateChild(d,r):_=A.EMPTY_NODE}if(g.equals(_))a=t;else{const v=e.filter.updateChild(l.getNode(),h,_,d,c,o);a=hs(t,v,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function lm(e,t){return e.eventCache.isCompleteForChild(t)}function rP(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const c=ne(n,a);lm(t,M(c))&&(l=Rh(e,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=ne(n,a);lm(t,M(c))||(l=Rh(e,l,c,u,i,s,o))}),l}function am(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function xh(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;F(n)?u=r:u=new Y(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((h,d)=>{if(c.hasChild(h)){const g=t.serverCache.getNode().getImmediateChild(h),_=am(e,g,d);a=ea(e,a,new b(h),_,i,s,o,l)}}),u.children.inorderTraversal((h,d)=>{const g=!t.serverCache.isCompleteForChild(h)&&d.value===null;if(!c.hasChild(h)&&!g){const _=t.serverCache.getNode().getImmediateChild(h),v=am(e,_,d);a=ea(e,a,new b(h),v,i,s,o,l)}}),a}function iP(e,t,n,r,i,s,o){if(Zl(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(F(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return ea(e,t,n,a.getNode().getChild(n),i,s,l,o);if(F(n)){let u=new Y(null);return a.getNode().forEachChild(Yt,(c,h)=>{u=u.set(new b(c),h)}),xh(e,t,n,u,i,s,l,o)}else return t}else{let u=new Y(null);return r.foreach((c,h)=>{const d=ne(n,c);a.isCompleteForPath(d)&&(u=u.set(c,a.getNode().getChild(d)))}),xh(e,t,n,u,i,s,l,o)}}function sP(e,t,n,r,i){const s=t.serverCache,o=X0(t,s.getNode(),s.isFullyInitialized()||F(n),s.isFiltered());return i1(e,o,n,r,r1,i)}function oP(e,t,n,r,i,s){let o;if(Zl(r,n)!=null)return t;{const l=new kf(r,t,i),a=t.eventCache.getNode();let u;if(F(n)||M(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Jl(r,Nr(t));else{const h=t.serverCache.getNode();E(h instanceof A,"serverChildren would be complete if leaf node"),c=Tf(r,h)}c=c,u=e.filter.updateFullNode(a,c,s)}else{const c=M(n);let h=If(r,c,t.serverCache);h==null&&t.serverCache.isCompleteForChild(c)&&(h=a.getImmediateChild(c)),h!=null?u=e.filter.updateChild(a,c,h,K(n),l,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(a,c,A.EMPTY_NODE,K(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Jl(r,Nr(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||Zl(r,V())!=null,hs(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new wf(r.getIndex()),s=EN(r);this.processor_=ZN(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(A.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(A.EMPTY_NODE,l.getNode(),null),c=new Qn(a,o.isFullyInitialized(),i.filtersNodes()),h=new Qn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Ga(h,c),this.eventGenerator_=new DN(this.query_)}get query(){return this.query_}}function aP(e){return e.viewCache_.serverCache.getNode()}function uP(e){return Xl(e.viewCache_)}function cP(e,t){const n=Nr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!F(t)&&!n.getImmediateChild(M(t)).isEmpty())?n.getChild(t):null}function um(e){return e.eventRegistrations_.length===0}function hP(e,t){e.eventRegistrations_.push(t)}function cm(e,t,n){const r=[];if(n){E(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function hm(e,t,n,r){t.type===Lt.MERGE&&t.source.queryId!==null&&(E(Nr(e.viewCache_),"We should always have a full cache before handling merges"),E(Xl(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=tP(e.processor_,i,t,n,r);return eP(e.processor_,s.viewCache),E(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,s1(e,s.changes,s.viewCache.eventCache.getNode(),null)}function dP(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(X,(s,o)=>{r.push(_i(s,o))}),n.isFullyInitialized()&&r.push(q0(n.getNode())),s1(e,r,n.getNode(),t)}function s1(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return ON(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta;class o1{constructor(){this.views=new Map}}function fP(e){E(!ta,"__referenceConstructor has already been defined"),ta=e}function pP(){return E(ta,"Reference.ts has not been loaded"),ta}function gP(e){return e.views.size===0}function Nf(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return E(s!=null,"SyncTree gave us an op for an invalid query."),hm(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(hm(o,t,n,r));return s}}function l1(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=Jl(n,i?r:null),a=!1;l?a=!0:r instanceof A?(l=Tf(n,r),a=!1):(l=A.EMPTY_NODE,a=!1);const u=Ga(new Qn(l,a,!1),new Qn(r,i,!1));return new lP(t,u)}return o}function mP(e,t,n,r,i,s){const o=l1(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),hP(o,n),dP(o,n)}function _P(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=Gn(e);if(i==="default")for(const[a,u]of e.views.entries())o=o.concat(cm(u,n,r)),um(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=e.views.get(i);a&&(o=o.concat(cm(a,n,r)),um(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Gn(e)&&s.push(new(pP())(t._repo,t._path)),{removed:s,events:o}}function a1(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Un(e,t){let n=null;for(const r of e.views.values())n=n||cP(r,t);return n}function u1(e,t){if(t._queryParams.loadsAllData())return Ya(e);{const r=t._queryIdentifier;return e.views.get(r)}}function c1(e,t){return u1(e,t)!=null}function Gn(e){return Ya(e)!=null}function Ya(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na;function vP(e){E(!na,"__referenceConstructor has already been defined"),na=e}function yP(){return E(na,"Reference.ts has not been loaded"),na}let wP=1;class dm{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Y(null),this.pendingWriteTree_=YN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Pf(e,t,n,r,i){return $N(e.pendingWriteTree_,t,n,r,i),i?xi(e,new kr(Ef(),t,n)):[]}function EP(e,t,n,r){UN(e.pendingWriteTree_,t,n,r);const i=Y.fromObject(n);return xi(e,new vi(Ef(),t,i))}function Nn(e,t,n=!1){const r=BN(e.pendingWriteTree_,t);if(jN(e.pendingWriteTree_,t)){let s=new Y(null);return r.snap!=null?s=s.set(V(),!0):ke(r.children,o=>{s=s.set(new b(o),!0)}),xi(e,new ql(r.path,s,n))}else return[]}function vo(e,t,n){return xi(e,new kr(Cf(),t,n))}function CP(e,t,n){const r=Y.fromObject(n);return xi(e,new vi(Cf(),t,r))}function SP(e,t){return xi(e,new Ys(Cf(),t))}function TP(e,t,n){const r=Rf(e,n);if(r){const i=xf(r),s=i.path,o=i.queryId,l=Ve(s,t),a=new Ys(Sf(o),l);return Af(e,s,a)}else return[]}function ra(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||c1(o,t))){const a=_P(o,t,n,r);gP(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=e.syncPointTree_.findOnPath(s,(d,g)=>Gn(g));if(c&&!h){const d=e.syncPointTree_.subtree(s);if(!d.isEmpty()){const g=NP(d);for(let _=0;_<g.length;++_){const v=g[_],I=v.query,p=p1(e,v);e.listenProvider_.startListening(fs(I),qs(e,I),p.hashFn,p.onComplete)}}}!h&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(fs(t),null):u.forEach(d=>{const g=e.queryToTagMap.get(Xa(d));e.listenProvider_.stopListening(fs(d),g)}))}PP(e,u)}return l}function h1(e,t,n,r){const i=Rf(e,r);if(i!=null){const s=xf(i),o=s.path,l=s.queryId,a=Ve(o,t),u=new kr(Sf(l),a,n);return Af(e,o,u)}else return[]}function IP(e,t,n,r){const i=Rf(e,r);if(i){const s=xf(i),o=s.path,l=s.queryId,a=Ve(o,t),u=Y.fromObject(n),c=new vi(Sf(l),a,u);return Af(e,o,c)}else return[]}function Ah(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(d,g)=>{const _=Ve(d,i);s=s||Un(g,_),o=o||Gn(g)});let l=e.syncPointTree_.get(i);l?(o=o||Gn(l),s=s||Un(l,V())):(l=new o1,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=A.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((g,_)=>{const v=Un(_,V());v&&(s=s.updateImmediateChild(g,v))}));const u=c1(l,t);if(!u&&!t._queryParams.loadsAllData()){const d=Xa(t);E(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");const g=RP();e.queryToTagMap.set(d,g),e.tagToQueryMap.set(g,d)}const c=Ka(e.pendingWriteTree_,i);let h=mP(l,t,n,c,s,a);if(!u&&!o&&!r){const d=u1(l,t);h=h.concat(xP(e,t,d))}return h}function qa(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=Ve(o,t),u=Un(l,a);if(u)return u});return e1(i,t,s,n,!0)}function kP(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const h=Ve(u,n);r=r||Un(c,h)});let i=e.syncPointTree_.get(n);i?r=r||Un(i,V()):(i=new o1,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new Qn(r,!0,!1):null,l=Ka(e.pendingWriteTree_,t._path),a=l1(i,t,l,s?o.getNode():A.EMPTY_NODE,s);return uP(a)}function xi(e,t){return d1(t,e.syncPointTree_,null,Ka(e.pendingWriteTree_,V()))}function d1(e,t,n,r){if(F(e.path))return f1(e,t,n,r);{const i=t.get(V());n==null&&i!=null&&(n=Un(i,V()));let s=[];const o=M(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=t1(r,o);s=s.concat(d1(l,a,u,c))}return i&&(s=s.concat(Nf(i,e,r,n))),s}}function f1(e,t,n,r){const i=t.get(V());n==null&&i!=null&&(n=Un(i,V()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=t1(r,o),c=e.operationForChild(o);c&&(s=s.concat(f1(c,l,a,u)))}),i&&(s=s.concat(Nf(i,e,r,n))),s}function p1(e,t){const n=t.query,r=qs(e,n);return{hashFn:()=>(aP(t)||A.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?TP(e,n._path,r):SP(e,n._path);{const s=Ek(i,n);return ra(e,n,null,s)}}}}function qs(e,t){const n=Xa(t);return e.queryToTagMap.get(n)}function Xa(e){return e._path.toString()+"$"+e._queryIdentifier}function Rf(e,t){return e.tagToQueryMap.get(t)}function xf(e){const t=e.indexOf("$");return E(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new b(e.substr(0,t))}}function Af(e,t,n){const r=e.syncPointTree_.get(t);E(r,"Missing sync point for query tag that we're tracking");const i=Ka(e.pendingWriteTree_,t);return Nf(r,n,i,null)}function NP(e){return e.fold((t,n,r)=>{if(n&&Gn(n))return[Ya(n)];{let i=[];return n&&(i=a1(n)),ke(r,(s,o)=>{i=i.concat(o)}),i}})}function fs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(yP())(e._repo,e._path):e}function PP(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Xa(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function RP(){return wP++}function xP(e,t,n){const r=t._path,i=qs(e,t),s=p1(e,n),o=e.listenProvider_.startListening(fs(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)E(!Gn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,c,h)=>{if(!F(u)&&c&&Gn(c))return[Ya(c).query];{let d=[];return c&&(d=d.concat(a1(c).map(g=>g.query))),ke(h,(g,_)=>{d=d.concat(_)}),d}});for(let u=0;u<a.length;++u){const c=a[u];e.listenProvider_.stopListening(fs(c),qs(e,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Df(n)}node(){return this.node_}}class Of{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ne(this.path_,t);return new Of(this.syncTree_,n)}node(){return qa(this.syncTree_,this.path_)}}const AP=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},fm=function(e,t,n){if(!e||typeof e!="object")return e;if(E(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return DP(e[".sv"],t,n);if(typeof e[".sv"]=="object")return OP(e[".sv"],t);E(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},DP=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+e)}},OP=function(e,t,n){e.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);const i=t.node();if(E(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},g1=function(e,t,n,r){return Mf(t,new Of(n,e),r)},Lf=function(e,t,n){return Mf(e,new Df(t),n)};function Mf(e,t,n){const r=e.getPriority().val(),i=fm(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=fm(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new ye(l,ie(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ye(i))),o.forEachChild(X,(l,a)=>{const u=Mf(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Ja(e,t){let n=t instanceof b?t:new b(t),r=e,i=M(n);for(;i!==null;){const s=Sr(r.node.children,i)||{children:{},childCount:0};r=new Ff(i,r,s),n=K(n),i=M(n)}return r}function Fr(e){return e.node.value}function $f(e,t){e.node.value=t,Dh(e)}function m1(e){return e.node.childCount>0}function LP(e){return Fr(e)===void 0&&!m1(e)}function Za(e,t){ke(e.node.children,(n,r)=>{t(new Ff(n,e,r))})}function _1(e,t,n,r){n&&!r&&t(e),Za(e,i=>{_1(i,t,!0,r)}),n&&r&&t(e)}function MP(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function yo(e){return new b(e.parent===null?e.name:yo(e.parent)+"/"+e.name)}function Dh(e){e.parent!==null&&FP(e.parent,e.name,e)}function FP(e,t,n){const r=LP(n),i=ht(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Dh(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Dh(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=/[\[\].#$\/\u0000-\u001F\u007F]/,UP=/[\[\].#$\u0000-\u001F\u007F]/,tc=10*1024*1024,eu=function(e){return typeof e=="string"&&e.length!==0&&!$P.test(e)},v1=function(e){return typeof e=="string"&&e.length!==0&&!UP.test(e)},BP=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),v1(e)},Xs=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Va(e)||e&&typeof e=="object"&&ht(e,".sv")},Zt=function(e,t,n,r){r&&t===void 0||wo(tt(e,"value"),t,n)},wo=function(e,t,n){const r=n instanceof b?new tN(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+or(r));if(typeof t=="function")throw new Error(e+"contains a function "+or(r)+" with contents = "+t.toString());if(Va(t))throw new Error(e+"contains "+t.toString()+" "+or(r));if(typeof t=="string"&&t.length>tc/3&&Ia(t)>tc)throw new Error(e+"contains a string greater than "+tc+" utf8 bytes "+or(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(ke(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!eu(o)))throw new Error(e+" contains an invalid key ("+o+") "+or(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nN(r,o),wo(e,l,r),rN(r)}),i&&s)throw new Error(e+' contains ".value" child '+or(r)+" in addition to actual children.")}},jP=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=Hs(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!eu(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(eN);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Et(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},y1=function(e,t,n,r){if(r&&t===void 0)return;const i=tt(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];ke(t,(o,l)=>{const a=new b(o);if(wo(i,l,ne(n,a)),pf(a)===".priority"&&!Xs(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),jP(i,s)},Uf=function(e,t,n){if(!(n&&t===void 0)){if(Va(t))throw new Error(tt(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Xs(t))throw new Error(tt(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Eo=function(e,t,n,r){if(!(r&&n===void 0)&&!eu(n))throw new Error(tt(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Js=function(e,t,n,r){if(!(r&&n===void 0)&&!v1(n))throw new Error(tt(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zP=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Js(e,t,n,r)},Ct=function(e,t){if(M(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},w1=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!eu(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!BP(n))throw new Error(tt(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tu(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!gf(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function E1(e,t,n){tu(e,n),C1(e,r=>gf(r,t))}function dt(e,t,n){tu(e,n),C1(e,r=>Et(r,t)||Et(t,r))}function C1(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(VP(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function VP(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();_r&&Se("event: "+n.toString()),Pi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="repo_interrupt",bP=25;class HP{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yl(),this.transactionQueueTree_=new Ff,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QP(e,t,n){if(e.stats_=df(e.repoInfo_),e.forceRestClient_||Ik())e.server_=new Kl(e.repoInfo_,(r,i,s,o)=>{pm(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>gm(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ge(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new un(e.repoInfo_,t,(r,i,s,o)=>{pm(e,r,i,s,o)},r=>{gm(e,r)},r=>{GP(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=xk(e.repoInfo_,()=>new AN(e.stats_,e.server_)),e.infoData_=new kN,e.infoSyncTree_=new dm({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=vo(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Bf(e,"connected",!1),e.serverSyncTree_=new dm({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);dt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function T1(e){const n=e.infoData_.getNode(new b(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Co(e){return AP({timestamp:T1(e)})}function pm(e,t,n,r,i){e.dataUpdateCount++;const s=new b(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=Ml(n,u=>ie(u));o=IP(e.serverSyncTree_,s,a,i)}else{const a=ie(n);o=h1(e.serverSyncTree_,s,a,i)}else if(r){const a=Ml(n,u=>ie(u));o=CP(e.serverSyncTree_,s,a)}else{const a=ie(n);o=vo(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=wi(e,s)),dt(e.eventQueue_,l,o)}function gm(e,t){Bf(e,"connected",t),t===!1&&qP(e)}function GP(e,t){ke(t,(n,r)=>{Bf(e,n,r)})}function Bf(e,t,n){const r=new b("/.info/"+t),i=ie(n);e.infoData_.updateSnapshot(r,i);const s=vo(e.infoSyncTree_,r,i);dt(e.eventQueue_,r,s)}function nu(e){return e.nextWriteId_++}function KP(e,t,n){const r=kP(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=ie(i).withIndex(t._queryParams.getIndex());Ah(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=vo(e.serverSyncTree_,t._path,s);else{const l=qs(e.serverSyncTree_,t);o=h1(e.serverSyncTree_,t._path,s,l)}return dt(e.eventQueue_,t._path,o),ra(e.serverSyncTree_,t,n,null,!0),s},i=>(Ai(e,"get for query "+ge(t)+" failed: "+i),Promise.reject(new Error(i))))}function jf(e,t,n,r,i){Ai(e,"set",{path:t.toString(),value:n,priority:r});const s=Co(e),o=ie(n,r),l=qa(e.serverSyncTree_,t),a=Lf(o,l,s),u=nu(e),c=Pf(e.serverSyncTree_,t,a,u,!0);tu(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(d,g)=>{const _=d==="ok";_||Be("set at "+t+" failed: "+d);const v=Nn(e.serverSyncTree_,u,!_);dt(e.eventQueue_,t,v),Kn(e,i,d,g)});const h=Wf(e,t);wi(e,h),dt(e.eventQueue_,h,[])}function YP(e,t,n,r){Ai(e,"update",{path:t.toString(),value:n});let i=!0;const s=Co(e),o={};if(ke(n,(l,a)=>{i=!1,o[l]=g1(ne(t,l),ie(a),e.serverSyncTree_,s)}),i)Se("update() called with empty data.  Don't do anything."),Kn(e,r,"ok",void 0);else{const l=nu(e),a=EP(e.serverSyncTree_,t,o,l);tu(e.eventQueue_,a),e.server_.merge(t.toString(),n,(u,c)=>{const h=u==="ok";h||Be("update at "+t+" failed: "+u);const d=Nn(e.serverSyncTree_,l,!h),g=d.length>0?wi(e,t):t;dt(e.eventQueue_,g,d),Kn(e,r,u,c)}),ke(n,u=>{const c=Wf(e,ne(t,u));wi(e,c)}),dt(e.eventQueue_,t,[])}}function qP(e){Ai(e,"onDisconnectEvents");const t=Co(e),n=Yl();Ih(e.onDisconnect_,V(),(i,s)=>{const o=g1(i,s,e.serverSyncTree_,t);Ri(n,i,o)});let r=[];Ih(n,V(),(i,s)=>{r=r.concat(vo(e.serverSyncTree_,i,s));const o=Wf(e,i);wi(e,o)}),e.onDisconnect_=Yl(),dt(e.eventQueue_,V(),r)}function XP(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{r==="ok"&&Th(e.onDisconnect_,t),Kn(e,n,r,i)})}function mm(e,t,n,r){const i=ie(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(s,o)=>{s==="ok"&&Ri(e.onDisconnect_,t,i),Kn(e,r,s,o)})}function JP(e,t,n,r,i){const s=ie(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),(o,l)=>{o==="ok"&&Ri(e.onDisconnect_,t,s),Kn(e,i,o,l)})}function ZP(e,t,n,r){if(th(n)){Se("onDisconnect().update() called with empty data.  Don't do anything."),Kn(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(i,s)=>{i==="ok"&&ke(n,(o,l)=>{const a=ie(l);Ri(e.onDisconnect_,ne(t,o),a)}),Kn(e,r,i,s)})}function eR(e,t,n){let r;M(t._path)===".info"?r=Ah(e.infoSyncTree_,t,n):r=Ah(e.serverSyncTree_,t,n),E1(e.eventQueue_,t._path,r)}function Oh(e,t,n){let r;M(t._path)===".info"?r=ra(e.infoSyncTree_,t,n):r=ra(e.serverSyncTree_,t,n),E1(e.eventQueue_,t._path,r)}function I1(e){e.persistentConnection_&&e.persistentConnection_.interrupt(S1)}function tR(e){e.persistentConnection_&&e.persistentConnection_.resume(S1)}function Ai(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Se(n,...t)}function Kn(e,t,n,r){t&&Pi(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function nR(e,t,n,r,i,s){Ai(e,"transaction on "+t);const o={path:t,update:n,onComplete:r,status:null,order:w0(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=zf(e,t,void 0);o.currentInputSnapshot=l;const a=o.update(l.val());if(a===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{wo("transaction failed: Data returned ",a,o.path),o.status=0;const u=Ja(e.transactionQueueTree_,t),c=Fr(u)||[];c.push(o),$f(u,c);let h;typeof a=="object"&&a!==null&&ht(a,".priority")?(h=Sr(a,".priority"),E(Xs(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(qa(e.serverSyncTree_,t)||A.EMPTY_NODE).getPriority().val();const d=Co(e),g=ie(a,h),_=Lf(g,l,d);o.currentOutputSnapshotRaw=g,o.currentOutputSnapshotResolved=_,o.currentWriteId=nu(e);const v=Pf(e.serverSyncTree_,t,_,o.currentWriteId,o.applyLocally);dt(e.eventQueue_,t,v),ru(e,e.transactionQueueTree_)}}function zf(e,t,n){return qa(e.serverSyncTree_,t,n)||A.EMPTY_NODE}function ru(e,t=e.transactionQueueTree_){if(t||iu(e,t),Fr(t)){const n=N1(e,t);E(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&rR(e,yo(t),n)}else m1(t)&&Za(t,n=>{ru(e,n)})}function rR(e,t,n){const r=n.map(u=>u.currentWriteId),i=zf(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];E(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=Ve(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{Ai(e,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(Nn(e.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();iu(e,Ja(e.transactionQueueTree_,t)),ru(e,e.transactionQueueTree_),dt(e.eventQueue_,t,c);for(let d=0;d<h.length;d++)Pi(h[d])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Be("transaction at "+a.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}wi(e,t)}},o)}function wi(e,t){const n=k1(e,t),r=yo(n),i=N1(e,n);return iR(e,i,r),r}function iR(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=Ve(n,a.path);let c=!1,h;if(E(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,h=a.abortReason,i=i.concat(Nn(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=bP)c=!0,h="maxretry",i=i.concat(Nn(e.serverSyncTree_,a.currentWriteId,!0));else{const d=zf(e,a.path,o);a.currentInputSnapshot=d;const g=t[l].update(d.val());if(g!==void 0){wo("transaction failed: Data returned ",g,a.path);let _=ie(g);typeof g=="object"&&g!=null&&ht(g,".priority")||(_=_.updatePriority(d.getPriority()));const I=a.currentWriteId,p=Co(e),f=Lf(_,d,p);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=f,a.currentWriteId=nu(e),o.splice(o.indexOf(I),1),i=i.concat(Pf(e.serverSyncTree_,a.path,f,a.currentWriteId,a.applyLocally)),i=i.concat(Nn(e.serverSyncTree_,I,!0))}else c=!0,h="nodata",i=i.concat(Nn(e.serverSyncTree_,a.currentWriteId,!0))}dt(e.eventQueue_,n,i),i=[],c&&(t[l].status=2,function(d){setTimeout(d,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(h==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(h),!1,null))))}iu(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Pi(r[l]);ru(e,e.transactionQueueTree_)}function k1(e,t){let n,r=e.transactionQueueTree_;for(n=M(t);n!==null&&Fr(r)===void 0;)r=Ja(r,n),t=K(t),n=M(t);return r}function N1(e,t){const n=[];return P1(e,t,n),n.sort((r,i)=>r.order-i.order),n}function P1(e,t,n){const r=Fr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Za(t,i=>{P1(e,i,n)})}function iu(e,t){const n=Fr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,$f(t,n.length>0?n:void 0)}Za(t,r=>{iu(e,r)})}function Wf(e,t){const n=yo(k1(e,t)),r=Ja(e.transactionQueueTree_,t);return MP(r,i=>{nc(e,i)}),nc(e,r),_1(r,i=>{nc(e,i)}),n}function nc(e,t){const n=Fr(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(E(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(E(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Nn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?$f(t,void 0):n.length=s+1,dt(e.eventQueue_,yo(t),i);for(let o=0;o<r.length;o++)Pi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function oR(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Be(`Invalid query segment '${n}' in query '${e}'`)}return t}const Lh=function(e,t){const n=lR(e),r=n.namespace;n.domain==="firebase.com"&&Jt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Jt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mk();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new L0(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new b(n.pathString)}},lR=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let h=e.indexOf("?");h===-1&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=sR(e.substring(c,h)));const d=oR(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const g=t.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",aR=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=_m.charAt(n%64),n=Math.floor(n/64);E(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=_m.charAt(t[i]);return E(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ge(this.snapshot.exportVal())}}class x1{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uR=class{constructor(t,n){this._repo=t,this._path=n}cancel(){const t=new Ye;return XP(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ct("OnDisconnect.remove",this._path);const t=new Ye;return mm(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ct("OnDisconnect.set",this._path),Zt("OnDisconnect.set",t,this._path,!1);const n=new Ye;return mm(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){Ct("OnDisconnect.setWithPriority",this._path),Zt("OnDisconnect.setWithPriority",t,this._path,!1),Uf("OnDisconnect.setWithPriority",n,!1);const r=new Ye;return JP(this._repo,this._path,t,n,r.wrapCallback(()=>{})),r.promise}update(t){Ct("OnDisconnect.update",this._path),y1("OnDisconnect.update",t,this._path,!1);const n=new Ye;return ZP(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return F(this._path)?null:pf(this._path)}get ref(){return new Nt(this._repo,this._path)}get _queryIdentifier(){const t=nm(this._queryParams),n=cf(t);return n==="{}"?"default":n}get _queryObject(){return nm(this._queryParams)}isEqual(t){if(t=gt(t),!(t instanceof nt))return!1;const n=this._repo===t._repo,r=gf(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Zk(this._path)}}function su(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function er(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Yt){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==bn)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==gn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===X){if(t!=null&&!Xs(t)||n!=null&&!Xs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(E(e.getIndex()instanceof vf||e.getIndex()===yf,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ou(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Nt extends nt{constructor(t,n){super(t,n,new Ha,!1)}get parent(){const t=V0(this._path);return t===null?null:new Nt(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}let lu=class Mh{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new b(t),r=Pr(this.ref,t);return new Mh(this._node.getChild(n),r,X)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Mh(i,Pr(this.ref,r),X)))}hasChild(t){const n=new b(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function A1(e,t){return e=gt(e),e._checkNotDeleted("ref"),t!==void 0?Pr(e._root,t):e._root}function vm(e,t){e=gt(e),e._checkNotDeleted("refFromURL");const n=Lh(t,e._repo.repoInfo_.nodeAdmin);w1("refFromURL",n);const r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Jt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),A1(e,n.path.toString())}function Pr(e,t){return e=gt(e),M(e._path)===null?zP("child","path",t,!1):Js("child","path",t,!1),new Nt(e._repo,ne(e._path,t))}function cR(e,t){e=gt(e),Ct("push",e._path),Zt("push",t,e._path,!0);const n=T1(e._repo),r=aR(n),i=Pr(e,r),s=Pr(e,r);let o;return t!=null?o=bf(s,t).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function hR(e){return Ct("remove",e._path),bf(e,null)}function bf(e,t){e=gt(e),Ct("set",e._path),Zt("set",t,e._path,!1);const n=new Ye;return jf(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function dR(e,t){e=gt(e),Ct("setPriority",e._path),Uf("setPriority",t,!1);const n=new Ye;return jf(e._repo,ne(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function fR(e,t,n){if(Ct("setWithPriority",e._path),Zt("setWithPriority",t,e._path,!1),Uf("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new Ye;return jf(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}function pR(e,t){y1("update",t,e._path,!1);const n=new Ye;return YP(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function gR(e){e=gt(e);const t=new Vf(()=>{}),n=new So(t);return KP(e._repo,e,n).then(r=>new lu(r,new Nt(e._repo,e._path),e._queryParams.getIndex()))}class So{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new R1("value",this,new lu(t.snapshotNode,new Nt(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new x1(this,t,n):null}matches(t){return t instanceof So?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class au{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new x1(this,t,n):null}createEvent(t,n){E(t.childName!=null,"Child events should have a childName.");const r=Pr(new Nt(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new R1(t.type,this,new lu(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof au?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function To(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(c,h)=>{Oh(e._repo,e,l),a(c,h)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new Vf(n,s||void 0),l=t==="value"?new So(o):new au(t,o);return eR(e._repo,e,l),()=>Oh(e._repo,e,l)}function Fh(e,t,n,r){return To(e,"value",t,n,r)}function ym(e,t,n,r){return To(e,"child_added",t,n,r)}function wm(e,t,n,r){return To(e,"child_changed",t,n,r)}function Em(e,t,n,r){return To(e,"child_moved",t,n,r)}function Cm(e,t,n,r){return To(e,"child_removed",t,n,r)}function Sm(e,t,n){let r=null;const i=n?new Vf(n):null;t==="value"?r=new So(i):t&&(r=new au(t,i)),Oh(e._repo,e,r)}class Bt{}class D1 extends Bt{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Zt("endAt",this._value,t._path,!0);const n=Sh(t._queryParams,this._value,this._key);if(ou(n),er(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new nt(t._repo,t._path,n,t._orderByCalled)}}function mR(e,t){return Eo("endAt","key",t,!0),new D1(e,t)}class _R extends Bt{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Zt("endBefore",this._value,t._path,!1);const n=IN(t._queryParams,this._value,this._key);if(ou(n),er(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new nt(t._repo,t._path,n,t._orderByCalled)}}function vR(e,t){return Eo("endBefore","key",t,!0),new _R(e,t)}class O1 extends Bt{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Zt("startAt",this._value,t._path,!0);const n=Ch(t._queryParams,this._value,this._key);if(ou(n),er(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new nt(t._repo,t._path,n,t._orderByCalled)}}function yR(e=null,t){return Eo("startAt","key",t,!0),new O1(e,t)}class wR extends Bt{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Zt("startAfter",this._value,t._path,!1);const n=TN(t._queryParams,this._value,this._key);if(ou(n),er(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new nt(t._repo,t._path,n,t._orderByCalled)}}function ER(e,t){return Eo("startAfter","key",t,!0),new wR(e,t)}class CR extends Bt{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new nt(t._repo,t._path,CN(t._queryParams,this._limit),t._orderByCalled)}}function SR(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new CR(e)}class TR extends Bt{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new nt(t._repo,t._path,SN(t._queryParams,this._limit),t._orderByCalled)}}function IR(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new TR(e)}class kR extends Bt{constructor(t){super(),this._path=t}_apply(t){su(t,"orderByChild");const n=new b(this._path);if(F(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new vf(n),i=Qa(t._queryParams,r);return er(i),new nt(t._repo,t._path,i,!0)}}function NR(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Js("orderByChild","path",e,!1),new kR(e)}class PR extends Bt{_apply(t){su(t,"orderByKey");const n=Qa(t._queryParams,Yt);return er(n),new nt(t._repo,t._path,n,!0)}}function RR(){return new PR}class xR extends Bt{_apply(t){su(t,"orderByPriority");const n=Qa(t._queryParams,X);return er(n),new nt(t._repo,t._path,n,!0)}}function AR(){return new xR}class DR extends Bt{_apply(t){su(t,"orderByValue");const n=Qa(t._queryParams,yf);return er(n),new nt(t._repo,t._path,n,!0)}}function OR(){return new DR}class LR extends Bt{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){if(Zt("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new D1(this._value,this._key)._apply(new O1(this._value,this._key)._apply(t))}}function MR(e,t){return Eo("equalTo","key",t,!0),new LR(e,t)}function xt(e,...t){let n=gt(e);for(const r of t)n=r._apply(n);return n}fP(Nt);vP(Nt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="FIREBASE_DATABASE_EMULATOR_HOST",$h={};let $R=!1;function UR(e,t,n,r){e.repoInfo_=new L0(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function L1(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Jt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Se("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Lh(s,i),l=o.repoInfo,a,u;typeof process<"u"&&Ug&&(u=Ug[FR]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Lh(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new ai(ai.OWNER):new Nk(e.name,e.options,t);w1("Invalid Firebase Database URL",o),F(o.path)||Jt("Database URL must point to the root of a Firebase Database (not including a child path).");const h=jR(l,e,c,new kk(e.name,n));return new zR(h,e)}function BR(e,t){const n=$h[t];(!n||n[e.key]!==e)&&Jt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),I1(e),delete n[e.key]}function jR(e,t,n,r){let i=$h[t.name];i||(i={},$h[t.name]=i);let s=i[e.toURLString()];return s&&Jt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new HP(e,$R,n,r),i[e.toURLString()]=s,s}let zR=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(QP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nt(this._repo,V())),this._rootInternal}_delete(){return this._rootInternal!==null&&(BR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Jt("Cannot call "+t+" on a deleted database.")}};function M1(){mi.IS_TRANSPORT_INITIALIZED&&Be("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function WR(){M1(),kn.forceDisallow()}function VR(){M1(),yt.forceDisallow(),kn.forceAllow()}function bR(e,t,n,r={}){e=gt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Jt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Jt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ai(ai.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:pS(r.mockUserToken,e.app.options.projectId);s=new ai(o)}UR(i,t,n,s)}function HR(e){e=gt(e),e._checkNotDeleted("goOffline"),I1(e._repo)}function QR(e){e=gt(e),e._checkNotDeleted("goOnline"),tR(e._repo)}function GR(e,t){C0(e,t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(e){v0(ka),Ir(new qt("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return L1(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Kt(Bg,jg,e),Kt(Bg,jg,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={".sv":"timestamp"};function qR(){return YR}function XR(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JR=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function ZR(e,t,n){var r;if(e=gt(e),Ct("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Ye,o=(a,u,c)=>{let h=null;a?s.reject(a):(h=new lu(c,new Nt(e._repo,e._path),X),s.resolve(new JR(u,h)))},l=Fh(e,()=>{});return nR(e._repo,e._path,t,o,l,i),s.promise}un.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};un.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};KR();const ex="@firebase/database-compat",tx="1.0.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new so("@firebase/database-compat"),F1=function(e){const t="FIREBASE WARNING: "+e;nx.warn(t)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(tt(e,t)+"must be a boolean.")},ix=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(tt(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t){this._delegate=t}cancel(t){D("OnDisconnect.cancel",0,1,arguments.length),Ee("OnDisconnect.cancel","onComplete",t,!0);const n=this._delegate.cancel();return t&&n.then(()=>t(null),r=>t(r)),n}remove(t){D("OnDisconnect.remove",0,1,arguments.length),Ee("OnDisconnect.remove","onComplete",t,!0);const n=this._delegate.remove();return t&&n.then(()=>t(null),r=>t(r)),n}set(t,n){D("OnDisconnect.set",1,2,arguments.length),Ee("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){D("OnDisconnect.setWithPriority",2,3,arguments.length),Ee("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(t,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(t,n){if(D("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let s=0;s<t.length;++s)i[""+s]=t[s];t=i,F1("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ee("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(t);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return D("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t,n){this._database=t,this._delegate=n}val(){return D("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return D("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return D("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return D("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return D("DataSnapshot.child",0,1,arguments.length),t=String(t),Js("DataSnapshot.child","path",t,!1),new Bn(this._database,this._delegate.child(t))}hasChild(t){return D("DataSnapshot.hasChild",1,1,arguments.length),Js("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return D("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return D("DataSnapshot.forEach",1,1,arguments.length),Ee("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new Bn(this._database,n)))}hasChildren(){return D("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return D("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return D("DataSnapshot.ref",0,0,arguments.length),new ot(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Pe{constructor(t,n){this.database=t,this._delegate=n}on(t,n,r,i){var s;D("Query.on",2,4,arguments.length),Ee("Query.on","callback",n,!1);const o=Pe.getCancelAndContextArgs_("Query.on",r,i),l=(u,c)=>{n.call(o.context,new Bn(this.database,u),c)};l.userCallback=n,l.context=o.context;const a=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(t){case"value":return Fh(this._delegate,l,a),n;case"child_added":return ym(this._delegate,l,a),n;case"child_removed":return Cm(this._delegate,l,a),n;case"child_changed":return wm(this._delegate,l,a),n;case"child_moved":return Em(this._delegate,l,a),n;default:throw new Error(tt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,r){if(D("Query.off",0,3,arguments.length),ix("Query.off",t,!0),Ee("Query.off","callback",n,!0),cg("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,Sm(this._delegate,t,i)}else Sm(this._delegate,t)}get(){return gR(this._delegate).then(t=>new Bn(this.database,t))}once(t,n,r,i){D("Query.once",1,4,arguments.length),Ee("Query.once","callback",n,!0);const s=Pe.getCancelAndContextArgs_("Query.once",r,i),o=new Ye,l=(u,c)=>{const h=new Bn(this.database,u);n&&n.call(s.context,h,c),o.resolve(h)};l.userCallback=n,l.context=s.context;const a=u=>{s.cancel&&s.cancel.call(s.context,u),o.reject(u)};switch(t){case"value":Fh(this._delegate,l,a,{onlyOnce:!0});break;case"child_added":ym(this._delegate,l,a,{onlyOnce:!0});break;case"child_removed":Cm(this._delegate,l,a,{onlyOnce:!0});break;case"child_changed":wm(this._delegate,l,a,{onlyOnce:!0});break;case"child_moved":Em(this._delegate,l,a,{onlyOnce:!0});break;default:throw new Error(tt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return D("Query.limitToFirst",1,1,arguments.length),new Pe(this.database,xt(this._delegate,SR(t)))}limitToLast(t){return D("Query.limitToLast",1,1,arguments.length),new Pe(this.database,xt(this._delegate,IR(t)))}orderByChild(t){return D("Query.orderByChild",1,1,arguments.length),new Pe(this.database,xt(this._delegate,NR(t)))}orderByKey(){return D("Query.orderByKey",0,0,arguments.length),new Pe(this.database,xt(this._delegate,RR()))}orderByPriority(){return D("Query.orderByPriority",0,0,arguments.length),new Pe(this.database,xt(this._delegate,AR()))}orderByValue(){return D("Query.orderByValue",0,0,arguments.length),new Pe(this.database,xt(this._delegate,OR()))}startAt(t=null,n){return D("Query.startAt",0,2,arguments.length),new Pe(this.database,xt(this._delegate,yR(t,n)))}startAfter(t=null,n){return D("Query.startAfter",0,2,arguments.length),new Pe(this.database,xt(this._delegate,ER(t,n)))}endAt(t=null,n){return D("Query.endAt",0,2,arguments.length),new Pe(this.database,xt(this._delegate,mR(t,n)))}endBefore(t=null,n){return D("Query.endBefore",0,2,arguments.length),new Pe(this.database,xt(this._delegate,vR(t,n)))}equalTo(t,n){return D("Query.equalTo",1,2,arguments.length),new Pe(this.database,xt(this._delegate,MR(t,n)))}toString(){return D("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return D("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(D("Query.isEqual",1,1,arguments.length),!(t instanceof Pe)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ee(t,"cancel",i.cancel,!0),i.context=r,cg(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(tt(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new ot(this.database,new Nt(this._delegate._repo,this._delegate._path))}}class ot extends Pe{constructor(t,n){super(t,new nt(n._repo,n._path,new Ha,!1)),this.database=t,this._delegate=n}getKey(){return D("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return D("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new ot(this.database,Pr(this._delegate,t))}getParent(){D("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ot(this.database,t):null}getRoot(){return D("Reference.root",0,0,arguments.length),new ot(this.database,this._delegate.root)}set(t,n){D("Reference.set",1,2,arguments.length),Ee("Reference.set","onComplete",n,!0);const r=bf(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}update(t,n){if(D("Reference.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let s=0;s<t.length;++s)i[""+s]=t[s];t=i,F1("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ct("Reference.update",this._delegate._path),Ee("Reference.update","onComplete",n,!0);const r=pR(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){D("Reference.setWithPriority",2,3,arguments.length),Ee("Reference.setWithPriority","onComplete",r,!0);const i=fR(this._delegate,t,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(t){D("Reference.remove",0,1,arguments.length),Ee("Reference.remove","onComplete",t,!0);const n=hR(this._delegate);return t&&n.then(()=>t(null),r=>t(r)),n}transaction(t,n,r){D("Reference.transaction",1,3,arguments.length),Ee("Reference.transaction","transactionUpdate",t,!1),Ee("Reference.transaction","onComplete",n,!0),rx("Reference.transaction","applyLocally",r,!0);const i=ZR(this._delegate,t,{applyLocally:r}).then(s=>new ox(s.committed,new Bn(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(t,n){D("Reference.setPriority",1,2,arguments.length),Ee("Reference.setPriority","onComplete",n,!0);const r=dR(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}push(t,n){D("Reference.push",0,2,arguments.length),Ee("Reference.push","onComplete",n,!0);const r=cR(this._delegate,t),i=r.then(o=>new ot(this.database,o));n&&i.then(()=>n(null),o=>n(o));const s=new ot(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Ct("Reference.onDisconnect",this._delegate._path),new sx(new uR(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:WR,forceLongPolling:VR}}useEmulator(t,n,r={}){bR(this._delegate,t,n,r)}ref(t){if(D("database.ref",0,1,arguments.length),t instanceof ot){const n=vm(this._delegate,t.toString());return new ot(this,n)}else{const n=A1(this._delegate,t);return new ot(this,n)}}refFromURL(t){D("database.refFromURL",1,1,arguments.length);const r=vm(this._delegate,t);return new ot(this,r)}goOffline(){return D("database.goOffline",0,0,arguments.length),HR(this._delegate)}goOnline(){return D("database.goOnline",0,0,arguments.length),QR(this._delegate)}}Zs.ServerValue={TIMESTAMP:qR(),increment:e=>XR(e)};function lx({app:e,url:t,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){v0(n);const l=new ty("database-standalone"),a=new rh("auth-internal",l);a.setComponent(new qt("auth-internal",()=>r,"PRIVATE"));let u;return i&&(u=new rh("app-check-internal",l),u.setComponent(new qt("app-check-internal",()=>i,"PRIVATE"))),{instance:new Zs(L1(e,a,u,t,o),e),namespace:s}}var ax=Object.freeze({__proto__:null,initStandalone:lx});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=Zs.ServerValue;function cx(e){e.INTERNAL.registerComponent(new qt("database-compat",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:n});return new Zs(i,r)},"PUBLIC").setServiceProps({Reference:ot,Query:Pe,Database:Zs,DataSnapshot:Bn,enableLogging:GR,INTERNAL:ax,ServerValue:ux}).setMultipleInstances(!0)),e.registerVersion(ex,tx)}cx(Wa);var vn={};const hx={apiKey:vn.REACT_APP_FIREBASE_API_KEY,authDomain:vn.REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:vn.REACT_APP_FIREBASE_DATABASE_URL,projectId:vn.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:vn.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:vn.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:vn.REACT_APP_FIREBASE_APP_ID,measurementId:vn.FIREBASE_MEASUREMENT_ID};Wa.initializeApp(hx);const rc=Wa.database();function dx(){const[e,t]=N.useState(null),[n,r]=N.useState(null),[i,s]=N.useState(!1),[o,l]=N.useState([]),a=jC();N.useEffect(()=>((async()=>{try{rc.ref("participants").on("value",d=>{const g=d.val(),_=Object.keys(g).map(v=>({id:v,name:g[v]}));l(_)})}catch(h){console.error("Error fetching data:",h)}})(),()=>rc.ref("participants").off()),[]);const u=(c,h)=>{t(c),s(!0),r(h),setTimeout(()=>{rc.ref(`participants/${h}`).remove().then(()=>{l(d=>d.filter(g=>g.id!==h))}).catch(d=>{console.error("Error deleting participant:",d)}),a(`/newpage/${c}`)},500)};return ae.jsxs(ae.Fragment,{children:[ae.jsxs("h1",{className:"text-2xl text-center mb-5",children:["請抽選要準備的"," ",ae.jsx("span",{className:"text-red font-bold",children:e})," 🎁"]}),ae.jsx("div",{className:`card-container grid grid-cols-3 gap-4 text-center ${i?"fade-transition fade-out":""}`,children:o.map(c=>ae.jsxs("div",{className:`card ${n===c.id?"card-selected":""} w-20 h-32`,onClick:()=>u(c.name,c.id),children:[ae.jsx("div",{className:"card-front"}),ae.jsx("div",{className:"card-back",children:c.name})," "]},c.id))})]})}function fx(){const{cardContent:e}=WC();return ae.jsx("div",{children:ae.jsxs("h1",{className:"text-3xl text-center",children:["恭喜🎉 你要幫 ",ae.jsx("span",{className:"text-red font-bold",children:e})," ","準備 🎁 喔 ! 🥰"]})})}const px=({children:e})=>ae.jsx("div",{className:"w-screen h-screen p-5 flex items-center justify-center",children:ae.jsx("section",{className:"container mx-auto flex flex-col items-center p-5",children:e})});function gx(){return ae.jsx(iS,{children:ae.jsx(px,{children:ae.jsxs(nS,{children:[ae.jsx(Jc,{path:"/",element:ae.jsx(dx,{})}),ae.jsx(Jc,{path:"/newpage/:cardContent",element:ae.jsx(fx,{})})]})})})}ic.createRoot(document.getElementById("root")).render(ae.jsx(Om.StrictMode,{children:ae.jsx(gx,{})}));
