function $1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function U1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sm={exports:{}},ra={},Tm={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),B1=Symbol.for("react.portal"),j1=Symbol.for("react.fragment"),z1=Symbol.for("react.strict_mode"),W1=Symbol.for("react.profiler"),V1=Symbol.for("react.provider"),b1=Symbol.for("react.context"),H1=Symbol.for("react.forward_ref"),Q1=Symbol.for("react.suspense"),G1=Symbol.for("react.memo"),K1=Symbol.for("react.lazy"),Hf=Symbol.iterator;function Y1(e){return e===null||typeof e!="object"?null:(e=Hf&&e[Hf]||e["@@iterator"],typeof e=="function"?e:null)}var Im={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},km=Object.assign,Nm={};function wi(e,t,n){this.props=e,this.context=t,this.refs=Nm,this.updater=n||Im}wi.prototype.isReactComponent={};wi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pm(){}Pm.prototype=wi.prototype;function $h(e,t,n){this.props=e,this.context=t,this.refs=Nm,this.updater=n||Im}var Uh=$h.prototype=new Pm;Uh.constructor=$h;km(Uh,wi.prototype);Uh.isPureReactComponent=!0;var Qf=Array.isArray,Rm=Object.prototype.hasOwnProperty,Bh={current:null},xm={key:!0,ref:!0,__self:!0,__source:!0};function Am(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Rm.call(t,r)&&!xm.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Zs,type:e,key:s,ref:o,props:i,_owner:Bh.current}}function X1(e,t){return{$$typeof:Zs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zs}function q1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gf=/\/+/g;function hu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?q1(""+e.key):t.toString(36)}function Yo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Zs:case B1:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+hu(o,0):r,Qf(i)?(n="",e!=null&&(n=e.replace(Gf,"$&/")+"/"),Yo(i,t,n,"",function(u){return u})):i!=null&&(jh(i)&&(i=X1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Gf,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Qf(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+hu(s,l);o+=Yo(s,t,n,a,i)}else if(a=Y1(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+hu(s,l++),o+=Yo(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ko(e,t,n){if(e==null)return e;var r=[],i=0;return Yo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function J1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Xo={transition:null},Z1={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Xo,ReactCurrentOwner:Bh};B.Children={map:ko,forEach:function(e,t,n){ko(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ko(e,function(){t++}),t},toArray:function(e){return ko(e,function(t){return t})||[]},only:function(e){if(!jh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=wi;B.Fragment=j1;B.Profiler=W1;B.PureComponent=$h;B.StrictMode=z1;B.Suspense=Q1;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z1;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=km({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Bh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Rm.call(t,a)&&!xm.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Zs,type:e.type,key:i,ref:s,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:b1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:V1,_context:e},e.Consumer=e};B.createElement=Am;B.createFactory=function(e){var t=Am.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:H1,render:e}};B.isValidElement=jh;B.lazy=function(e){return{$$typeof:K1,_payload:{_status:-1,_result:e},_init:J1}};B.memo=function(e,t){return{$$typeof:G1,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Xo.transition;Xo.transition={};try{e()}finally{Xo.transition=t}};B.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};B.useCallback=function(e,t){return He.current.useCallback(e,t)};B.useContext=function(e){return He.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return He.current.useDeferredValue(e)};B.useEffect=function(e,t){return He.current.useEffect(e,t)};B.useId=function(){return He.current.useId()};B.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return He.current.useMemo(e,t)};B.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};B.useRef=function(e){return He.current.useRef(e)};B.useState=function(e){return He.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return He.current.useTransition()};B.version="18.2.0";Tm.exports=B;var N=Tm.exports;const Dm=U1(N),ew=$1({__proto__:null,default:Dm},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=N,nw=Symbol.for("react.element"),rw=Symbol.for("react.fragment"),iw=Object.prototype.hasOwnProperty,sw=tw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ow={key:!0,ref:!0,__self:!0,__source:!0};function Om(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)iw.call(t,r)&&!ow.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:nw,type:e,key:s,ref:o,props:i,_owner:sw.current}}ra.Fragment=rw;ra.jsx=Om;ra.jsxs=Om;Sm.exports=ra;var ae=Sm.exports,rc={},Lm={exports:{}},ft={},Mm={exports:{}},Fm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,L){var $=k.length;k.push(L);e:for(;0<$;){var ce=$-1>>>1,ve=k[ce];if(0<i(ve,L))k[ce]=L,k[$]=ve,$=ce;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var L=k[0],$=k.pop();if($!==L){k[0]=$;e:for(var ce=0,ve=k.length,To=ve>>>1;ce<To;){var er=2*(ce+1)-1,cu=k[er],tr=er+1,Io=k[tr];if(0>i(cu,$))tr<ve&&0>i(Io,cu)?(k[ce]=Io,k[tr]=$,ce=tr):(k[ce]=cu,k[er]=$,ce=er);else if(tr<ve&&0>i(Io,$))k[ce]=Io,k[tr]=$,ce=tr;else break e}}return L}function i(k,L){var $=k.sortIndex-L.sortIndex;return $!==0?$:k.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,d=3,g=!1,_=!1,v=!1,I=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(k){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=k)r(u),L.sortIndex=L.expirationTime,t(a,L);else break;L=n(u)}}function y(k){if(v=!1,m(k),!_)if(n(a)!==null)_=!0,au(S);else{var L=n(u);L!==null&&uu(y,L.startTime-k)}}function S(k,L){_=!1,v&&(v=!1,p(x),x=-1),g=!0;var $=d;try{for(m(L),h=n(a);h!==null&&(!(h.expirationTime>L)||k&&!Pt());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,d=h.priorityLevel;var ve=ce(h.expirationTime<=L);L=e.unstable_now(),typeof ve=="function"?h.callback=ve:h===n(a)&&r(a),m(L)}else r(a);h=n(a)}if(h!==null)var To=!0;else{var er=n(u);er!==null&&uu(y,er.startTime-L),To=!1}return To}finally{h=null,d=$,g=!1}}var P=!1,R=null,x=-1,ue=5,j=-1;function Pt(){return!(e.unstable_now()-j<ue)}function Ai(){if(R!==null){var k=e.unstable_now();j=k;var L=!0;try{L=R(!0,k)}finally{L?Di():(P=!1,R=null)}}else P=!1}var Di;if(typeof f=="function")Di=function(){f(Ai)};else if(typeof MessageChannel<"u"){var bf=new MessageChannel,F1=bf.port2;bf.port1.onmessage=Ai,Di=function(){F1.postMessage(null)}}else Di=function(){I(Ai,0)};function au(k){R=k,P||(P=!0,Di())}function uu(k,L){x=I(function(){k(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,au(S))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(k){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var $=d;d=L;try{return k()}finally{d=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=d;d=k;try{return L()}finally{d=$}},e.unstable_scheduleCallback=function(k,L,$){var ce=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ce+$:ce):$=ce,k){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=$+ve,k={id:c++,callback:L,priorityLevel:k,startTime:$,expirationTime:ve,sortIndex:-1},$>ce?(k.sortIndex=$,t(u,k),n(a)===null&&k===n(u)&&(v?(p(x),x=-1):v=!0,uu(y,$-ce))):(k.sortIndex=ve,t(a,k),_||g||(_=!0,au(S))),k},e.unstable_shouldYield=Pt,e.unstable_wrapCallback=function(k){var L=d;return function(){var $=d;d=L;try{return k.apply(this,arguments)}finally{d=$}}}})(Fm);Mm.exports=Fm;var lw=Mm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m=N,ct=lw;function w(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Um=new Set,fs={};function Pr(e,t){ai(e,t),ai(e+"Capture",t)}function ai(e,t){for(fs[e]=t,e=0;e<t.length;e++)Um.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=Object.prototype.hasOwnProperty,aw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kf={},Yf={};function uw(e){return ic.call(Yf,e)?!0:ic.call(Kf,e)?!1:aw.test(e)?Yf[e]=!0:(Kf[e]=!0,!1)}function cw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hw(e,t,n,r){if(t===null||typeof t>"u"||cw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var zh=/[\-:]([a-z])/g;function Wh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zh,Wh);Oe[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zh,Wh);Oe[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zh,Wh);Oe[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vh(e,t,n,r){var i=Oe.hasOwnProperty(t)?Oe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hw(t,n,i,r)&&(n=null),r||i===null?uw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mn=$m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,No=Symbol.for("react.element"),Br=Symbol.for("react.portal"),jr=Symbol.for("react.fragment"),bh=Symbol.for("react.strict_mode"),sc=Symbol.for("react.profiler"),Bm=Symbol.for("react.provider"),jm=Symbol.for("react.context"),Hh=Symbol.for("react.forward_ref"),oc=Symbol.for("react.suspense"),lc=Symbol.for("react.suspense_list"),Qh=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),zm=Symbol.for("react.offscreen"),Xf=Symbol.iterator;function Oi(e){return e===null||typeof e!="object"?null:(e=Xf&&e[Xf]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,du;function Gi(e){if(du===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);du=t&&t[1]||""}return`
`+du+e}var fu=!1;function pu(e,t){if(!e||fu)return"";fu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{fu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Gi(e):""}function dw(e){switch(e.tag){case 5:return Gi(e.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 2:case 15:return e=pu(e.type,!1),e;case 11:return e=pu(e.type.render,!1),e;case 1:return e=pu(e.type,!0),e;default:return""}}function ac(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jr:return"Fragment";case Br:return"Portal";case sc:return"Profiler";case bh:return"StrictMode";case oc:return"Suspense";case lc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jm:return(e.displayName||"Context")+".Consumer";case Bm:return(e._context.displayName||"Context")+".Provider";case Hh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qh:return t=e.displayName||null,t!==null?t:ac(e.type)||"Memo";case vn:t=e._payload,e=e._init;try{return ac(e(t))}catch{}}return null}function fw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ac(t);case 8:return t===bh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pw(e){var t=Wm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Po(e){e._valueTracker||(e._valueTracker=pw(e))}function Vm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uc(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bm(e,t){t=t.checked,t!=null&&Vh(e,"checked",t,!1)}function cc(e,t){bm(e,t);var n=Bn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hc(e,t.type,n):t.hasOwnProperty("defaultValue")&&hc(e,t.type,Bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hc(e,t,n){(t!=="number"||ll(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ki=Array.isArray;function Jr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(w(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(w(92));if(Ki(n)){if(1<n.length)throw Error(w(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bn(n)}}function Hm(e,t){var n=Bn(t.value),r=Bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ep(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ro,Gm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ro=Ro||document.createElement("div"),Ro.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ro.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ps(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gw=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(e){gw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zi[t]=Zi[e]})});function Km(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zi.hasOwnProperty(e)&&Zi[e]?(""+t).trim():t+"px"}function Ym(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Km(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var mw=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pc(e,t){if(t){if(mw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(w(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(w(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(w(61))}if(t.style!=null&&typeof t.style!="object")throw Error(w(62))}}function gc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=null;function Gh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _c=null,Zr=null,ei=null;function tp(e){if(e=no(e)){if(typeof _c!="function")throw Error(w(280));var t=e.stateNode;t&&(t=aa(t),_c(e.stateNode,e.type,t))}}function Xm(e){Zr?ei?ei.push(e):ei=[e]:Zr=e}function qm(){if(Zr){var e=Zr,t=ei;if(ei=Zr=null,tp(e),t)for(e=0;e<t.length;e++)tp(t[e])}}function Jm(e,t){return e(t)}function Zm(){}var gu=!1;function e_(e,t,n){if(gu)return e(t,n);gu=!0;try{return Jm(e,t,n)}finally{gu=!1,(Zr!==null||ei!==null)&&(Zm(),qm())}}function gs(e,t){var n=e.stateNode;if(n===null)return null;var r=aa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(w(231,t,typeof n));return n}var vc=!1;if(cn)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){vc=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{vc=!1}function _w(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var es=!1,al=null,ul=!1,yc=null,vw={onError:function(e){es=!0,al=e}};function yw(e,t,n,r,i,s,o,l,a){es=!1,al=null,_w.apply(vw,arguments)}function ww(e,t,n,r,i,s,o,l,a){if(yw.apply(this,arguments),es){if(es){var u=al;es=!1,al=null}else throw Error(w(198));ul||(ul=!0,yc=u)}}function Rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function t_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function np(e){if(Rr(e)!==e)throw Error(w(188))}function Ew(e){var t=e.alternate;if(!t){if(t=Rr(e),t===null)throw Error(w(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return np(i),e;if(s===r)return np(i),t;s=s.sibling}throw Error(w(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(w(189))}}if(n.alternate!==r)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?e:t}function n_(e){return e=Ew(e),e!==null?r_(e):null}function r_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=r_(e);if(t!==null)return t;e=e.sibling}return null}var i_=ct.unstable_scheduleCallback,rp=ct.unstable_cancelCallback,Cw=ct.unstable_shouldYield,Sw=ct.unstable_requestPaint,he=ct.unstable_now,Tw=ct.unstable_getCurrentPriorityLevel,Kh=ct.unstable_ImmediatePriority,s_=ct.unstable_UserBlockingPriority,cl=ct.unstable_NormalPriority,Iw=ct.unstable_LowPriority,o_=ct.unstable_IdlePriority,ia=null,Qt=null;function kw(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ia,e,void 0,(e.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:Rw,Nw=Math.log,Pw=Math.LN2;function Rw(e){return e>>>=0,e===0?32:31-(Nw(e)/Pw|0)|0}var xo=64,Ao=4194304;function Yi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Yi(l):(s&=o,s!==0&&(r=Yi(s)))}else o=n&~i,o!==0?r=Yi(o):s!==0&&(r=Yi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mt(t),i=1<<n,r|=e[n],t&=~i;return r}function xw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Mt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=xw(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function wc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function l_(){var e=xo;return xo<<=1,!(xo&4194240)&&(xo=64),e}function mu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mt(t),e[t]=n}function Dw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Mt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Yh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Q=0;function a_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var u_,Xh,c_,h_,d_,Ec=!1,Do=[],Nn=null,Pn=null,Rn=null,ms=new Map,_s=new Map,wn=[],Ow="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ip(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function Mi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=no(t),t!==null&&Xh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Lw(e,t,n,r,i){switch(t){case"focusin":return Nn=Mi(Nn,e,t,n,r,i),!0;case"dragenter":return Pn=Mi(Pn,e,t,n,r,i),!0;case"mouseover":return Rn=Mi(Rn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ms.set(s,Mi(ms.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_s.set(s,Mi(_s.get(s)||null,e,t,n,r,i)),!0}return!1}function f_(e){var t=or(e.target);if(t!==null){var n=Rr(t);if(n!==null){if(t=n.tag,t===13){if(t=t_(n),t!==null){e.blockedOn=t,d_(e.priority,function(){c_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mc=r,n.target.dispatchEvent(r),mc=null}else return t=no(n),t!==null&&Xh(t),e.blockedOn=n,!1;t.shift()}return!0}function sp(e,t,n){qo(e)&&n.delete(t)}function Mw(){Ec=!1,Nn!==null&&qo(Nn)&&(Nn=null),Pn!==null&&qo(Pn)&&(Pn=null),Rn!==null&&qo(Rn)&&(Rn=null),ms.forEach(sp),_s.forEach(sp)}function Fi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ec||(Ec=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Mw)))}function vs(e){function t(i){return Fi(i,e)}if(0<Do.length){Fi(Do[0],e);for(var n=1;n<Do.length;n++){var r=Do[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Nn!==null&&Fi(Nn,e),Pn!==null&&Fi(Pn,e),Rn!==null&&Fi(Rn,e),ms.forEach(t),_s.forEach(t),n=0;n<wn.length;n++)r=wn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wn.length&&(n=wn[0],n.blockedOn===null);)f_(n),n.blockedOn===null&&wn.shift()}var ti=mn.ReactCurrentBatchConfig,dl=!0;function Fw(e,t,n,r){var i=Q,s=ti.transition;ti.transition=null;try{Q=1,qh(e,t,n,r)}finally{Q=i,ti.transition=s}}function $w(e,t,n,r){var i=Q,s=ti.transition;ti.transition=null;try{Q=4,qh(e,t,n,r)}finally{Q=i,ti.transition=s}}function qh(e,t,n,r){if(dl){var i=Cc(e,t,n,r);if(i===null)ku(e,t,r,fl,n),ip(e,r);else if(Lw(i,e,t,n,r))r.stopPropagation();else if(ip(e,r),t&4&&-1<Ow.indexOf(e)){for(;i!==null;){var s=no(i);if(s!==null&&u_(s),s=Cc(e,t,n,r),s===null&&ku(e,t,r,fl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ku(e,t,r,null,n)}}var fl=null;function Cc(e,t,n,r){if(fl=null,e=Gh(r),e=or(e),e!==null)if(t=Rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=t_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fl=e,null}function p_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tw()){case Kh:return 1;case s_:return 4;case cl:case Iw:return 16;case o_:return 536870912;default:return 16}default:return 16}}var Cn=null,Jh=null,Jo=null;function g_(){if(Jo)return Jo;var e,t=Jh,n=t.length,r,i="value"in Cn?Cn.value:Cn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Jo=i.slice(e,1<r?1-r:void 0)}function Zo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oo(){return!0}function op(){return!1}function pt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Oo:op,this.isPropagationStopped=op,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),t}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zh=pt(Ei),to=oe({},Ei,{view:0,detail:0}),Uw=pt(to),_u,vu,$i,sa=oe({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ed,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$i&&($i&&e.type==="mousemove"?(_u=e.screenX-$i.screenX,vu=e.screenY-$i.screenY):vu=_u=0,$i=e),_u)},movementY:function(e){return"movementY"in e?e.movementY:vu}}),lp=pt(sa),Bw=oe({},sa,{dataTransfer:0}),jw=pt(Bw),zw=oe({},to,{relatedTarget:0}),yu=pt(zw),Ww=oe({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Vw=pt(Ww),bw=oe({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hw=pt(bw),Qw=oe({},Ei,{data:0}),ap=pt(Qw),Gw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yw[e])?!!t[e]:!1}function ed(){return Xw}var qw=oe({},to,{key:function(e){if(e.key){var t=Gw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ed,charCode:function(e){return e.type==="keypress"?Zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jw=pt(qw),Zw=oe({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),up=pt(Zw),eE=oe({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ed}),tE=pt(eE),nE=oe({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),rE=pt(nE),iE=oe({},sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sE=pt(iE),oE=[9,13,27,32],td=cn&&"CompositionEvent"in window,ts=null;cn&&"documentMode"in document&&(ts=document.documentMode);var lE=cn&&"TextEvent"in window&&!ts,m_=cn&&(!td||ts&&8<ts&&11>=ts),cp=" ",hp=!1;function __(e,t){switch(e){case"keyup":return oE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function aE(e,t){switch(e){case"compositionend":return v_(t);case"keypress":return t.which!==32?null:(hp=!0,cp);case"textInput":return e=t.data,e===cp&&hp?null:e;default:return null}}function uE(e,t){if(zr)return e==="compositionend"||!td&&__(e,t)?(e=g_(),Jo=Jh=Cn=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return m_&&t.locale!=="ko"?null:t.data;default:return null}}var cE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cE[e.type]:t==="textarea"}function y_(e,t,n,r){Xm(r),t=pl(t,"onChange"),0<t.length&&(n=new Zh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ns=null,ys=null;function hE(e){x_(e,0)}function oa(e){var t=br(e);if(Vm(t))return e}function dE(e,t){if(e==="change")return t}var w_=!1;if(cn){var wu;if(cn){var Eu="oninput"in document;if(!Eu){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),Eu=typeof fp.oninput=="function"}wu=Eu}else wu=!1;w_=wu&&(!document.documentMode||9<document.documentMode)}function pp(){ns&&(ns.detachEvent("onpropertychange",E_),ys=ns=null)}function E_(e){if(e.propertyName==="value"&&oa(ys)){var t=[];y_(t,ys,e,Gh(e)),e_(hE,t)}}function fE(e,t,n){e==="focusin"?(pp(),ns=t,ys=n,ns.attachEvent("onpropertychange",E_)):e==="focusout"&&pp()}function pE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oa(ys)}function gE(e,t){if(e==="click")return oa(t)}function mE(e,t){if(e==="input"||e==="change")return oa(t)}function _E(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:_E;function ws(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ic.call(t,i)||!Ut(e[i],t[i]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mp(e,t){var n=gp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gp(n)}}function C_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?C_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function S_(){for(var e=window,t=ll();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ll(e.document)}return t}function nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vE(e){var t=S_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&C_(n.ownerDocument.documentElement,n)){if(r!==null&&nd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=mp(n,s);var o=mp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yE=cn&&"documentMode"in document&&11>=document.documentMode,Wr=null,Sc=null,rs=null,Tc=!1;function _p(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tc||Wr==null||Wr!==ll(r)||(r=Wr,"selectionStart"in r&&nd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rs&&ws(rs,r)||(rs=r,r=pl(Sc,"onSelect"),0<r.length&&(t=new Zh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wr)))}function Lo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vr={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},Cu={},T_={};cn&&(T_=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function la(e){if(Cu[e])return Cu[e];if(!Vr[e])return e;var t=Vr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in T_)return Cu[e]=t[n];return e}var I_=la("animationend"),k_=la("animationiteration"),N_=la("animationstart"),P_=la("transitionend"),R_=new Map,vp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,t){R_.set(e,t),Pr(t,[e])}for(var Su=0;Su<vp.length;Su++){var Tu=vp[Su],wE=Tu.toLowerCase(),EE=Tu[0].toUpperCase()+Tu.slice(1);Kn(wE,"on"+EE)}Kn(I_,"onAnimationEnd");Kn(k_,"onAnimationIteration");Kn(N_,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(P_,"onTransitionEnd");ai("onMouseEnter",["mouseout","mouseover"]);ai("onMouseLeave",["mouseout","mouseover"]);ai("onPointerEnter",["pointerout","pointerover"]);ai("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function yp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ww(r,t,void 0,e),e.currentTarget=null}function x_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;yp(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;yp(i,l,u),s=a}}}if(ul)throw e=yc,ul=!1,yc=null,e}function J(e,t){var n=t[Rc];n===void 0&&(n=t[Rc]=new Set);var r=e+"__bubble";n.has(r)||(A_(t,e,2,!1),n.add(r))}function Iu(e,t,n){var r=0;t&&(r|=4),A_(n,e,r,t)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function Es(e){if(!e[Mo]){e[Mo]=!0,Um.forEach(function(n){n!=="selectionchange"&&(CE.has(n)||Iu(n,!1,e),Iu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mo]||(t[Mo]=!0,Iu("selectionchange",!1,t))}}function A_(e,t,n,r){switch(p_(t)){case 1:var i=Fw;break;case 4:i=$w;break;default:i=qh}n=i.bind(null,t,n,e),i=void 0,!vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ku(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=or(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}e_(function(){var u=s,c=Gh(n),h=[];e:{var d=R_.get(e);if(d!==void 0){var g=Zh,_=e;switch(e){case"keypress":if(Zo(n)===0)break e;case"keydown":case"keyup":g=Jw;break;case"focusin":_="focus",g=yu;break;case"focusout":_="blur",g=yu;break;case"beforeblur":case"afterblur":g=yu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=jw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=tE;break;case I_:case k_:case N_:g=Vw;break;case P_:g=rE;break;case"scroll":g=Uw;break;case"wheel":g=sE;break;case"copy":case"cut":case"paste":g=Hw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=up}var v=(t&4)!==0,I=!v&&e==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var f=u,m;f!==null;){m=f;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,p!==null&&(y=gs(f,p),y!=null&&v.push(Cs(f,y,m)))),I)break;f=f.return}0<v.length&&(d=new g(d,_,null,n,c),h.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==mc&&(_=n.relatedTarget||n.fromElement)&&(or(_)||_[hn]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?or(_):null,_!==null&&(I=Rr(_),_!==I||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(v=lp,y="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=up,y="onPointerLeave",p="onPointerEnter",f="pointer"),I=g==null?d:br(g),m=_==null?d:br(_),d=new v(y,f+"leave",g,n,c),d.target=I,d.relatedTarget=m,y=null,or(c)===u&&(v=new v(p,f+"enter",_,n,c),v.target=m,v.relatedTarget=I,y=v),I=y,g&&_)t:{for(v=g,p=_,f=0,m=v;m;m=Fr(m))f++;for(m=0,y=p;y;y=Fr(y))m++;for(;0<f-m;)v=Fr(v),f--;for(;0<m-f;)p=Fr(p),m--;for(;f--;){if(v===p||p!==null&&v===p.alternate)break t;v=Fr(v),p=Fr(p)}v=null}else v=null;g!==null&&wp(h,d,g,v,!1),_!==null&&I!==null&&wp(h,I,_,v,!0)}}e:{if(d=u?br(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var S=dE;else if(dp(d))if(w_)S=mE;else{S=pE;var P=fE}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=gE);if(S&&(S=S(e,u))){y_(h,S,n,c);break e}P&&P(e,d,u),e==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&hc(d,"number",d.value)}switch(P=u?br(u):window,e){case"focusin":(dp(P)||P.contentEditable==="true")&&(Wr=P,Sc=u,rs=null);break;case"focusout":rs=Sc=Wr=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,_p(h,n,c);break;case"selectionchange":if(yE)break;case"keydown":case"keyup":_p(h,n,c)}var R;if(td)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zr?__(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(m_&&n.locale!=="ko"&&(zr||x!=="onCompositionStart"?x==="onCompositionEnd"&&zr&&(R=g_()):(Cn=c,Jh="value"in Cn?Cn.value:Cn.textContent,zr=!0)),P=pl(u,x),0<P.length&&(x=new ap(x,e,null,n,c),h.push({event:x,listeners:P}),R?x.data=R:(R=v_(n),R!==null&&(x.data=R)))),(R=lE?aE(e,n):uE(e,n))&&(u=pl(u,"onBeforeInput"),0<u.length&&(c=new ap("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=R))}x_(h,t)})}function Cs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gs(e,n),s!=null&&r.unshift(Cs(e,s,i)),s=gs(e,t),s!=null&&r.push(Cs(e,s,i))),e=e.return}return r}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wp(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=gs(n,s),a!=null&&o.unshift(Cs(n,a,l))):i||(a=gs(n,s),a!=null&&o.push(Cs(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var SE=/\r\n?/g,TE=/\u0000|\uFFFD/g;function Ep(e){return(typeof e=="string"?e:""+e).replace(SE,`
`).replace(TE,"")}function Fo(e,t,n){if(t=Ep(t),Ep(e)!==t&&n)throw Error(w(425))}function gl(){}var Ic=null,kc=null;function Nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,kE=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(e){return Cp.resolve(null).then(e).catch(NE)}:Pc;function NE(e){setTimeout(function(){throw e})}function Nu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vs(t)}function xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ci=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Ci,Ss="__reactProps$"+Ci,hn="__reactContainer$"+Ci,Rc="__reactEvents$"+Ci,PE="__reactListeners$"+Ci,RE="__reactHandles$"+Ci;function or(e){var t=e[Wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[Wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sp(e);e!==null;){if(n=e[Wt])return n;e=Sp(e)}return t}e=n,n=e.parentNode}return null}function no(e){return e=e[Wt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(w(33))}function aa(e){return e[Ss]||null}var xc=[],Hr=-1;function Yn(e){return{current:e}}function ee(e){0>Hr||(e.current=xc[Hr],xc[Hr]=null,Hr--)}function X(e,t){Hr++,xc[Hr]=e.current,e.current=t}var jn={},je=Yn(jn),Je=Yn(!1),_r=jn;function ui(e,t){var n=e.type.contextTypes;if(!n)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(e){return e=e.childContextTypes,e!=null}function ml(){ee(Je),ee(je)}function Tp(e,t,n){if(je.current!==jn)throw Error(w(168));X(je,t),X(Je,n)}function D_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(w(108,fw(e)||"Unknown",i));return oe({},n,r)}function _l(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,_r=je.current,X(je,e),X(Je,Je.current),!0}function Ip(e,t,n){var r=e.stateNode;if(!r)throw Error(w(169));n?(e=D_(e,t,_r),r.__reactInternalMemoizedMergedChildContext=e,ee(Je),ee(je),X(je,e)):ee(Je),X(Je,n)}var tn=null,ua=!1,Pu=!1;function O_(e){tn===null?tn=[e]:tn.push(e)}function xE(e){ua=!0,O_(e)}function Xn(){if(!Pu&&tn!==null){Pu=!0;var e=0,t=Q;try{var n=tn;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tn=null,ua=!1}catch(i){throw tn!==null&&(tn=tn.slice(e+1)),i_(Kh,Xn),i}finally{Q=t,Pu=!1}}return null}var Qr=[],Gr=0,vl=null,yl=0,mt=[],_t=0,vr=null,nn=1,rn="";function nr(e,t){Qr[Gr++]=yl,Qr[Gr++]=vl,vl=e,yl=t}function L_(e,t,n){mt[_t++]=nn,mt[_t++]=rn,mt[_t++]=vr,vr=e;var r=nn;e=rn;var i=32-Mt(r)-1;r&=~(1<<i),n+=1;var s=32-Mt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,nn=1<<32-Mt(t)+i|n<<i|r,rn=s+e}else nn=1<<s|n<<i|r,rn=e}function rd(e){e.return!==null&&(nr(e,1),L_(e,1,0))}function id(e){for(;e===vl;)vl=Qr[--Gr],Qr[Gr]=null,yl=Qr[--Gr],Qr[Gr]=null;for(;e===vr;)vr=mt[--_t],mt[_t]=null,rn=mt[--_t],mt[_t]=null,nn=mt[--_t],mt[_t]=null}var ut=null,lt=null,te=!1,Ot=null;function M_(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,lt=xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vr!==null?{id:nn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ut=e,lt=null,!0):!1;default:return!1}}function Ac(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dc(e){if(te){var t=lt;if(t){var n=t;if(!kp(e,t)){if(Ac(e))throw Error(w(418));t=xn(n.nextSibling);var r=ut;t&&kp(e,t)?M_(r,n):(e.flags=e.flags&-4097|2,te=!1,ut=e)}}else{if(Ac(e))throw Error(w(418));e.flags=e.flags&-4097|2,te=!1,ut=e}}}function Np(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function $o(e){if(e!==ut)return!1;if(!te)return Np(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nc(e.type,e.memoizedProps)),t&&(t=lt)){if(Ac(e))throw F_(),Error(w(418));for(;t;)M_(e,t),t=xn(t.nextSibling)}if(Np(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){lt=xn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=ut?xn(e.stateNode.nextSibling):null;return!0}function F_(){for(var e=lt;e;)e=xn(e.nextSibling)}function ci(){lt=ut=null,te=!1}function sd(e){Ot===null?Ot=[e]:Ot.push(e)}var AE=mn.ReactCurrentBatchConfig;function At(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var wl=Yn(null),El=null,Kr=null,od=null;function ld(){od=Kr=El=null}function ad(e){var t=wl.current;ee(wl),e._currentValue=t}function Oc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ni(e,t){El=e,od=Kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(od!==e)if(e={context:e,memoizedValue:t,next:null},Kr===null){if(El===null)throw Error(w(308));Kr=e,El.dependencies={lanes:0,firstContext:e}}else Kr=Kr.next=e;return t}var lr=null;function ud(e){lr===null?lr=[e]:lr.push(e)}function $_(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ud(t)):(n.next=i.next,i.next=n),t.interleaved=n,dn(e,r)}function dn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yn=!1;function cd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ln(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,dn(e,n)}return i=r.interleaved,i===null?(t.next=t,ud(r)):(t.next=i.next,i.next=t),r.interleaved=t,dn(e,n)}function el(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yh(e,n)}}function Pp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cl(e,t,n,r){var i=e.updateQueue;yn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,c=u=a=null,l=s;do{var d=l.lane,g=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,v=l;switch(d=t,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){h=_.call(g,h,d);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,d=typeof _=="function"?_.call(g,h,d):_,d==null)break e;h=oe({},h,d);break e;case 2:yn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=h):c=c.next=g,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);wr|=o,e.lanes=o,e.memoizedState=h}}function Rp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(w(191,i));i.call(r)}}}var B_=new $m.Component().refs;function Lc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return(e=e._reactInternals)?Rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=be(),i=On(e),s=ln(r,i);s.payload=t,n!=null&&(s.callback=n),t=An(e,s,i),t!==null&&(Ft(t,e,i,r),el(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=be(),i=On(e),s=ln(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=An(e,s,i),t!==null&&(Ft(t,e,i,r),el(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=be(),r=On(e),i=ln(n,r);i.tag=2,t!=null&&(i.callback=t),t=An(e,i,r),t!==null&&(Ft(t,e,r,n),el(t,e,r))}};function xp(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ws(n,r)||!ws(i,s):!0}function j_(e,t,n){var r=!1,i=jn,s=t.contextType;return typeof s=="object"&&s!==null?s=Tt(s):(i=Ze(t)?_r:je.current,r=t.contextTypes,s=(r=r!=null)?ui(e,i):jn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ap(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function Mc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=B_,cd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Tt(s):(s=Ze(t)?_r:je.current,i.context=ui(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Lc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),Cl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ui(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(w(309));var r=n.stateNode}if(!r)throw Error(w(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===B_&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(w(284));if(!n._owner)throw Error(w(290,e))}return e}function Uo(e,t){throw e=Object.prototype.toString.call(t),Error(w(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dp(e){var t=e._init;return t(e._payload)}function z_(e){function t(p,f){if(e){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=Ln(p,f),p.index=0,p.sibling=null,p}function s(p,f,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,m,y){return f===null||f.tag!==6?(f=Mu(m,p.mode,y),f.return=p,f):(f=i(f,m),f.return=p,f)}function a(p,f,m,y){var S=m.type;return S===jr?c(p,f,m.props.children,y,m.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vn&&Dp(S)===f.type)?(y=i(f,m.props),y.ref=Ui(p,f,m),y.return=p,y):(y=ol(m.type,m.key,m.props,null,p.mode,y),y.ref=Ui(p,f,m),y.return=p,y)}function u(p,f,m,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Fu(m,p.mode,y),f.return=p,f):(f=i(f,m.children||[]),f.return=p,f)}function c(p,f,m,y,S){return f===null||f.tag!==7?(f=fr(m,p.mode,y,S),f.return=p,f):(f=i(f,m),f.return=p,f)}function h(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Mu(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case No:return m=ol(f.type,f.key,f.props,null,p.mode,m),m.ref=Ui(p,null,f),m.return=p,m;case Br:return f=Fu(f,p.mode,m),f.return=p,f;case vn:var y=f._init;return h(p,y(f._payload),m)}if(Ki(f)||Oi(f))return f=fr(f,p.mode,m,null),f.return=p,f;Uo(p,f)}return null}function d(p,f,m,y){var S=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(p,f,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case No:return m.key===S?a(p,f,m,y):null;case Br:return m.key===S?u(p,f,m,y):null;case vn:return S=m._init,d(p,f,S(m._payload),y)}if(Ki(m)||Oi(m))return S!==null?null:c(p,f,m,y,null);Uo(p,m)}return null}function g(p,f,m,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(m)||null,l(f,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case No:return p=p.get(y.key===null?m:y.key)||null,a(f,p,y,S);case Br:return p=p.get(y.key===null?m:y.key)||null,u(f,p,y,S);case vn:var P=y._init;return g(p,f,m,P(y._payload),S)}if(Ki(y)||Oi(y))return p=p.get(m)||null,c(f,p,y,S,null);Uo(f,y)}return null}function _(p,f,m,y){for(var S=null,P=null,R=f,x=f=0,ue=null;R!==null&&x<m.length;x++){R.index>x?(ue=R,R=null):ue=R.sibling;var j=d(p,R,m[x],y);if(j===null){R===null&&(R=ue);break}e&&R&&j.alternate===null&&t(p,R),f=s(j,f,x),P===null?S=j:P.sibling=j,P=j,R=ue}if(x===m.length)return n(p,R),te&&nr(p,x),S;if(R===null){for(;x<m.length;x++)R=h(p,m[x],y),R!==null&&(f=s(R,f,x),P===null?S=R:P.sibling=R,P=R);return te&&nr(p,x),S}for(R=r(p,R);x<m.length;x++)ue=g(R,p,x,m[x],y),ue!==null&&(e&&ue.alternate!==null&&R.delete(ue.key===null?x:ue.key),f=s(ue,f,x),P===null?S=ue:P.sibling=ue,P=ue);return e&&R.forEach(function(Pt){return t(p,Pt)}),te&&nr(p,x),S}function v(p,f,m,y){var S=Oi(m);if(typeof S!="function")throw Error(w(150));if(m=S.call(m),m==null)throw Error(w(151));for(var P=S=null,R=f,x=f=0,ue=null,j=m.next();R!==null&&!j.done;x++,j=m.next()){R.index>x?(ue=R,R=null):ue=R.sibling;var Pt=d(p,R,j.value,y);if(Pt===null){R===null&&(R=ue);break}e&&R&&Pt.alternate===null&&t(p,R),f=s(Pt,f,x),P===null?S=Pt:P.sibling=Pt,P=Pt,R=ue}if(j.done)return n(p,R),te&&nr(p,x),S;if(R===null){for(;!j.done;x++,j=m.next())j=h(p,j.value,y),j!==null&&(f=s(j,f,x),P===null?S=j:P.sibling=j,P=j);return te&&nr(p,x),S}for(R=r(p,R);!j.done;x++,j=m.next())j=g(R,p,x,j.value,y),j!==null&&(e&&j.alternate!==null&&R.delete(j.key===null?x:j.key),f=s(j,f,x),P===null?S=j:P.sibling=j,P=j);return e&&R.forEach(function(Ai){return t(p,Ai)}),te&&nr(p,x),S}function I(p,f,m,y){if(typeof m=="object"&&m!==null&&m.type===jr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case No:e:{for(var S=m.key,P=f;P!==null;){if(P.key===S){if(S=m.type,S===jr){if(P.tag===7){n(p,P.sibling),f=i(P,m.props.children),f.return=p,p=f;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vn&&Dp(S)===P.type){n(p,P.sibling),f=i(P,m.props),f.ref=Ui(p,P,m),f.return=p,p=f;break e}n(p,P);break}else t(p,P);P=P.sibling}m.type===jr?(f=fr(m.props.children,p.mode,y,m.key),f.return=p,p=f):(y=ol(m.type,m.key,m.props,null,p.mode,y),y.ref=Ui(p,f,m),y.return=p,p=y)}return o(p);case Br:e:{for(P=m.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=i(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=Fu(m,p.mode,y),f.return=p,p=f}return o(p);case vn:return P=m._init,I(p,f,P(m._payload),y)}if(Ki(m))return _(p,f,m,y);if(Oi(m))return v(p,f,m,y);Uo(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,m),f.return=p,p=f):(n(p,f),f=Mu(m,p.mode,y),f.return=p,p=f),o(p)):n(p,f)}return I}var hi=z_(!0),W_=z_(!1),ro={},Gt=Yn(ro),Ts=Yn(ro),Is=Yn(ro);function ar(e){if(e===ro)throw Error(w(174));return e}function hd(e,t){switch(X(Is,t),X(Ts,e),X(Gt,ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fc(t,e)}ee(Gt),X(Gt,t)}function di(){ee(Gt),ee(Ts),ee(Is)}function V_(e){ar(Is.current);var t=ar(Gt.current),n=fc(t,e.type);t!==n&&(X(Ts,e),X(Gt,n))}function dd(e){Ts.current===e&&(ee(Gt),ee(Ts))}var re=Yn(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ru=[];function fd(){for(var e=0;e<Ru.length;e++)Ru[e]._workInProgressVersionPrimary=null;Ru.length=0}var tl=mn.ReactCurrentDispatcher,xu=mn.ReactCurrentBatchConfig,yr=0,se=null,pe=null,we=null,Tl=!1,is=!1,ks=0,DE=0;function Le(){throw Error(w(321))}function pd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function gd(e,t,n,r,i,s){if(yr=s,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tl.current=e===null||e.memoizedState===null?FE:$E,e=n(r,i),is){s=0;do{if(is=!1,ks=0,25<=s)throw Error(w(301));s+=1,we=pe=null,t.updateQueue=null,tl.current=UE,e=n(r,i)}while(is)}if(tl.current=Il,t=pe!==null&&pe.next!==null,yr=0,we=pe=se=null,Tl=!1,t)throw Error(w(300));return e}function md(){var e=ks!==0;return ks=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?se.memoizedState=we=e:we=we.next=e,we}function It(){if(pe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=we===null?se.memoizedState:we.next;if(t!==null)we=t,pe=e;else{if(e===null)throw Error(w(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},we===null?se.memoizedState=we=e:we=we.next=e}return we}function Ns(e,t){return typeof t=="function"?t(e):t}function Au(e){var t=It(),n=t.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=e;var r=pe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((yr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,se.lanes|=c,wr|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,Ut(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,se.lanes|=s,wr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Du(e){var t=It(),n=t.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ut(s,t.memoizedState)||(Xe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function b_(){}function H_(e,t){var n=se,r=It(),i=t(),s=!Ut(r.memoizedState,i);if(s&&(r.memoizedState=i,Xe=!0),r=r.queue,_d(K_.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Ps(9,G_.bind(null,n,r,i,t),void 0,null),Te===null)throw Error(w(349));yr&30||Q_(n,t,i)}return i}function Q_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function G_(e,t,n,r){t.value=n,t.getSnapshot=r,Y_(t)&&X_(e)}function K_(e,t,n){return n(function(){Y_(t)&&X_(e)})}function Y_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function X_(e){var t=dn(e,1);t!==null&&Ft(t,e,1,-1)}function Op(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t.queue=e,e=e.dispatch=ME.bind(null,se,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function q_(){return It().memoizedState}function nl(e,t,n,r){var i=zt();se.flags|=e,i.memoizedState=Ps(1|t,n,void 0,r===void 0?null:r)}function ha(e,t,n,r){var i=It();r=r===void 0?null:r;var s=void 0;if(pe!==null){var o=pe.memoizedState;if(s=o.destroy,r!==null&&pd(r,o.deps)){i.memoizedState=Ps(t,n,s,r);return}}se.flags|=e,i.memoizedState=Ps(1|t,n,s,r)}function Lp(e,t){return nl(8390656,8,e,t)}function _d(e,t){return ha(2048,8,e,t)}function J_(e,t){return ha(4,2,e,t)}function Z_(e,t){return ha(4,4,e,t)}function ev(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tv(e,t,n){return n=n!=null?n.concat([e]):null,ha(4,4,ev.bind(null,t,e),n)}function vd(){}function nv(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rv(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function iv(e,t,n){return yr&21?(Ut(n,t)||(n=l_(),se.lanes|=n,wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function OE(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=xu.transition;xu.transition={};try{e(!1),t()}finally{Q=n,xu.transition=r}}function sv(){return It().memoizedState}function LE(e,t,n){var r=On(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ov(e))lv(t,n);else if(n=$_(e,t,n,r),n!==null){var i=be();Ft(n,e,r,i),av(n,t,r)}}function ME(e,t,n){var r=On(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ov(e))lv(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Ut(l,o)){var a=t.interleaved;a===null?(i.next=i,ud(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=$_(e,t,i,r),n!==null&&(i=be(),Ft(n,e,r,i),av(n,t,r))}}function ov(e){var t=e.alternate;return e===se||t!==null&&t===se}function lv(e,t){is=Tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function av(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yh(e,n)}}var Il={readContext:Tt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},FE={readContext:Tt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Lp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nl(4194308,4,ev.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=LE.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:Op,useDebugValue:vd,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=Op(!1),t=e[0];return e=OE.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,i=zt();if(te){if(n===void 0)throw Error(w(407));n=n()}else{if(n=t(),Te===null)throw Error(w(349));yr&30||Q_(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Lp(K_.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,G_.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=zt(),t=Te.identifierPrefix;if(te){var n=rn,r=nn;n=(r&~(1<<32-Mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ks++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=DE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$E={readContext:Tt,useCallback:nv,useContext:Tt,useEffect:_d,useImperativeHandle:tv,useInsertionEffect:J_,useLayoutEffect:Z_,useMemo:rv,useReducer:Au,useRef:q_,useState:function(){return Au(Ns)},useDebugValue:vd,useDeferredValue:function(e){var t=It();return iv(t,pe.memoizedState,e)},useTransition:function(){var e=Au(Ns)[0],t=It().memoizedState;return[e,t]},useMutableSource:b_,useSyncExternalStore:H_,useId:sv,unstable_isNewReconciler:!1},UE={readContext:Tt,useCallback:nv,useContext:Tt,useEffect:_d,useImperativeHandle:tv,useInsertionEffect:J_,useLayoutEffect:Z_,useMemo:rv,useReducer:Du,useRef:q_,useState:function(){return Du(Ns)},useDebugValue:vd,useDeferredValue:function(e){var t=It();return pe===null?t.memoizedState=e:iv(t,pe.memoizedState,e)},useTransition:function(){var e=Du(Ns)[0],t=It().memoizedState;return[e,t]},useMutableSource:b_,useSyncExternalStore:H_,useId:sv,unstable_isNewReconciler:!1};function fi(e,t){try{var n="",r=t;do n+=dw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Ou(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var BE=typeof WeakMap=="function"?WeakMap:Map;function uv(e,t,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nl||(Nl=!0,Qc=r),Fc(e,t)},n}function cv(e,t,n){n=ln(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Fc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fc(e,t),typeof r!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Mp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new BE;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ZE.bind(null,e,t,n),t.then(e,e))}function Fp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $p(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ln(-1,1),t.tag=2,An(n,t,1))),n.lanes|=1),e)}var jE=mn.ReactCurrentOwner,Xe=!1;function ze(e,t,n,r){t.child=e===null?W_(t,null,n,r):hi(t,e.child,n,r)}function Up(e,t,n,r,i){n=n.render;var s=t.ref;return ni(t,i),r=gd(e,t,n,r,s,i),n=md(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fn(e,t,i)):(te&&n&&rd(t),t.flags|=1,ze(e,t,r,i),t.child)}function Bp(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!kd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,hv(e,t,s,r,i)):(e=ol(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ws,n(o,r)&&e.ref===t.ref)return fn(e,t,i)}return t.flags|=1,e=Ln(s,r),e.ref=t.ref,e.return=t,t.child=e}function hv(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ws(s,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,fn(e,t,i)}return $c(e,t,n,r,i)}function dv(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Xr,rt),rt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Xr,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,X(Xr,rt),rt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,X(Xr,rt),rt|=r;return ze(e,t,i,n),t.child}function fv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $c(e,t,n,r,i){var s=Ze(n)?_r:je.current;return s=ui(t,s),ni(t,i),n=gd(e,t,n,r,s,i),r=md(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fn(e,t,i)):(te&&r&&rd(t),t.flags|=1,ze(e,t,n,i),t.child)}function jp(e,t,n,r,i){if(Ze(n)){var s=!0;_l(t)}else s=!1;if(ni(t,i),t.stateNode===null)rl(e,t),j_(t,n,r),Mc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tt(u):(u=Ze(n)?_r:je.current,u=ui(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Ap(t,o,r,u),yn=!1;var d=t.memoizedState;o.state=d,Cl(t,r,o,i),a=t.memoizedState,l!==r||d!==a||Je.current||yn?(typeof c=="function"&&(Lc(t,n,c,r),a=t.memoizedState),(l=yn||xp(t,n,l,r,d,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,U_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:At(t.type,l),o.props=u,h=t.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Tt(a):(a=Ze(n)?_r:je.current,a=ui(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||d!==a)&&Ap(t,o,r,a),yn=!1,d=t.memoizedState,o.state=d,Cl(t,r,o,i);var _=t.memoizedState;l!==h||d!==_||Je.current||yn?(typeof g=="function"&&(Lc(t,n,g,r),_=t.memoizedState),(u=yn||xp(t,n,u,r,d,_,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),o.props=r,o.state=_,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Uc(e,t,n,r,s,i)}function Uc(e,t,n,r,i,s){fv(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Ip(t,n,!1),fn(e,t,s);r=t.stateNode,jE.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=hi(t,e.child,null,s),t.child=hi(t,null,l,s)):ze(e,t,l,s),t.memoizedState=r.state,i&&Ip(t,n,!0),t.child}function pv(e){var t=e.stateNode;t.pendingContext?Tp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tp(e,t.context,!1),hd(e,t.containerInfo)}function zp(e,t,n,r,i){return ci(),sd(i),t.flags|=256,ze(e,t,n,r),t.child}var Bc={dehydrated:null,treeContext:null,retryLane:0};function jc(e){return{baseLanes:e,cachePool:null,transitions:null}}function gv(e,t,n){var r=t.pendingProps,i=re.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),X(re,i&1),e===null)return Dc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pa(o,r,0,null),e=fr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=jc(n),t.memoizedState=Bc,e):yd(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return zE(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Ln(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ln(l,s):(s=fr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?jc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Bc,r}return s=e.child,e=s.sibling,r=Ln(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yd(e,t){return t=pa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bo(e,t,n,r){return r!==null&&sd(r),hi(t,e.child,null,n),e=yd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zE(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Ou(Error(w(422))),Bo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=pa({mode:"visible",children:r.children},i,0,null),s=fr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&hi(t,e.child,null,o),t.child.memoizedState=jc(o),t.memoizedState=Bc,s);if(!(t.mode&1))return Bo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(w(419)),r=Ou(s,r,void 0),Bo(e,t,o,r)}if(l=(o&e.childLanes)!==0,Xe||l){if(r=Te,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,dn(e,i),Ft(r,e,i,-1))}return Id(),r=Ou(Error(w(421))),Bo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=eC.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,lt=xn(i.nextSibling),ut=t,te=!0,Ot=null,e!==null&&(mt[_t++]=nn,mt[_t++]=rn,mt[_t++]=vr,nn=e.id,rn=e.overflow,vr=t),t=yd(t,r.children),t.flags|=4096,t)}function Wp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Oc(e.return,t,n)}function Lu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mv(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ze(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,n,t);else if(e.tag===19)Wp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(re,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Lu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Lu(t,!0,n,null,s);break;case"together":Lu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(w(153));if(t.child!==null){for(e=t.child,n=Ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function WE(e,t,n){switch(t.tag){case 3:pv(t),ci();break;case 5:V_(t);break;case 1:Ze(t.type)&&_l(t);break;case 4:hd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;X(wl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(X(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?gv(e,t,n):(X(re,re.current&1),e=fn(e,t,n),e!==null?e.sibling:null);X(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),X(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,dv(e,t,n)}return fn(e,t,n)}var _v,zc,vv,yv;_v=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zc=function(){};vv=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ar(Gt.current);var s=null;switch(n){case"input":i=uc(e,i),r=uc(e,r),s=[];break;case"select":i=oe({},i,{value:void 0}),r=oe({},r,{value:void 0}),s=[];break;case"textarea":i=dc(e,i),r=dc(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gl)}pc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&J("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};yv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bi(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function VE(e,t,n){var r=t.pendingProps;switch(id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Ze(t.type)&&ml(),Me(t),null;case 3:return r=t.stateNode,di(),ee(Je),ee(je),fd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($o(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(Yc(Ot),Ot=null))),zc(e,t),Me(t),null;case 5:dd(t);var i=ar(Is.current);if(n=t.type,e!==null&&t.stateNode!=null)vv(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(w(166));return Me(t),null}if(e=ar(Gt.current),$o(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Wt]=t,r[Ss]=s,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(i=0;i<Xi.length;i++)J(Xi[i],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":qf(r,s),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},J("invalid",r);break;case"textarea":Zf(r,s),J("invalid",r)}pc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Fo(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Fo(r.textContent,l,e),i=["children",""+l]):fs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&J("scroll",r)}switch(n){case"input":Po(r),Jf(r,s,!0);break;case"textarea":Po(r),ep(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Wt]=t,e[Ss]=r,_v(e,t,!1,!1),t.stateNode=e;e:{switch(o=gc(n,r),n){case"dialog":J("cancel",e),J("close",e),i=r;break;case"iframe":case"object":case"embed":J("load",e),i=r;break;case"video":case"audio":for(i=0;i<Xi.length;i++)J(Xi[i],e);i=r;break;case"source":J("error",e),i=r;break;case"img":case"image":case"link":J("error",e),J("load",e),i=r;break;case"details":J("toggle",e),i=r;break;case"input":qf(e,r),i=uc(e,r),J("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=oe({},r,{value:void 0}),J("invalid",e);break;case"textarea":Zf(e,r),i=dc(e,r),J("invalid",e);break;default:i=r}pc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Ym(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Gm(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ps(e,a):typeof a=="number"&&ps(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fs.hasOwnProperty(s)?a!=null&&s==="onScroll"&&J("scroll",e):a!=null&&Vh(e,s,a,o))}switch(n){case"input":Po(e),Jf(e,r,!1);break;case"textarea":Po(e),ep(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Jr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)yv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(w(166));if(n=ar(Is.current),ar(Gt.current),$o(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wt]=t,(s=r.nodeValue!==n)&&(e=ut,e!==null))switch(e.tag){case 3:Fo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wt]=t,t.stateNode=r}return Me(t),null;case 13:if(ee(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&lt!==null&&t.mode&1&&!(t.flags&128))F_(),ci(),t.flags|=98560,s=!1;else if(s=$o(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(w(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(w(317));s[Wt]=t}else ci(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),s=!1}else Ot!==null&&(Yc(Ot),Ot=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?me===0&&(me=3):Id())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return di(),zc(e,t),e===null&&Es(t.stateNode.containerInfo),Me(t),null;case 10:return ad(t.type._context),Me(t),null;case 17:return Ze(t.type)&&ml(),Me(t),null;case 19:if(ee(re),s=t.memoizedState,s===null)return Me(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Bi(s,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sl(e),o!==null){for(t.flags|=128,Bi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(re,re.current&1|2),t.child}e=e.sibling}s.tail!==null&&he()>pi&&(t.flags|=128,r=!0,Bi(s,!1),t.lanes=4194304)}else{if(!r)if(e=Sl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!te)return Me(t),null}else 2*he()-s.renderingStartTime>pi&&n!==1073741824&&(t.flags|=128,r=!0,Bi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=he(),t.sibling=null,n=re.current,X(re,r?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return Td(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rt&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(w(156,t.tag))}function bE(e,t){switch(id(t),t.tag){case 1:return Ze(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return di(),ee(Je),ee(je),fd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dd(t),null;case 13:if(ee(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(w(340));ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(re),null;case 4:return di(),null;case 10:return ad(t.type._context),null;case 22:case 23:return Td(),null;case 24:return null;default:return null}}var jo=!1,Fe=!1,HE=typeof WeakSet=="function"?WeakSet:Set,T=null;function Yr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(e,t,r)}else n.current=null}function Wc(e,t,n){try{n()}catch(r){le(e,t,r)}}var Vp=!1;function QE(e,t){if(Ic=dl,e=S_(),nd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===e)break t;if(d===n&&++u===i&&(l=o),d===s&&++c===r&&(a=o),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(kc={focusedElem:e,selectionRange:n},dl=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,I=_.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:At(t.type,v),I);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(y){le(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return _=Vp,Vp=!1,_}function ss(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wc(t,n,s)}i=i.next}while(i!==r)}}function da(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Vc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wv(e){var t=e.alternate;t!==null&&(e.alternate=null,wv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[Ss],delete t[Rc],delete t[PE],delete t[RE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ev(e){return e.tag===5||e.tag===3||e.tag===4}function bp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ev(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gl));else if(r!==4&&(e=e.child,e!==null))for(bc(e,t,n),e=e.sibling;e!==null;)bc(e,t,n),e=e.sibling}function Hc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hc(e,t,n),e=e.sibling;e!==null;)Hc(e,t,n),e=e.sibling}var Re=null,Dt=!1;function _n(e,t,n){for(n=n.child;n!==null;)Cv(e,t,n),n=n.sibling}function Cv(e,t,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ia,n)}catch{}switch(n.tag){case 5:Fe||Yr(n,t);case 6:var r=Re,i=Dt;Re=null,_n(e,t,n),Re=r,Dt=i,Re!==null&&(Dt?(e=Re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(Dt?(e=Re,n=n.stateNode,e.nodeType===8?Nu(e.parentNode,n):e.nodeType===1&&Nu(e,n),vs(e)):Nu(Re,n.stateNode));break;case 4:r=Re,i=Dt,Re=n.stateNode.containerInfo,Dt=!0,_n(e,t,n),Re=r,Dt=i;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wc(n,t,o),i=i.next}while(i!==r)}_n(e,t,n);break;case 1:if(!Fe&&(Yr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){le(n,t,l)}_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,_n(e,t,n),Fe=r):_n(e,t,n);break;default:_n(e,t,n)}}function Hp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new HE),t.forEach(function(r){var i=tC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Re=l.stateNode,Dt=!1;break e;case 3:Re=l.stateNode.containerInfo,Dt=!0;break e;case 4:Re=l.stateNode.containerInfo,Dt=!0;break e}l=l.return}if(Re===null)throw Error(w(160));Cv(s,o,i),Re=null,Dt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){le(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sv(t,e),t=t.sibling}function Sv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),jt(e),r&4){try{ss(3,e,e.return),da(3,e)}catch(v){le(e,e.return,v)}try{ss(5,e,e.return)}catch(v){le(e,e.return,v)}}break;case 1:Rt(t,e),jt(e),r&512&&n!==null&&Yr(n,n.return);break;case 5:if(Rt(t,e),jt(e),r&512&&n!==null&&Yr(n,n.return),e.flags&32){var i=e.stateNode;try{ps(i,"")}catch(v){le(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&bm(i,s),gc(l,o);var u=gc(l,s);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?Ym(i,h):c==="dangerouslySetInnerHTML"?Gm(i,h):c==="children"?ps(i,h):Vh(i,c,h,u)}switch(l){case"input":cc(i,s);break;case"textarea":Hm(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Jr(i,!!s.multiple,g,!1):d!==!!s.multiple&&(s.defaultValue!=null?Jr(i,!!s.multiple,s.defaultValue,!0):Jr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ss]=s}catch(v){le(e,e.return,v)}}break;case 6:if(Rt(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(w(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){le(e,e.return,v)}}break;case 3:if(Rt(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vs(t.containerInfo)}catch(v){le(e,e.return,v)}break;case 4:Rt(t,e),jt(e);break;case 13:Rt(t,e),jt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cd=he())),r&4&&Hp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(u=Fe)||c,Rt(t,e),Fe=u):Rt(t,e),jt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(T=e,c=e.child;c!==null;){for(h=T=c;T!==null;){switch(d=T,g=d.child,d.tag){case 0:case 11:case 14:case 15:ss(4,d,d.return);break;case 1:Yr(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(v){le(r,n,v)}}break;case 5:Yr(d,d.return);break;case 22:if(d.memoizedState!==null){Gp(h);continue}}g!==null?(g.return=d,T=g):Gp(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Km("display",o))}catch(v){le(e,e.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){le(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rt(t,e),jt(e),r&4&&Hp(e);break;case 21:break;default:Rt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ev(n)){var r=n;break e}n=n.return}throw Error(w(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ps(i,""),r.flags&=-33);var s=bp(e);Hc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bp(e);bc(e,l,o);break;default:throw Error(w(161))}}catch(a){le(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GE(e,t,n){T=e,Tv(e)}function Tv(e,t,n){for(var r=(e.mode&1)!==0;T!==null;){var i=T,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||jo;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Fe;l=jo;var u=Fe;if(jo=o,(Fe=a)&&!u)for(T=i;T!==null;)o=T,a=o.child,o.tag===22&&o.memoizedState!==null?Kp(i):a!==null?(a.return=o,T=a):Kp(i);for(;s!==null;)T=s,Tv(s),s=s.sibling;T=i,jo=l,Fe=u}Qp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,T=s):Qp(e)}}function Qp(e){for(;T!==null;){var t=T;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||da(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:At(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Rp(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&vs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}Fe||t.flags&512&&Vc(t)}catch(d){le(t,t.return,d)}}if(t===e){T=null;break}if(n=t.sibling,n!==null){n.return=t.return,T=n;break}T=t.return}}function Gp(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var n=t.sibling;if(n!==null){n.return=t.return,T=n;break}T=t.return}}function Kp(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{da(4,t)}catch(a){le(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){le(t,i,a)}}var s=t.return;try{Vc(t)}catch(a){le(t,s,a)}break;case 5:var o=t.return;try{Vc(t)}catch(a){le(t,o,a)}}}catch(a){le(t,t.return,a)}if(t===e){T=null;break}var l=t.sibling;if(l!==null){l.return=t.return,T=l;break}T=t.return}}var KE=Math.ceil,kl=mn.ReactCurrentDispatcher,wd=mn.ReactCurrentOwner,St=mn.ReactCurrentBatchConfig,W=0,Te=null,fe=null,Ae=0,rt=0,Xr=Yn(0),me=0,Rs=null,wr=0,fa=0,Ed=0,os=null,Ke=null,Cd=0,pi=1/0,en=null,Nl=!1,Qc=null,Dn=null,zo=!1,Sn=null,Pl=0,ls=0,Gc=null,il=-1,sl=0;function be(){return W&6?he():il!==-1?il:il=he()}function On(e){return e.mode&1?W&2&&Ae!==0?Ae&-Ae:AE.transition!==null?(sl===0&&(sl=l_()),sl):(e=Q,e!==0||(e=window.event,e=e===void 0?16:p_(e.type)),e):1}function Ft(e,t,n,r){if(50<ls)throw ls=0,Gc=null,Error(w(185));eo(e,n,r),(!(W&2)||e!==Te)&&(e===Te&&(!(W&2)&&(fa|=n),me===4&&En(e,Ae)),et(e,r),n===1&&W===0&&!(t.mode&1)&&(pi=he()+500,ua&&Xn()))}function et(e,t){var n=e.callbackNode;Aw(e,t);var r=hl(e,e===Te?Ae:0);if(r===0)n!==null&&rp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&rp(n),t===1)e.tag===0?xE(Yp.bind(null,e)):O_(Yp.bind(null,e)),kE(function(){!(W&6)&&Xn()}),n=null;else{switch(a_(r)){case 1:n=Kh;break;case 4:n=s_;break;case 16:n=cl;break;case 536870912:n=o_;break;default:n=cl}n=Dv(n,Iv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Iv(e,t){if(il=-1,sl=0,W&6)throw Error(w(327));var n=e.callbackNode;if(ri()&&e.callbackNode!==n)return null;var r=hl(e,e===Te?Ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Rl(e,r);else{t=r;var i=W;W|=2;var s=Nv();(Te!==e||Ae!==t)&&(en=null,pi=he()+500,dr(e,t));do try{qE();break}catch(l){kv(e,l)}while(!0);ld(),kl.current=s,W=i,fe!==null?t=0:(Te=null,Ae=0,t=me)}if(t!==0){if(t===2&&(i=wc(e),i!==0&&(r=i,t=Kc(e,i))),t===1)throw n=Rs,dr(e,0),En(e,r),et(e,he()),n;if(t===6)En(e,r);else{if(i=e.current.alternate,!(r&30)&&!YE(i)&&(t=Rl(e,r),t===2&&(s=wc(e),s!==0&&(r=s,t=Kc(e,s))),t===1))throw n=Rs,dr(e,0),En(e,r),et(e,he()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(w(345));case 2:rr(e,Ke,en);break;case 3:if(En(e,r),(r&130023424)===r&&(t=Cd+500-he(),10<t)){if(hl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){be(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Pc(rr.bind(null,e,Ke,en),t);break}rr(e,Ke,en);break;case 4:if(En(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Mt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KE(r/1960))-r,10<r){e.timeoutHandle=Pc(rr.bind(null,e,Ke,en),r);break}rr(e,Ke,en);break;case 5:rr(e,Ke,en);break;default:throw Error(w(329))}}}return et(e,he()),e.callbackNode===n?Iv.bind(null,e):null}function Kc(e,t){var n=os;return e.current.memoizedState.isDehydrated&&(dr(e,t).flags|=256),e=Rl(e,t),e!==2&&(t=Ke,Ke=n,t!==null&&Yc(t)),e}function Yc(e){Ke===null?Ke=e:Ke.push.apply(Ke,e)}function YE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ut(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function En(e,t){for(t&=~Ed,t&=~fa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mt(t),r=1<<n;e[n]=-1,t&=~r}}function Yp(e){if(W&6)throw Error(w(327));ri();var t=hl(e,0);if(!(t&1))return et(e,he()),null;var n=Rl(e,t);if(e.tag!==0&&n===2){var r=wc(e);r!==0&&(t=r,n=Kc(e,r))}if(n===1)throw n=Rs,dr(e,0),En(e,t),et(e,he()),n;if(n===6)throw Error(w(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,Ke,en),et(e,he()),null}function Sd(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(pi=he()+500,ua&&Xn())}}function Er(e){Sn!==null&&Sn.tag===0&&!(W&6)&&ri();var t=W;W|=1;var n=St.transition,r=Q;try{if(St.transition=null,Q=1,e)return e()}finally{Q=r,St.transition=n,W=t,!(W&6)&&Xn()}}function Td(){rt=Xr.current,ee(Xr)}function dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,IE(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(id(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ml();break;case 3:di(),ee(Je),ee(je),fd();break;case 5:dd(r);break;case 4:di();break;case 13:ee(re);break;case 19:ee(re);break;case 10:ad(r.type._context);break;case 22:case 23:Td()}n=n.return}if(Te=e,fe=e=Ln(e.current,null),Ae=rt=t,me=0,Rs=null,Ed=fa=wr=0,Ke=os=null,lr!==null){for(t=0;t<lr.length;t++)if(n=lr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}lr=null}return e}function kv(e,t){do{var n=fe;try{if(ld(),tl.current=Il,Tl){for(var r=se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tl=!1}if(yr=0,we=pe=se=null,is=!1,ks=0,wd.current=null,n===null||n.return===null){me=1,Rs=t,fe=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ae,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Fp(o);if(g!==null){g.flags&=-257,$p(g,o,l,s,t),g.mode&1&&Mp(s,u,t),t=g,a=u;var _=t.updateQueue;if(_===null){var v=new Set;v.add(a),t.updateQueue=v}else _.add(a);break e}else{if(!(t&1)){Mp(s,u,t),Id();break e}a=Error(w(426))}}else if(te&&l.mode&1){var I=Fp(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),$p(I,o,l,s,t),sd(fi(a,l));break e}}s=a=fi(a,l),me!==4&&(me=2),os===null?os=[s]:os.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=uv(s,a,t);Pp(s,p);break e;case 1:l=a;var f=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Dn===null||!Dn.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var y=cv(s,l,t);Pp(s,y);break e}}s=s.return}while(s!==null)}Rv(n)}catch(S){t=S,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function Nv(){var e=kl.current;return kl.current=Il,e===null?Il:e}function Id(){(me===0||me===3||me===2)&&(me=4),Te===null||!(wr&268435455)&&!(fa&268435455)||En(Te,Ae)}function Rl(e,t){var n=W;W|=2;var r=Nv();(Te!==e||Ae!==t)&&(en=null,dr(e,t));do try{XE();break}catch(i){kv(e,i)}while(!0);if(ld(),W=n,kl.current=r,fe!==null)throw Error(w(261));return Te=null,Ae=0,me}function XE(){for(;fe!==null;)Pv(fe)}function qE(){for(;fe!==null&&!Cw();)Pv(fe)}function Pv(e){var t=Av(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?Rv(e):fe=t,wd.current=null}function Rv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bE(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,fe=null;return}}else if(n=VE(n,t,rt),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);me===0&&(me=5)}function rr(e,t,n){var r=Q,i=St.transition;try{St.transition=null,Q=1,JE(e,t,n,r)}finally{St.transition=i,Q=r}return null}function JE(e,t,n,r){do ri();while(Sn!==null);if(W&6)throw Error(w(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(w(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Dw(e,s),e===Te&&(fe=Te=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zo||(zo=!0,Dv(cl,function(){return ri(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=St.transition,St.transition=null;var o=Q;Q=1;var l=W;W|=4,wd.current=null,QE(e,n),Sv(n,e),vE(kc),dl=!!Ic,kc=Ic=null,e.current=n,GE(n),Sw(),W=l,Q=o,St.transition=s}else e.current=n;if(zo&&(zo=!1,Sn=e,Pl=i),s=e.pendingLanes,s===0&&(Dn=null),kw(n.stateNode),et(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nl)throw Nl=!1,e=Qc,Qc=null,e;return Pl&1&&e.tag!==0&&ri(),s=e.pendingLanes,s&1?e===Gc?ls++:(ls=0,Gc=e):ls=0,Xn(),null}function ri(){if(Sn!==null){var e=a_(Pl),t=St.transition,n=Q;try{if(St.transition=null,Q=16>e?16:e,Sn===null)var r=!1;else{if(e=Sn,Sn=null,Pl=0,W&6)throw Error(w(331));var i=W;for(W|=4,T=e.current;T!==null;){var s=T,o=s.child;if(T.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(T=u;T!==null;){var c=T;switch(c.tag){case 0:case 11:case 15:ss(8,c,s)}var h=c.child;if(h!==null)h.return=c,T=h;else for(;T!==null;){c=T;var d=c.sibling,g=c.return;if(wv(c),c===u){T=null;break}if(d!==null){d.return=g,T=d;break}T=g}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var I=v.sibling;v.sibling=null,v=I}while(v!==null)}}T=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,T=o;else e:for(;T!==null;){if(s=T,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ss(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,T=p;break e}T=s.return}}var f=e.current;for(T=f;T!==null;){o=T;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,T=m;else e:for(o=f;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:da(9,l)}}catch(S){le(l,l.return,S)}if(l===o){T=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,T=y;break e}T=l.return}}if(W=i,Xn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ia,e)}catch{}r=!0}return r}finally{Q=n,St.transition=t}}return!1}function Xp(e,t,n){t=fi(n,t),t=uv(e,t,1),e=An(e,t,1),t=be(),e!==null&&(eo(e,1,t),et(e,t))}function le(e,t,n){if(e.tag===3)Xp(e,e,n);else for(;t!==null;){if(t.tag===3){Xp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dn===null||!Dn.has(r))){e=fi(n,e),e=cv(t,e,1),t=An(t,e,1),e=be(),t!==null&&(eo(t,1,e),et(t,e));break}}t=t.return}}function ZE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Ae&n)===n&&(me===4||me===3&&(Ae&130023424)===Ae&&500>he()-Cd?dr(e,0):Ed|=n),et(e,t)}function xv(e,t){t===0&&(e.mode&1?(t=Ao,Ao<<=1,!(Ao&130023424)&&(Ao=4194304)):t=1);var n=be();e=dn(e,t),e!==null&&(eo(e,t,n),et(e,n))}function eC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xv(e,n)}function tC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(w(314))}r!==null&&r.delete(t),xv(e,n)}var Av;Av=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,WE(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,te&&t.flags&1048576&&L_(t,yl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rl(e,t),e=t.pendingProps;var i=ui(t,je.current);ni(t,n),i=gd(null,t,r,e,i,n);var s=md();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(s=!0,_l(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cd(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,Mc(t,r,e,n),t=Uc(null,t,r,!0,s,n)):(t.tag=0,te&&s&&rd(t),ze(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=rC(r),e=At(r,e),i){case 0:t=$c(null,t,r,e,n);break e;case 1:t=jp(null,t,r,e,n);break e;case 11:t=Up(null,t,r,e,n);break e;case 14:t=Bp(null,t,r,At(r.type,e),n);break e}throw Error(w(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),$c(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),jp(e,t,r,i,n);case 3:e:{if(pv(t),e===null)throw Error(w(387));r=t.pendingProps,s=t.memoizedState,i=s.element,U_(e,t),Cl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=fi(Error(w(423)),t),t=zp(e,t,r,n,i);break e}else if(r!==i){i=fi(Error(w(424)),t),t=zp(e,t,r,n,i);break e}else for(lt=xn(t.stateNode.containerInfo.firstChild),ut=t,te=!0,Ot=null,n=W_(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ci(),r===i){t=fn(e,t,n);break e}ze(e,t,r,n)}t=t.child}return t;case 5:return V_(t),e===null&&Dc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Nc(r,i)?o=null:s!==null&&Nc(r,s)&&(t.flags|=32),fv(e,t),ze(e,t,o,n),t.child;case 6:return e===null&&Dc(t),null;case 13:return gv(e,t,n);case 4:return hd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hi(t,null,r,n):ze(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),Up(e,t,r,i,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,X(wl,r._currentValue),r._currentValue=o,s!==null)if(Ut(s.value,o)){if(s.children===i.children&&!Je.current){t=fn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=ln(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Oc(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(w(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Oc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ze(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ni(t,n),i=Tt(i),r=r(i),t.flags|=1,ze(e,t,r,n),t.child;case 14:return r=t.type,i=At(r,t.pendingProps),i=At(r.type,i),Bp(e,t,r,i,n);case 15:return hv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:At(r,i),rl(e,t),t.tag=1,Ze(r)?(e=!0,_l(t)):e=!1,ni(t,n),j_(t,r,i),Mc(t,r,i,n),Uc(null,t,r,!0,e,n);case 19:return mv(e,t,n);case 22:return dv(e,t,n)}throw Error(w(156,t.tag))};function Dv(e,t){return i_(e,t)}function nC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,r){return new nC(e,t,n,r)}function kd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rC(e){if(typeof e=="function")return kd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hh)return 11;if(e===Qh)return 14}return 2}function Ln(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ol(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")kd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jr:return fr(n.children,i,s,t);case bh:o=8,i|=8;break;case sc:return e=wt(12,n,t,i|2),e.elementType=sc,e.lanes=s,e;case oc:return e=wt(13,n,t,i),e.elementType=oc,e.lanes=s,e;case lc:return e=wt(19,n,t,i),e.elementType=lc,e.lanes=s,e;case zm:return pa(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bm:o=10;break e;case jm:o=9;break e;case Hh:o=11;break e;case Qh:o=14;break e;case vn:o=16,r=null;break e}throw Error(w(130,e==null?e:typeof e,""))}return t=wt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function fr(e,t,n,r){return e=wt(7,e,r,t),e.lanes=n,e}function pa(e,t,n,r){return e=wt(22,e,r,t),e.elementType=zm,e.lanes=n,e.stateNode={isHidden:!1},e}function Mu(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function Fu(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iC(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mu(0),this.expirationTimes=mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nd(e,t,n,r,i,s,o,l,a){return e=new iC(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=wt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cd(s),e}function sC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ov(e){if(!e)return jn;e=e._reactInternals;e:{if(Rr(e)!==e||e.tag!==1)throw Error(w(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(w(171))}if(e.tag===1){var n=e.type;if(Ze(n))return D_(e,n,t)}return t}function Lv(e,t,n,r,i,s,o,l,a){return e=Nd(n,r,!0,e,i,s,o,l,a),e.context=Ov(null),n=e.current,r=be(),i=On(n),s=ln(r,i),s.callback=t??null,An(n,s,i),e.current.lanes=i,eo(e,i,r),et(e,r),e}function ga(e,t,n,r){var i=t.current,s=be(),o=On(i);return n=Ov(n),t.context===null?t.context=n:t.pendingContext=n,t=ln(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=An(i,t,o),e!==null&&(Ft(e,i,o,s),el(e,i,o)),o}function xl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Pd(e,t){qp(e,t),(e=e.alternate)&&qp(e,t)}function oC(){return null}var Mv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rd(e){this._internalRoot=e}ma.prototype.render=Rd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(w(409));ga(e,t,null,null)};ma.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Er(function(){ga(null,e,null,null)}),t[hn]=null}};function ma(e){this._internalRoot=e}ma.prototype.unstable_scheduleHydration=function(e){if(e){var t=h_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wn.length&&t!==0&&t<wn[n].priority;n++);wn.splice(n,0,e),n===0&&f_(e)}};function xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jp(){}function lC(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=xl(o);s.call(u)}}var o=Lv(t,r,e,0,null,!1,!1,"",Jp);return e._reactRootContainer=o,e[hn]=o.current,Es(e.nodeType===8?e.parentNode:e),Er(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=xl(a);l.call(u)}}var a=Nd(e,0,!1,null,null,!1,!1,"",Jp);return e._reactRootContainer=a,e[hn]=a.current,Es(e.nodeType===8?e.parentNode:e),Er(function(){ga(t,a,n,r)}),a}function va(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=xl(o);l.call(a)}}ga(t,o,e,i)}else o=lC(n,t,e,i,r);return xl(o)}u_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Yi(t.pendingLanes);n!==0&&(Yh(t,n|1),et(t,he()),!(W&6)&&(pi=he()+500,Xn()))}break;case 13:Er(function(){var r=dn(e,1);if(r!==null){var i=be();Ft(r,e,1,i)}}),Pd(e,1)}};Xh=function(e){if(e.tag===13){var t=dn(e,134217728);if(t!==null){var n=be();Ft(t,e,134217728,n)}Pd(e,134217728)}};c_=function(e){if(e.tag===13){var t=On(e),n=dn(e,t);if(n!==null){var r=be();Ft(n,e,t,r)}Pd(e,t)}};h_=function(){return Q};d_=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};_c=function(e,t,n){switch(t){case"input":if(cc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=aa(r);if(!i)throw Error(w(90));Vm(r),cc(r,i)}}}break;case"textarea":Hm(e,n);break;case"select":t=n.value,t!=null&&Jr(e,!!n.multiple,t,!1)}};Jm=Sd;Zm=Er;var aC={usingClientEntryPoint:!1,Events:[no,br,aa,Xm,qm,Sd]},ji={findFiberByHostInstance:or,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},uC={bundleType:ji.bundleType,version:ji.version,rendererPackageName:ji.rendererPackageName,rendererConfig:ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=n_(e),e===null?null:e.stateNode},findFiberByHostInstance:ji.findFiberByHostInstance||oC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{ia=Wo.inject(uC),Qt=Wo}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aC;ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xd(t))throw Error(w(200));return sC(e,t,null,n)};ft.createRoot=function(e,t){if(!xd(e))throw Error(w(299));var n=!1,r="",i=Mv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Nd(e,1,!1,null,null,n,!1,r,i),e[hn]=t.current,Es(e.nodeType===8?e.parentNode:e),new Rd(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(w(188)):(e=Object.keys(e).join(","),Error(w(268,e)));return e=n_(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return Er(e)};ft.hydrate=function(e,t,n){if(!_a(t))throw Error(w(200));return va(null,e,t,!0,n)};ft.hydrateRoot=function(e,t,n){if(!xd(e))throw Error(w(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Mv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Lv(t,null,e,1,n??null,i,!1,s,o),e[hn]=t.current,Es(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ma(t)};ft.render=function(e,t,n){if(!_a(t))throw Error(w(200));return va(null,e,t,!1,n)};ft.unmountComponentAtNode=function(e){if(!_a(e))throw Error(w(40));return e._reactRootContainer?(Er(function(){va(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};ft.unstable_batchedUpdates=Sd;ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_a(n))throw Error(w(200));if(e==null||e._reactInternals===void 0)throw Error(w(38));return va(e,t,n,!1,r)};ft.version="18.2.0-next-9e3b772b8-20220608";function Fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fv)}catch(e){console.error(e)}}Fv(),Lm.exports=ft;var cC=Lm.exports,Zp=cC;rc.createRoot=Zp.createRoot,rc.hydrateRoot=Zp.hydrateRoot;/**
 * @remix-run/router v1.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xs.apply(this,arguments)}var Tn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tn||(Tn={}));const eg="popstate";function hC(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:a=""}=xr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Xc("",{pathname:o,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let a=i.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof s=="string"?s:$v(s))}function r(i,s){ya(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return fC(t,n,r,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ya(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dC(){return Math.random().toString(36).substr(2,8)}function tg(e,t){return{usr:e.state,key:e.key,idx:t}}function Xc(e,t,n,r){return n===void 0&&(n=null),xs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xr(t):t,{state:n,key:t&&t.key||r||dC()})}function $v(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fC(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Tn.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(xs({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){l=Tn.Pop;let I=c(),p=I==null?null:I-u;u=I,a&&a({action:l,location:v.location,delta:p})}function d(I,p){l=Tn.Push;let f=Xc(v.location,I,p);n&&n(f,I),u=c()+1;let m=tg(f,u),y=v.createHref(f);try{o.pushState(m,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(y)}s&&a&&a({action:l,location:v.location,delta:1})}function g(I,p){l=Tn.Replace;let f=Xc(v.location,I,p);n&&n(f,I),u=c();let m=tg(f,u),y=v.createHref(f);o.replaceState(m,"",y),s&&a&&a({action:l,location:v.location,delta:0})}function _(I){let p=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof I=="string"?I:$v(I);return _e(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let v={get action(){return l},get location(){return e(i,o)},listen(I){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(eg,h),a=I,()=>{i.removeEventListener(eg,h),a=null}},createHref(I){return t(i,I)},createURL:_,encodeLocation(I){let p=_(I);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:g,go(I){return o.go(I)}};return v}var ng;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ng||(ng={}));function pC(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?xr(t):t,i=jv(r.pathname||"/",n);if(i==null)return null;let s=Uv(e);gC(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=TC(s[l],NC(i));return o}function Uv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(_e(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=pr([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(_e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Uv(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:CC(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of Bv(s.path))i(s,o,a)}),t}function Bv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Bv(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function gC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:SC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mC=/^:\w+$/,_C=3,vC=2,yC=1,wC=10,EC=-2,rg=e=>e==="*";function CC(e,t){let n=e.split("/"),r=n.length;return n.some(rg)&&(r+=EC),t&&(r+=vC),n.filter(i=>!rg(i)).reduce((i,s)=>i+(mC.test(s)?_C:s===""?yC:wC),r)}function SC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function TC(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=IC({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let h=l.route;s.push({params:r,pathname:pr([i,c.pathname]),pathnameBase:OC(pr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=pr([i,c.pathnameBase]))}return s}function IC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=kC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:g}=c;if(d==="*"){let v=l[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const _=l[h];return g&&!_?u[d]=void 0:u[d]=PC(_||"",d),u},{}),pathname:s,pathnameBase:o,pattern:e}}function kC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ya(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function NC(e){try{return decodeURI(e)}catch(t){return ya(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function PC(e,t){try{return decodeURIComponent(e)}catch(n){return ya(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function jv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function RC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xr(e):e;return{pathname:n?n.startsWith("/")?n:xC(n,t):t,search:LC(r),hash:MC(i)}}function xC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $u(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function DC(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=xr(e):(i=xs({},e),_e(!i.pathname||!i.pathname.includes("?"),$u("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),$u("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),$u("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else if(r){let h=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h.pop();i.pathname=d.join("/")}l="/"+h.join("/")}else{let h=t.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}l=h>=0?t[h]:"/"}let a=RC(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const pr=e=>e.join("/").replace(/\/\/+/g,"/"),OC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),LC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,MC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function FC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zv=["post","put","patch","delete"];new Set(zv);const $C=["get",...zv];new Set($C);/**
 * React Router v6.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(this,arguments)}const Ad=N.createContext(null),UC=N.createContext(null),wa=N.createContext(null),Ea=N.createContext(null),Ar=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Wv=N.createContext(null);function Ca(){return N.useContext(Ea)!=null}function Vv(){return Ca()||_e(!1),N.useContext(Ea).location}function bv(e){N.useContext(wa).static||N.useLayoutEffect(e)}function BC(){let{isDataRoute:e}=N.useContext(Ar);return e?ZC():jC()}function jC(){Ca()||_e(!1);let e=N.useContext(Ad),{basename:t,navigator:n}=N.useContext(wa),{matches:r}=N.useContext(Ar),{pathname:i}=Vv(),s=JSON.stringify(AC(r).map(a=>a.pathnameBase)),o=N.useRef(!1);return bv(()=>{o.current=!0}),N.useCallback(function(a,u){if(u===void 0&&(u={}),!o.current)return;if(typeof a=="number"){n.go(a);return}let c=DC(a,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:pr([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}function zC(){let{matches:e}=N.useContext(Ar),t=e[e.length-1];return t?t.params:{}}function WC(e,t){return VC(e,t)}function VC(e,t,n){Ca()||_e(!1);let{navigator:r}=N.useContext(wa),{matches:i}=N.useContext(Ar),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let a=Vv(),u;if(t){var c;let v=typeof t=="string"?xr(t):t;l==="/"||(c=v.pathname)!=null&&c.startsWith(l)||_e(!1),u=v}else u=a;let h=u.pathname||"/",d=l==="/"?h:h.slice(l.length)||"/",g=pC(e,{pathname:d}),_=KC(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:pr([l,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:pr([l,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return t&&_?N.createElement(Ea.Provider,{value:{location:Al({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Tn.Pop}},_):_}function bC(){let e=JC(),t=FC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,s)}const HC=N.createElement(bC,null);class QC extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?N.createElement(Ar.Provider,{value:this.props.routeContext},N.createElement(Wv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GC(e){let{routeContext:t,match:n,children:r}=e,i=N.useContext(Ad);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Ar.Provider,{value:t},r)}function KC(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=s.findIndex(a=>a.route.id&&(o==null?void 0:o[a.route.id]));l>=0||_e(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,a,u)=>{let c=a.route.id?o==null?void 0:o[a.route.id]:null,h=null;n&&(h=a.route.errorElement||HC);let d=t.concat(s.slice(0,u+1)),g=()=>{let _;return c?_=h:a.route.Component?_=N.createElement(a.route.Component,null):a.route.element?_=a.route.element:_=l,N.createElement(GC,{match:a,routeContext:{outlet:l,matches:d,isDataRoute:n!=null},children:_})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?N.createElement(QC,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:g(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):g()},null)}var Hv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hv||{}),Dl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dl||{});function YC(e){let t=N.useContext(Ad);return t||_e(!1),t}function XC(e){let t=N.useContext(UC);return t||_e(!1),t}function qC(e){let t=N.useContext(Ar);return t||_e(!1),t}function Qv(e){let t=qC(),n=t.matches[t.matches.length-1];return n.route.id||_e(!1),n.route.id}function JC(){var e;let t=N.useContext(Wv),n=XC(Dl.UseRouteError),r=Qv(Dl.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function ZC(){let{router:e}=YC(Hv.UseNavigateStable),t=Qv(Dl.UseNavigateStable),n=N.useRef(!1);return bv(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Al({fromRouteId:t},s)))},[e,t])}function qc(e){_e(!1)}function eS(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Tn.Pop,navigator:s,static:o=!1}=e;Ca()&&_e(!1);let l=t.replace(/^\/*/,"/"),a=N.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=xr(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:g="default"}=r,_=N.useMemo(()=>{let v=jv(u,l);return v==null?null:{location:{pathname:v,search:c,hash:h,state:d,key:g},navigationType:i}},[l,u,c,h,d,g,i]);return _==null?null:N.createElement(wa.Provider,{value:a},N.createElement(Ea.Provider,{children:n,value:_}))}function tS(e){let{children:t,location:n}=e;return WC(Jc(t),n)}new Promise(()=>{});function Jc(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(r,i)=>{if(!N.isValidElement(r))return;let s=[...t,i];if(r.type===N.Fragment){n.push.apply(n,Jc(r.props.children,s));return}r.type!==qc&&_e(!1),!r.props.index||!r.props.children||_e(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jc(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const nS="startTransition",ig=ew[nS];function rS(e){let{basename:t,children:n,future:r,window:i}=e,s=N.useRef();s.current==null&&(s.current=hC({window:i,v5Compat:!0}));let o=s.current,[l,a]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=N.useCallback(h=>{u&&ig?ig(()=>a(h)):a(h)},[a,u]);return N.useLayoutEffect(()=>o.listen(c),[o,c]),N.createElement(eS,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}var sg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sg||(sg={}));var og;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(og||(og={}));var lg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E=function(e,t){if(!e)throw Si(t)},Si=function(e){return new Error("Firebase Database ("+Gv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},iS=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Dd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,h=(s&3)<<4|l>>4;let d=(l&15)<<2|u>>6,g=u&63;a||(g=64,o||(d=64)),r.push(n[c],n[h],n[d],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Kv(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):iS(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||h==null)throw new sS;const d=s<<2|l>>4;if(r.push(d),u!==64){const g=l<<4&240|u>>2;if(r.push(g),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yv=function(e){const t=Kv(e);return Dd.encodeByteArray(t,!0)},Ol=function(e){return Yv(e).replace(/\./g,"")},Zc=function(e){try{return Dd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(e){return As(void 0,e)}function As(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!lS(n)||(e[n]=As(e[n],t[n]));return e}function lS(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=()=>aS().__FIREBASE_DEFAULTS__,cS=()=>{if(typeof process>"u"||typeof lg>"u")return;const e=lg.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},hS=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Zc(e[1]);return t&&JSON.parse(t)},dS=()=>{try{return uS()||cS()||hS()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Xv=()=>{var e;return(e=dS())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Ol(JSON.stringify(n)),Ol(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pS())}function gS(){return typeof self=="object"&&self.self===self}function mS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jv(){return Gv.NODE_ADMIN===!0}function _S(){try{return typeof indexedDB=="object"}catch{return!1}}function vS(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="FirebaseError";class Dr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=yS,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sa.prototype.create)}}class Sa{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?wS(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Dr(i,l,r)}}function wS(e,t){return e.replace(ES,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const ES=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(e){return JSON.parse(e)}function ge(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Ds(Zc(s[0])||""),n=Ds(Zc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},CS=function(e){const t=Zv(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},SS=function(e){const t=Zv(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Cr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function eh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ll(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function th(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(ag(s)&&ag(o)){if(!th(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ag(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let h=0;h<16;h++)r[h]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):h<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const d=(i<<5|i>>>27)+u+a+c+r[h]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function kS(e,t){const n=new NS(e,t);return n.subscribe.bind(n)}class NS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PS(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Uu),i.error===void 0&&(i.error=Uu),i.complete===void 0&&(i.complete=Uu);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PS(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Uu(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){const s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function tt(e,t){return`${e} failed: ${t} argument `}function Ee(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(tt(e,t)+"must be a valid function.")}function ug(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(tt(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,E(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ta=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(e){return e&&e._delegate?e._delegate:e}class Xt{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Ye;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AS(t))try{this.getOrInitializeService({instanceIdentifier:ir})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=ir){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ir){return this.instances.has(t)}getOptions(t=ir){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ir){return this.component?this.component.multipleInstances?t:ir:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xS(e){return e===ir?void 0:e}function AS(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new nh(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=[];var H;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(H||(H={}));const ty={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},DS=H.INFO,OS={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},LS=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=OS[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class io{constructor(t){this.name=t,this._logLevel=DS,this._logHandler=LS,this._userLogHandler=null,Od.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in H))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ty[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...t),this._logHandler(this,H.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...t),this._logHandler(this,H.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,H.INFO,...t),this._logHandler(this,H.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,H.WARN,...t),this._logHandler(this,H.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...t),this._logHandler(this,H.ERROR,...t)}}function MS(e){Od.forEach(t=>{t.setLogLevel(e)})}function FS(e,t){for(const n of Od){let r=null;t&&t.level&&(r=ty[t.level]),e===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const l=o.map(a=>{if(a==null)return null;if(typeof a=="string")return a;if(typeof a=="number"||typeof a=="boolean")return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch{return null}}).filter(a=>a).join(" ");s>=(r??i.logLevel)&&e({level:H[s].toLowerCase(),message:l,args:o,type:i.name})}}}const $S=(e,t)=>t.some(n=>e instanceof n);let cg,hg;function US(){return cg||(cg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BS(){return hg||(hg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ny=new WeakMap,rh=new WeakMap,ry=new WeakMap,Bu=new WeakMap,Ld=new WeakMap;function jS(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Mn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&ny.set(n,e)}).catch(()=>{}),Ld.set(t,e),t}function zS(e){if(rh.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});rh.set(e,t)}let ih={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return rh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ry.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function WS(e){ih=e(ih)}function VS(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ju(this),t,...n);return ry.set(r,t.sort?t.sort():[t]),Mn(r)}:BS().includes(e)?function(...t){return e.apply(ju(this),t),Mn(ny.get(this))}:function(...t){return Mn(e.apply(ju(this),t))}}function bS(e){return typeof e=="function"?VS(e):(e instanceof IDBTransaction&&zS(e),$S(e,US())?new Proxy(e,ih):e)}function Mn(e){if(e instanceof IDBRequest)return jS(e);if(Bu.has(e))return Bu.get(e);const t=bS(e);return t!==e&&(Bu.set(e,t),Ld.set(t,e)),t}const ju=e=>Ld.get(e);function HS(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Mn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Mn(o.result),a.oldVersion,a.newVersion,Mn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const QS=["get","getKey","getAll","getAllKeys","count"],GS=["put","add","delete","clear"],zu=new Map;function dg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(zu.get(t))return zu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=GS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QS.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return zu.set(t,s),s}WS(e=>({...e,get:(t,n,r)=>dg(t,n)||e.get(t,n,r),has:(t,n)=>!!dg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YS(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const sh="@firebase/app",fg="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new io("@firebase/app"),XS="@firebase/app-compat",qS="@firebase/analytics-compat",JS="@firebase/analytics",ZS="@firebase/app-check-compat",eT="@firebase/app-check",tT="@firebase/auth",nT="@firebase/auth-compat",rT="@firebase/database",iT="@firebase/database-compat",sT="@firebase/functions",oT="@firebase/functions-compat",lT="@firebase/installations",aT="@firebase/installations-compat",uT="@firebase/messaging",cT="@firebase/messaging-compat",hT="@firebase/performance",dT="@firebase/performance-compat",fT="@firebase/remote-config",pT="@firebase/remote-config-compat",gT="@firebase/storage",mT="@firebase/storage-compat",_T="@firebase/firestore",vT="@firebase/firestore-compat",yT="firebase",wT="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="[DEFAULT]",ET={[sh]:"fire-core",[XS]:"fire-core-compat",[JS]:"fire-analytics",[qS]:"fire-analytics-compat",[eT]:"fire-app-check",[ZS]:"fire-app-check-compat",[tT]:"fire-auth",[nT]:"fire-auth-compat",[rT]:"fire-rtdb",[iT]:"fire-rtdb-compat",[sT]:"fire-fn",[oT]:"fire-fn-compat",[lT]:"fire-iid",[aT]:"fire-iid-compat",[uT]:"fire-fcm",[cT]:"fire-fcm-compat",[hT]:"fire-perf",[dT]:"fire-perf-compat",[fT]:"fire-rc",[pT]:"fire-rc-compat",[gT]:"fire-gcs",[mT]:"fire-gcs-compat",[_T]:"fire-fst",[vT]:"fire-fst-compat","fire-js":"fire-js",[yT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new Map,Os=new Map;function Ml(e,t){try{e.container.addComponent(t)}catch(n){Sr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function iy(e,t){e.container.addOrOverwriteComponent(t)}function Tr(e){const t=e.name;if(Os.has(t))return Sr.debug(`There were multiple attempts to register component ${t}.`),!1;Os.set(t,e);for(const n of Wn.values())Ml(n,e);return!0}function sy(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function CT(e,t,n=zn){sy(e,t).clearInstance(n)}function ST(){Os.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},an=new Sa("app","Firebase",TT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IT=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw an.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=wT;function Md(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:zn,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw an.create("bad-app-name",{appName:String(i)});if(n||(n=Xv()),!n)throw an.create("no-options");const s=Wn.get(i);if(s){if(th(n,s.options)&&th(r,s.config))return s;throw an.create("duplicate-app",{appName:i})}const o=new ey(i);for(const a of Os.values())o.addComponent(a);const l=new IT(n,r,o);return Wn.set(i,l),l}function kT(e=zn){const t=Wn.get(e);if(!t&&e===zn&&Xv())return Md();if(!t)throw an.create("no-app",{appName:e});return t}function NT(){return Array.from(Wn.values())}async function oy(e){const t=e.name;Wn.has(t)&&(Wn.delete(t),await Promise.all(e.container.getProviders().map(n=>n.delete())),e.isDeleted=!0)}function Kt(e,t,n){var r;let i=(r=ET[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Sr.warn(l.join(" "));return}Tr(new Xt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}function ly(e,t){if(e!==null&&typeof e!="function")throw an.create("invalid-log-argument");FS(e,t)}function ay(e){MS(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebase-heartbeat-database",RT=1,Ls="firebase-heartbeat-store";let Wu=null;function uy(){return Wu||(Wu=HS(PT,RT,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ls)}}}).catch(e=>{throw an.create("idb-open",{originalErrorMessage:e.message})})),Wu}async function xT(e){try{return await(await uy()).transaction(Ls).objectStore(Ls).get(cy(e))}catch(t){if(t instanceof Dr)Sr.warn(t.message);else{const n=an.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Sr.warn(n.message)}}}async function pg(e,t){try{const r=(await uy()).transaction(Ls,"readwrite");await r.objectStore(Ls).put(t,cy(e)),await r.done}catch(n){if(n instanceof Dr)Sr.warn(n.message);else{const r=an.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function cy(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=1024,DT=30*24*60*60*1e3;class OT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gg();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=DT}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gg(),{heartbeatsToSend:r,unsentEntries:i}=LT(this._heartbeatsCache.heartbeats),s=Ol(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function gg(){return new Date().toISOString().substring(0,10)}function LT(e,t=AT){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mg(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mg(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?vS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await xT(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function mg(e){return Ol(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(e){Tr(new Xt("platform-logger",t=>new KS(t),"PRIVATE")),Tr(new Xt("heartbeat",t=>new OT(t),"PRIVATE")),Kt(sh,fg,e),Kt(sh,fg,"esm2017"),Kt("fire-js","")}FT("");const $T=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Dr,SDK_VERSION:Ia,_DEFAULT_ENTRY_NAME:zn,_addComponent:Ml,_addOrOverwriteComponent:iy,_apps:Wn,_clearComponents:ST,_components:Os,_getProvider:sy,_registerComponent:Tr,_removeServiceInstance:CT,deleteApp:oy,getApp:kT,getApps:NT,initializeApp:Md,onLog:ly,registerVersion:Kt,setLogLevel:ay},Symbol.toStringTag,{value:"Module"}));var UT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},C,Fd=Fd||{},O=UT||self;function ka(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function so(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function BT(e){return Object.prototype.hasOwnProperty.call(e,Vu)&&e[Vu]||(e[Vu]=++jT)}var Vu="closure_uid_"+(1e9*Math.random()>>>0),jT=0;function zT(e,t,n){return e.call.apply(e.bind,arguments)}function WT(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function $e(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$e=zT:$e=WT,$e.apply(null,arguments)}function Vo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ne(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return t.prototype[i].apply(r,o)}}function qn(){this.s=this.s,this.o=this.o}var VT=0;qn.prototype.s=!1;qn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),VT!=0)&&BT(this)};qn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hy=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function $d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function _g(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ka(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function Ue(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var bT=function(){if(!O.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{O.addEventListener("test",()=>{},t),O.removeEventListener("test",()=>{},t)}catch{}return e}();function Ms(e){return/^[\s\xa0]*$/.test(e)}function Na(){var e=O.navigator;return e&&(e=e.userAgent)?e:""}function Vt(e){return Na().indexOf(e)!=-1}function Ud(e){return Ud[" "](e),e}Ud[" "]=function(){};function HT(e,t){var n=UI;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var QT=Vt("Opera"),Fs=Vt("Trident")||Vt("MSIE"),dy=Vt("Edge"),oh=dy||Fs,fy=Vt("Gecko")&&!(Na().toLowerCase().indexOf("webkit")!=-1&&!Vt("Edge"))&&!(Vt("Trident")||Vt("MSIE"))&&!Vt("Edge"),GT=Na().toLowerCase().indexOf("webkit")!=-1&&!Vt("Edge");function py(){var e=O.document;return e?e.documentMode:void 0}e:{var vg="",bu=function(){var e=Na();if(fy)return/rv:([^\);]+)(\)|;)/.exec(e);if(dy)return/Edge\/([\d\.]+)/.exec(e);if(Fs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(GT)return/WebKit\/(\S+)/.exec(e);if(QT)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(bu&&(vg=bu?bu[1]:""),Fs){var yg=py();if(yg!=null&&yg>parseFloat(vg))break e}}O.document&&Fs&&py();function $s(e,t){if(Ue.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fy){e:{try{Ud(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:KT[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$s.$.h.call(this)}}Ne($s,Ue);var KT={2:"touch",3:"pen",4:"mouse"};$s.prototype.h=function(){$s.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var oo="closure_listenable_"+(1e6*Math.random()|0),YT=0;function XT(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++YT,this.fa=this.ia=!1}function Pa(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Bd(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function qT(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function gy(e){const t={};for(const n in e)t[n]=e[n];return t}const wg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function my(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<wg.length;s++)n=wg[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ra(e){this.src=e,this.g={},this.h=0}Ra.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=ah(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new XT(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function lh(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=hy(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Pa(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ah(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var jd="closure_lm_"+(1e6*Math.random()|0),Hu={};function _y(e,t,n,r,i){if(r&&r.once)return yy(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)_y(e,t[s],n,r,i);return null}return n=Vd(n),e&&e[oo]?e.O(t,n,so(r)?!!r.capture:!!r,i):vy(e,t,n,!1,r,i)}function vy(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=so(i)?!!i.capture:!!i,l=Wd(e);if(l||(e[jd]=l=new Ra(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=JT(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bT||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ey(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function JT(){function e(n){return t.call(e.src,e.listener,n)}const t=ZT;return e}function yy(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)yy(e,t[s],n,r,i);return null}return n=Vd(n),e&&e[oo]?e.P(t,n,so(r)?!!r.capture:!!r,i):vy(e,t,n,!0,r,i)}function wy(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)wy(e,t[s],n,r,i);else r=so(r)?!!r.capture:!!r,n=Vd(n),e&&e[oo]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=ah(s,n,r,i),-1<n&&(Pa(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Wd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ah(t,n,r,i)),(n=-1<e?t[e]:null)&&zd(n))}function zd(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[oo])lh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ey(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wd(t))?(lh(n,e),n.h==0&&(n.src=null,t[jd]=null)):Pa(e)}}}function Ey(e){return e in Hu?Hu[e]:Hu[e]="on"+e}function ZT(e,t){if(e.fa)e=!0;else{t=new $s(t,this);var n=e.listener,r=e.la||e.src;e.ia&&zd(e),e=n.call(r,t)}return e}function Wd(e){return e=e[jd],e instanceof Ra?e:null}var Qu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vd(e){return typeof e=="function"?e:(e[Qu]||(e[Qu]=function(t){return e.handleEvent(t)}),e[Qu])}function Ie(){qn.call(this),this.i=new Ra(this),this.S=this,this.J=null}Ne(Ie,qn);Ie.prototype[oo]=!0;Ie.prototype.removeEventListener=function(e,t,n,r){wy(this,e,t,n,r)};function De(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Ue(t,e);else if(t instanceof Ue)t.target=t.target||e;else{var i=t;t=new Ue(r,e),my(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=bo(o,r,!0,t)&&i}if(o=t.g=e,i=bo(o,r,!0,t)&&i,i=bo(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=bo(o,r,!1,t)&&i}Ie.prototype.N=function(){if(Ie.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Pa(n[r]);delete e.g[t],e.h--}}this.J=null};Ie.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ie.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function bo(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,a=o.la||o.src;o.ia&&lh(e.i,o),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var bd=O.JSON.stringify;class eI{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function tI(){var e=Hd;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class nI{constructor(){this.h=this.g=null}add(t,n){const r=Cy.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Cy=new eI(()=>new rI,e=>e.reset());class rI{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function iI(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function sI(e){O.setTimeout(()=>{throw e},0)}let Us,Bs=!1,Hd=new nI,Sy=()=>{const e=O.Promise.resolve(void 0);Us=()=>{e.then(oI)}};var oI=()=>{for(var e;e=tI();){try{e.h.call(e.g)}catch(n){sI(n)}var t=Cy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Bs=!1};function xa(e,t){Ie.call(this),this.h=e||1,this.g=t||O,this.j=$e(this.qb,this),this.l=Date.now()}Ne(xa,Ie);C=xa.prototype;C.ga=!1;C.T=null;C.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),De(this,"tick"),this.ga&&(Qd(this),this.start()))}};C.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Qd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}C.N=function(){xa.$.N.call(this),Qd(this),delete this.g};function Gd(e,t,n){if(typeof e=="function")n&&(e=$e(e,n));else if(e&&typeof e.handleEvent=="function")e=$e(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:O.setTimeout(e,t||0)}function Ty(e){e.g=Gd(()=>{e.g=null,e.i&&(e.i=!1,Ty(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class lI extends qn{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ty(this)}N(){super.N(),this.g&&(O.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(e){qn.call(this),this.h=e,this.g={}}Ne(js,qn);var Eg=[];function Iy(e,t,n,r){Array.isArray(n)||(n&&(Eg[0]=n.toString()),n=Eg);for(var i=0;i<n.length;i++){var s=_y(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ky(e){Bd(e.g,function(t,n){this.g.hasOwnProperty(n)&&zd(t)},e),e.g={}}js.prototype.N=function(){js.$.N.call(this),ky(this)};js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Aa(){this.g=!0}Aa.prototype.Ea=function(){this.g=!1};function aI(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function uI(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function qr(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+hI(e,n)+(r?" "+r:"")})}function cI(e,t){e.info(function(){return"TIMEOUT: "+t})}Aa.prototype.info=function(){};function hI(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return bd(n)}catch{return t}}var Ti={},Cg=null;function Kd(){return Cg=Cg||new Ie}Ti.Ta="serverreachability";function Ny(e){Ue.call(this,Ti.Ta,e)}Ne(Ny,Ue);function zs(e){const t=Kd();De(t,new Ny(t))}Ti.STAT_EVENT="statevent";function Py(e,t){Ue.call(this,Ti.STAT_EVENT,e),this.stat=t}Ne(Py,Ue);function We(e){const t=Kd();De(t,new Py(t,e))}Ti.Ua="timingevent";function Ry(e,t){Ue.call(this,Ti.Ua,e),this.size=t}Ne(Ry,Ue);function lo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return O.setTimeout(function(){e()},t)}var Yd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xd(){}Xd.prototype.h=null;function Sg(e){return e.h||(e.h=e.i())}function fI(){}var ao={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qd(){Ue.call(this,"d")}Ne(qd,Ue);function Jd(){Ue.call(this,"c")}Ne(Jd,Ue);var uh;function Da(){}Ne(Da,Xd);Da.prototype.g=function(){return new XMLHttpRequest};Da.prototype.i=function(){return{}};uh=new Da;function uo(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new js(this),this.P=pI,e=oh?125:void 0,this.V=new xa(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xy}function xy(){this.i=null,this.g="",this.h=!1}var pI=45e3,ch={},Fl={};C=uo.prototype;C.setTimeout=function(e){this.P=e};function hh(e,t,n){e.L=1,e.v=La(pn(t)),e.s=n,e.S=!0,Ay(e,null)}function Ay(e,t){e.G=Date.now(),co(e),e.A=pn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),By(n.i,"t",r),e.C=0,n=e.l.J,e.h=new xy,e.g=o0(e.l,n?t:null,!e.s),0<e.O&&(e.M=new lI($e(e.Pa,e,e.g),e.O)),Iy(e.U,e.g,"readystatechange",e.nb),t=e.I?gy(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),zs(),aI(e.j,e.u,e.A,e.m,e.W,e.s)}C.nb=function(e){e=e.target;const t=this.M;t&&bt(e)==3?t.l():this.Pa(e)};C.Pa=function(e){try{if(e==this.g)e:{const c=bt(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||oh||this.g&&(this.h.h||this.g.ja()||Ng(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?zs(3):zs(2)),Oa(this);var n=this.g.da();this.ca=n;t:if(Dy(this)){var r=Ng(this.g);e="";var i=r.length,s=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ur(this),as(this);var o="";break t}this.h.i=new O.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,uI(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ms(l)){var u=l;break t}}u=null}if(n=u)qr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dh(this,n);else{this.i=!1,this.o=3,We(12),ur(this),as(this);break e}}this.S?(Oy(this,c,o),oh&&this.i&&c==3&&(Iy(this.U,this.V,"tick",this.mb),this.V.start())):(qr(this.j,this.m,o,null),dh(this,o)),c==4&&ur(this),this.i&&!this.J&&(c==4?n0(this.l,this):(this.i=!1,co(this)))}else MI(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,We(12)):(this.o=0,We(13)),ur(this),as(this)}}}catch{}finally{}};function Dy(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function Oy(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=gI(e,n),i==Fl){t==4&&(e.o=4,We(14),r=!1),qr(e.j,e.m,null,"[Incomplete Response]");break}else if(i==ch){e.o=4,We(15),qr(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else qr(e.j,e.m,i,null),dh(e,i);Dy(e)&&i!=Fl&&i!=ch&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,We(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sf(t),t.M=!0,We(11))):(qr(e.j,e.m,n,"[Invalid Chunked Response]"),ur(e),as(e))}C.mb=function(){if(this.g){var e=bt(this.g),t=this.g.ja();this.C<t.length&&(Oa(this),Oy(this,e,t),this.i&&e!=4&&co(this))}};function gI(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Fl:(n=Number(t.substring(n,r)),isNaN(n)?ch:(r+=1,r+n>t.length?Fl:(t=t.slice(r,r+n),e.C=r+n,t)))}C.cancel=function(){this.J=!0,ur(this)};function co(e){e.Y=Date.now()+e.P,Ly(e,e.P)}function Ly(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=lo($e(e.lb,e),t)}function Oa(e){e.B&&(O.clearTimeout(e.B),e.B=null)}C.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(cI(this.j,this.A),this.L!=2&&(zs(),We(17)),ur(this),this.o=2,as(this)):Ly(this,this.Y-e)};function as(e){e.l.H==0||e.J||n0(e.l,e)}function ur(e){Oa(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Qd(e.V),ky(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function dh(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||fh(n.i,e))){if(!e.K&&fh(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Bl(n),Ua(n);else break e;rf(n),We(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=lo($e(n.ib,n),6e3));if(1>=Wy(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else cr(n,11)}else if((e.K||n.g==e)&&Bl(n),!Ms(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const _=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Zd(s,s.h),s.h=null))}if(r.F){const v=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Z(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=s0(r,r.J?r.pa:null,r.Y),o.K){Vy(r.i,o);var l=o,a=r.L;a&&l.setTimeout(a),l.B&&(Oa(l),co(l)),r.g=o}else e0(r);0<n.j.length&&Ba(n)}else u[0]!="stop"&&u[0]!="close"||cr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?cr(n,7):nf(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}zs(4)}catch{}}function mI(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(ka(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function _I(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(ka(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function My(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ka(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=_I(e),r=mI(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var Fy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vI(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function gr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof gr){this.h=e.h,$l(this,e.j),this.s=e.s,this.g=e.g,Ul(this,e.m),this.l=e.l;var t=e.i,n=new Ws;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Tg(this,n),this.o=e.o}else e&&(t=String(e).match(Fy))?(this.h=!1,$l(this,t[1]||"",!0),this.s=qi(t[2]||""),this.g=qi(t[3]||"",!0),Ul(this,t[4]),this.l=qi(t[5]||"",!0),Tg(this,t[6]||"",!0),this.o=qi(t[7]||"")):(this.h=!1,this.i=new Ws(null,this.h))}gr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ji(t,Ig,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ji(t,Ig,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Ji(n,n.charAt(0)=="/"?EI:wI,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ji(n,SI)),e.join("")};function pn(e){return new gr(e)}function $l(e,t,n){e.j=n?qi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ul(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Tg(e,t,n){t instanceof Ws?(e.i=t,TI(e.i,e.h)):(n||(t=Ji(t,CI)),e.i=new Ws(t,e.h))}function Z(e,t,n){e.i.set(t,n)}function La(e){return Z(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ji(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,yI),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yI(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ig=/[#\/\?@]/g,wI=/[#\?:]/g,EI=/[#\?]/g,CI=/[#\?@]/g,SI=/#/g;function Ws(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jn(e){e.g||(e.g=new Map,e.h=0,e.i&&vI(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}C=Ws.prototype;C.add=function(e,t){Jn(this),this.i=null,e=Ii(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function $y(e,t){Jn(e),t=Ii(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Uy(e,t){return Jn(e),t=Ii(e,t),e.g.has(t)}C.forEach=function(e,t){Jn(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};C.ta=function(){Jn(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};C.Z=function(e){Jn(this);let t=[];if(typeof e=="string")Uy(this,e)&&(t=t.concat(this.g.get(Ii(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};C.set=function(e,t){return Jn(this),this.i=null,e=Ii(this,e),Uy(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};C.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function By(e,t,n){$y(e,t),0<n.length&&(e.i=null,e.g.set(Ii(e,t),$d(n)),e.h+=n.length)}C.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Ii(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function TI(e,t){t&&!e.j&&(Jn(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($y(this,r),By(this,i,n))},e)),e.j=t}var II=class{constructor(e,t){this.g=e,this.map=t}};function jy(e){this.l=e||kI,O.PerformanceNavigationTiming?(e=O.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(O.g&&O.g.Ka&&O.g.Ka()&&O.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kI=10;function zy(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Wy(e){return e.h?1:e.g?e.g.size:0}function fh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Zd(e,t){e.g?e.g.add(t):e.h=t}function Vy(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}jy.prototype.cancel=function(){if(this.i=by(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function by(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return $d(e.i)}var NI=class{stringify(e){return O.JSON.stringify(e,void 0)}parse(e){return O.JSON.parse(e,void 0)}};function PI(){this.g=new NI}function RI(e,t,n){const r=n||"";try{My(e,function(i,s){let o=i;so(i)&&(o=bd(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function xI(e,t){const n=new Aa;if(O.Image){const r=new Image;r.onload=Vo(Ho,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Vo(Ho,n,r,"TestLoadImage: error",!1,t),r.onabort=Vo(Ho,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Vo(Ho,n,r,"TestLoadImage: timeout",!1,t),O.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Ho(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Ma(e){this.l=e.ec||null,this.j=e.ob||!1}Ne(Ma,Xd);Ma.prototype.g=function(){return new Fa(this.l,this.j)};Ma.prototype.i=function(e){return function(){return e}}({});function Fa(e,t){Ie.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ef,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ne(Fa,Ie);var ef=0;C=Fa.prototype;C.open=function(e,t){if(this.readyState!=ef)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vs(this)};C.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||O).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};C.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ho(this)),this.readyState=ef};C.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof O.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hy(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Hy(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}C.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ho(this):Vs(this),this.readyState==3&&Hy(this)}};C.Za=function(e){this.g&&(this.response=this.responseText=e,ho(this))};C.Ya=function(e){this.g&&(this.response=e,ho(this))};C.ka=function(){this.g&&ho(this)};function ho(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vs(e)}C.setRequestHeader=function(e,t){this.v.append(e,t)};C.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};C.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Vs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var AI=O.JSON.parse;function de(e){Ie.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Qy,this.L=this.M=!1}Ne(de,Ie);var Qy="",DI=/^https?$/i,OI=["POST","PUT"];C=de.prototype;C.Oa=function(e){this.M=e};C.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():uh.g(),this.C=this.u?Sg(this.u):Sg(uh),this.g.onreadystatechange=$e(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){kg(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=O.FormData&&e instanceof O.FormData,!(0<=hy(OI,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Yy(this),0<this.B&&((this.L=LI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$e(this.ua,this)):this.A=Gd(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){kg(this,s)}};function LI(e){return Fs&&typeof e.timeout=="number"&&e.ontimeout!==void 0}C.ua=function(){typeof Fd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,De(this,"timeout"),this.abort(8))};function kg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gy(e),$a(e)}function Gy(e){e.F||(e.F=!0,De(e,"complete"),De(e,"error"))}C.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,De(this,"complete"),De(this,"abort"),$a(this))};C.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$a(this,!0)),de.$.N.call(this)};C.La=function(){this.s||(this.G||this.v||this.l?Ky(this):this.kb())};C.kb=function(){Ky(this)};function Ky(e){if(e.h&&typeof Fd<"u"&&(!e.C[1]||bt(e)!=4||e.da()!=2)){if(e.v&&bt(e)==4)Gd(e.La,0,e);else if(De(e,"readystatechange"),bt(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(Fy)[1]||null;!i&&O.self&&O.self.location&&(i=O.self.location.protocol.slice(0,-1)),r=!DI.test(i?i.toLowerCase():"")}n=r}if(n)De(e,"complete"),De(e,"success");else{e.m=6;try{var s=2<bt(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Gy(e)}}finally{$a(e)}}}}function $a(e,t){if(e.g){Yy(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||De(e,"ready");try{n.onreadystatechange=r}catch{}}}function Yy(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(O.clearTimeout(e.A),e.A=null)}C.isActive=function(){return!!this.g};function bt(e){return e.g?e.g.readyState:0}C.da=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}};C.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};C.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),AI(t)}};function Ng(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Qy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function MI(e){const t={};e=(e.g&&2<=bt(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Ms(e[r]))continue;var n=iI(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}qT(t,function(r){return r.join(", ")})}C.Ia=function(){return this.m};C.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Xy(e){let t="";return Bd(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function tf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Xy(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Z(e,t,n))}function zi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qy(e){this.Ga=0,this.j=[],this.l=new Aa,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zi("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zi("baseRetryDelayMs",5e3,e),this.hb=zi("retryDelaySeedMs",1e4,e),this.eb=zi("forwardChannelMaxRetries",2,e),this.xa=zi("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new jy(e&&e.concurrentRequestLimit),this.Ja=new PI,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}C=qy.prototype;C.ra=8;C.H=1;function nf(e){if(Jy(e),e.H==3){var t=e.W++,n=pn(e.I);if(Z(n,"SID",e.K),Z(n,"RID",t),Z(n,"TYPE","terminate"),fo(e,n),t=new uo(e,e.l,t),t.L=2,t.v=La(pn(n)),n=!1,O.navigator&&O.navigator.sendBeacon)try{n=O.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&O.Image&&(new Image().src=t.v,n=!0),n||(t.g=o0(t.l,null),t.g.ha(t.v)),t.G=Date.now(),co(t)}i0(e)}function Ua(e){e.g&&(sf(e),e.g.cancel(),e.g=null)}function Jy(e){Ua(e),e.u&&(O.clearTimeout(e.u),e.u=null),Bl(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&O.clearTimeout(e.m),e.m=null)}function Ba(e){if(!zy(e.i)&&!e.m){e.m=!0;var t=e.Na;Us||Sy(),Bs||(Us(),Bs=!0),Hd.add(t,e),e.C=0}}function FI(e,t){return Wy(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=lo($e(e.Na,e,t),r0(e,e.C)),e.C++,!0)}C.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new uo(this,this.l,e);let s=this.s;if(this.U&&(s?(s=gy(s),my(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Zy(this,i,t),n=pn(this.I),Z(n,"RID",e),Z(n,"CVER",22),this.F&&Z(n,"X-HTTP-Session-Id",this.F),fo(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Xy(s)))+"&"+t:this.o&&tf(n,this.o,s)),Zd(this.i,i),this.bb&&Z(n,"TYPE","init"),this.P?(Z(n,"$req",t),Z(n,"SID","null"),i.aa=!0,hh(i,n,null)):hh(i,n,t),this.H=2}}else this.H==3&&(e?Pg(this,e):this.j.length==0||zy(this.i)||Pg(this))};function Pg(e,t){var n;t?n=t.m:n=e.W++;const r=pn(e.I);Z(r,"SID",e.K),Z(r,"RID",n),Z(r,"AID",e.V),fo(e,r),e.o&&e.s&&tf(r,e.o,e.s),n=new uo(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Zy(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Zd(e.i,n),hh(n,r,t)}function fo(e,t){e.na&&Bd(e.na,function(n,r){Z(t,r,n)}),e.h&&My({},function(n,r){Z(t,r,n)})}function Zy(e,t,n){n=Math.min(e.j.length,n);var r=e.h?$e(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let u=i[a].g;const c=i[a].map;if(u-=s,0>u)s=Math.max(0,i[a].g-100),l=!1;else try{RI(c,o,"req"+u+"_")}catch{r&&r(c)}}if(l){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function e0(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Us||Sy(),Bs||(Us(),Bs=!0),Hd.add(t,e),e.A=0}}function rf(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=lo($e(e.Ma,e),r0(e,e.A)),e.A++,!0)}C.Ma=function(){if(this.u=null,t0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=lo($e(this.jb,this),e)}};C.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,We(10),Ua(this),t0(this))};function sf(e){e.B!=null&&(O.clearTimeout(e.B),e.B=null)}function t0(e){e.g=new uo(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=pn(e.wa);Z(t,"RID","rpc"),Z(t,"SID",e.K),Z(t,"AID",e.V),Z(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Z(t,"TO",e.qa),Z(t,"TYPE","xmlhttp"),fo(e,t),e.o&&e.s&&tf(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=La(pn(t)),n.s=null,n.S=!0,Ay(n,e)}C.ib=function(){this.v!=null&&(this.v=null,Ua(this),rf(this),We(19))};function Bl(e){e.v!=null&&(O.clearTimeout(e.v),e.v=null)}function n0(e,t){var n=null;if(e.g==t){Bl(e),sf(e),e.g=null;var r=2}else if(fh(e.i,t))n=t.F,Vy(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=Kd(),De(r,new Ry(r,n)),Ba(e)}else e0(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&FI(e,t)||r==2&&rf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:cr(e,5);break;case 4:cr(e,10);break;case 3:cr(e,6);break;default:cr(e,2)}}}function r0(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function cr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=$e(e.pb,e);n||(n=new gr("//www.google.com/images/cleardot.gif"),O.location&&O.location.protocol=="http"||$l(n,"https"),La(n)),xI(n.toString(),r)}else We(2);e.H=0,e.h&&e.h.za(t),i0(e),Jy(e)}C.pb=function(e){e?(this.l.info("Successfully pinged google.com"),We(2)):(this.l.info("Failed to ping google.com"),We(1))};function i0(e){if(e.H=0,e.ma=[],e.h){const t=by(e.i);(t.length!=0||e.j.length!=0)&&(_g(e.ma,t),_g(e.ma,e.j),e.i.i.length=0,$d(e.j),e.j.length=0),e.h.ya()}}function s0(e,t,n){var r=n instanceof gr?pn(n):new gr(n);if(r.g!="")t&&(r.g=t+"."+r.g),Ul(r,r.m);else{var i=O.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new gr(null);r&&$l(s,r),t&&(s.g=t),i&&Ul(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Z(r,n,t),Z(r,"VER",e.ra),fo(e,r),r}function o0(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new de(new Ma({ob:!0})):new de(e.va),t.Oa(e.J),t}C.isActive=function(){return!!this.h&&this.h.isActive(this)};function l0(){}C=l0.prototype;C.Ba=function(){};C.Aa=function(){};C.za=function(){};C.ya=function(){};C.isActive=function(){return!0};C.Va=function(){};function kt(e,t){Ie.call(this),this.g=new qy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ms(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ms(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ki(this)}Ne(kt,Ie);kt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;We(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=s0(e,null,e.Y),Ba(e)};kt.prototype.close=function(){nf(this.g)};kt.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=bd(e),e=n);t.j.push(new II(t.fb++,e)),t.H==3&&Ba(t)};kt.prototype.N=function(){this.g.h=null,delete this.j,nf(this.g),delete this.g,kt.$.N.call(this)};function a0(e){qd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ne(a0,qd);function u0(){Jd.call(this),this.status=1}Ne(u0,Jd);function ki(e){this.g=e}Ne(ki,l0);ki.prototype.Ba=function(){De(this.g,"a")};ki.prototype.Aa=function(e){De(this.g,new a0(e))};ki.prototype.za=function(e){De(this.g,new u0)};ki.prototype.ya=function(){De(this.g,"b")};function $I(){this.blockSize=-1}function qt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ne(qt,$I);qt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Gu(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}qt.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Gu(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Gu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Gu(this,r),i=0;break}}this.h=i,this.i+=t};qt.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function G(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var UI={};function of(e){return-128<=e&&128>e?HT(e,function(t){return new G([t|0],0>t?-1:0)}):new G([e|0],0>e?-1:0)}function Ht(e){if(isNaN(e)||!isFinite(e))return ii;if(0>e)return xe(Ht(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ph;return new G(t,0)}function c0(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return xe(c0(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ht(Math.pow(t,8)),r=ii,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Ht(Math.pow(t,s)),r=r.R(s).add(Ht(o))):(r=r.R(n),r=r.add(Ht(o)))}return r}var ph=4294967296,ii=of(0),gh=of(1),Rg=of(16777216);C=G.prototype;C.ea=function(){if(vt(this))return-xe(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ph+r)*t,t*=ph}return e};C.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(sn(this))return"0";if(vt(this))return"-"+xe(this).toString(e);for(var t=Ht(Math.pow(e,6)),n=this,r="";;){var i=zl(n,t).g;n=jl(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,sn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};C.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function sn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function vt(e){return e.h==-1}C.X=function(e){return e=jl(this,e),vt(e)?-1:sn(e)?0:1};function xe(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new G(n,~e.h).add(gh)}C.abs=function(){return vt(this)?xe(this):this};C.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new G(n,n[n.length-1]&-2147483648?-1:0)};function jl(e,t){return e.add(xe(t))}C.R=function(e){if(sn(this)||sn(e))return ii;if(vt(this))return vt(e)?xe(this).R(xe(e)):xe(xe(this).R(e));if(vt(e))return xe(this.R(xe(e)));if(0>this.X(Rg)&&0>e.X(Rg))return Ht(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=e.D(i)>>>16,a=e.D(i)&65535;n[2*r+2*i]+=o*a,Qo(n,2*r+2*i),n[2*r+2*i+1]+=s*a,Qo(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,Qo(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,Qo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new G(n,0)};function Qo(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Wi(e,t){this.g=e,this.h=t}function zl(e,t){if(sn(t))throw Error("division by zero");if(sn(e))return new Wi(ii,ii);if(vt(e))return t=zl(xe(e),t),new Wi(xe(t.g),xe(t.h));if(vt(t))return t=zl(e,xe(t)),new Wi(xe(t.g),t.h);if(30<e.g.length){if(vt(e)||vt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=gh,r=t;0>=r.X(e);)n=xg(n),r=xg(r);var i=$r(n,1),s=$r(r,1);for(r=$r(r,2),n=$r(n,2);!sn(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=$r(r,1),n=$r(n,1)}return t=jl(e,i.R(t)),new Wi(i,t)}for(i=ii;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ht(n),o=s.R(t);vt(o)||0<o.X(e);)n-=r,s=Ht(n),o=s.R(t);sn(s)&&(s=gh),i=i.add(s),e=jl(e,o)}return new Wi(i,e)}C.gb=function(e){return zl(this,e).h};C.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new G(n,this.h&e.h)};C.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new G(n,this.h|e.h)};C.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new G(n,this.h^e.h)};function xg(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new G(n,e.h)}function $r(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new G(i,e.h)}kt.prototype.send=kt.prototype.u;kt.prototype.open=kt.prototype.m;kt.prototype.close=kt.prototype.close;Yd.NO_ERROR=0;Yd.TIMEOUT=8;Yd.HTTP_ERROR=6;dI.COMPLETE="complete";fI.EventType=ao;ao.OPEN="a";ao.CLOSE="b";ao.ERROR="c";ao.MESSAGE="d";Ie.prototype.listen=Ie.prototype.O;de.prototype.listenOnce=de.prototype.P;de.prototype.getLastError=de.prototype.Sa;de.prototype.getLastErrorCode=de.prototype.Ia;de.prototype.getStatus=de.prototype.da;de.prototype.getResponseJson=de.prototype.Wa;de.prototype.getResponseText=de.prototype.ja;de.prototype.send=de.prototype.ha;de.prototype.setWithCredentials=de.prototype.Oa;qt.prototype.digest=qt.prototype.l;qt.prototype.reset=qt.prototype.reset;qt.prototype.update=qt.prototype.j;G.prototype.add=G.prototype.add;G.prototype.multiply=G.prototype.R;G.prototype.modulo=G.prototype.gb;G.prototype.compare=G.prototype.X;G.prototype.toNumber=G.prototype.ea;G.prototype.toString=G.prototype.toString;G.prototype.getBits=G.prototype.D;G.fromNumber=Ht;G.fromString=c0;var BI=G;const Ag="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new io("@firebase/firestore");function at(e,...t){if(Wl.logLevel<=H.DEBUG){const n=t.map(h0);Wl.debug(`Firestore (${ja}): ${e}`,...n)}}function lf(e,...t){if(Wl.logLevel<=H.ERROR){const n=t.map(h0);Wl.error(`Firestore (${ja}): ${e}`,...n)}}function h0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(e="Unexpected state"){const t=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: `+e;throw lf(t),new Error(t)}function mh(e,t){e||d0()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Dr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}}class WI{constructor(t){this.t=t,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new si;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new si,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;t.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new si)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mh(typeof r.accessToken=="string"),new jI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return mh(t===null||typeof t=="string"),new Ge(t)}}class VI{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bI{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new VI(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HI{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QI{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,at("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(mh(typeof n.token=="string"),this.R=n.token,new HI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=GI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function f0(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n,r,i,s,o,l,a,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=u}}class Vl{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Vl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dg,z;(z=Dg||(Dg={}))[z.OK=0]="OK",z[z.CANCELLED=1]="CANCELLED",z[z.UNKNOWN=2]="UNKNOWN",z[z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",z[z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",z[z.NOT_FOUND=5]="NOT_FOUND",z[z.ALREADY_EXISTS=6]="ALREADY_EXISTS",z[z.PERMISSION_DENIED=7]="PERMISSION_DENIED",z[z.UNAUTHENTICATED=16]="UNAUTHENTICATED",z[z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",z[z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",z[z.ABORTED=10]="ABORTED",z[z.OUT_OF_RANGE=11]="OUT_OF_RANGE",z[z.UNIMPLEMENTED=12]="UNIMPLEMENTED",z[z.INTERNAL=13]="INTERNAL",z[z.UNAVAILABLE=14]="UNAVAILABLE",z[z.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new BI([4294967295,4294967295],0);function Ku(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,l=new af(t,n,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qI(e,t){if(lf("AsyncQueue",`${t}: ${e}`),f0(e))return new st(it.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=KI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{at("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(at("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new st(it.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=qI(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=new Map;function ZI(e,t,n,r){if(t===!0&&r===!0)throw new st(it.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new st(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new st(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p0((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ek{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new st(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new st(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lg(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zI;switch(r.type){case"firstParty":return new bI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Og.get(n);r&&(at("ComponentProvider","Removing Datastore"),Og.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new XI(this,"async_queue_retry"),this.iu=()=>{const n=Ku();n&&at("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Ku();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Ku();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new si;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!f0(t))throw t;at("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw lf("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=af.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&d0()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class nk extends ek{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new tk}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rk(this),this._firestoreClient.terminate()}}function rk(e){var t,n,r;const i=e._freezeSettings(),s=function(l,a,u,c){return new YI(l,a,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,p0(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new JI(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}(function(t,n=!0){(function(i){ja=i})(Ia),Tr(new Xt("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new nk(new WI(r.getProvider("auth-internal")),new QI(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new st(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Kt(Ag,"4.3.2",t),Kt(Ag,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(t,n){this._delegate=t,this.firebase=n,Ml(t,new Xt("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),oy(this._delegate)))}_getService(t,n=zn){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(t,n=zn){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){Ml(this._delegate,t)}_addOrOverwriteComponent(t){iy(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Mg=new Sa("app-compat","Firebase",sk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(e){const t={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Kt,setLogLevel:ay,onLog:ly,apps:null,SDK_VERSION:Ia,INTERNAL:{registerComponent:l,removeApp:r,useAsService:a,modularAPIs:$T}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete t[u]}function i(u){if(u=u||zn,!ht(t,u))throw Mg.create("no-app",{appName:u});return t[u]}i.App=e;function s(u,c={}){const h=Md(u,c);if(ht(t,h.name))return t[h.name];const d=new e(h,n);return t[h.name]=d,d}function o(){return Object.keys(t).map(u=>t[u])}function l(u){const c=u.name,h=c.replace("-compat","");if(Tr(u)&&u.type==="PUBLIC"){const d=(g=i())=>{if(typeof g[h]!="function")throw Mg.create("invalid-app-argument",{appName:c});return g[h]()};u.serviceProps!==void 0&&As(d,u.serviceProps),n[h]=d,e.prototype[h]=function(...g){return this._getService.bind(this,c).apply(this,u.multipleInstances?g:[])}}return u.type==="PUBLIC"?n[h]:null}function a(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(){const e=ok(ik);e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:g0,extendNamespace:t,createSubscribe:kS,ErrorFactory:Sa,deepExtend:As});function t(n){As(e,n)}return e}const lk=g0();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=new io("@firebase/app-compat"),ak="@firebase/app-compat",uk="0.2.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(e){Kt(ak,uk,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(gS()&&self.firebase!==void 0){Fg.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Fg.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const za=lk;ck();var hk="firebase",dk="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */za.registerVersion(hk,dk,"app-compat");var $g={};const Ug="@firebase/database",Bg="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m0="";function _0(e){m0=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ge(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ds(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return ht(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fk(t)}}catch{}return new pk},hr=v0("localStorage"),_h=v0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new io("@firebase/database"),y0=function(){let e=1;return function(){return e++}}(),w0=function(e){const t=RS(e),n=new IS;n.update(t);const r=n.digest();return Dd.encodeByteArray(r)},po=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=po.apply(null,r):typeof r=="object"?t+=ge(r):t+=r,t+=" "}return t};let mr=null,jg=!0;const E0=function(e,t){E(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(oi.logLevel=H.VERBOSE,mr=oi.log.bind(oi),t&&_h.set("logging_enabled",!0)):typeof e=="function"?mr=e:(mr=null,_h.remove("logging_enabled"))},Se=function(...e){if(jg===!0&&(jg=!1,mr===null&&_h.get("logging_enabled")===!0&&E0(!0)),mr){const t=po.apply(null,e);mr(t)}},go=function(e){return function(...t){Se(e,...t)}},vh=function(...e){const t="FIREBASE INTERNAL ERROR: "+po(...e);oi.error(t)},Jt=function(...e){const t=`FIREBASE FATAL ERROR: ${po(...e)}`;throw oi.error(t),new Error(t)},Be=function(...e){const t="FIREBASE WARNING: "+po(...e);oi.warn(t)},gk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Be("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wa=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},mk=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Vn="[MIN_NAME]",gn="[MAX_NAME]",Or=function(e,t){if(e===t)return 0;if(e===Vn||t===gn)return-1;if(t===Vn||e===gn)return 1;{const n=zg(e),r=zg(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},_k=function(e,t){return e===t?0:e<t?-1:1},Vi=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ge(t))},uf=function(e){if(typeof e!="object"||e===null)return ge(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ge(t[r]),n+=":",n+=uf(e[t[r]]);return n+="}",n},C0=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ke(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const S0=function(e){E(!Wa(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,l,a;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,o=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=t;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(a=0;a<64;a+=8){let d=parseInt(c.substr(a,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},vk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},yk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wk(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const Ek=new RegExp("^-?(0*)\\d{1,10}$"),Ck=-2147483648,Sk=2147483647,zg=function(e){if(Ek.test(e)){const t=Number(e);if(t>=Ck&&t<=Sk)return t}return null},Ni=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Be("Exception was thrown by user callback.",n),t},Math.floor(0))}},Tk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},us=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Be(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Se("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Be(t)}}class li{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}li.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf="5",T0="v",I0="s",k0="r",N0="f",P0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,R0="ls",x0="p",yh="ac",A0="websocket",D0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&hr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function Nk(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function L0(e,t,n){E(typeof t=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(t===A0)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===D0)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Nk(e)&&(n.ns=e.namespace);const i=[];return ke(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.counters_={}}incrementCounter(t,n=1){ht(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return oS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu={},Xu={};function hf(e){const t=e.toString();return Yu[t]||(Yu[t]=new Pk),Yu[t]}function Rk(e,t){const n=e.toString();return Xu[n]||(Xu[n]=t()),Xu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ni(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="start",Ak="close",Dk="pLPCommand",Ok="pRTLPCB",M0="id",F0="pw",$0="ser",Lk="cb",Mk="seg",Fk="ts",$k="d",Uk="dframe",U0=1870,B0=30,Bk=U0-B0,jk=25e3,zk=3e4;class In{constructor(t,n,r,i,s,o,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=go(t),this.stats_=hf(n),this.urlFn=a=>(this.appCheckToken&&(a[yh]=this.appCheckToken),L0(n,D0,a))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new xk(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(zk)),mk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new df((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Wg)this.id=l,this.password=a;else if(o===Ak)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Wg]="t",r[$0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Lk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[T0]=cf,this.transportSessionId&&(r[I0]=this.transportSessionId),this.lastSessionId&&(r[R0]=this.lastSessionId),this.applicationId&&(r[x0]=this.applicationId),this.appCheckToken&&(r[yh]=this.appCheckToken),typeof location<"u"&&location.hostname&&P0.test(location.hostname)&&(r[k0]=N0);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){In.forceAllow_=!0}static forceDisallow(){In.forceDisallow_=!0}static isAvailable(){return In.forceAllow_?!0:!In.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vk()&&!yk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=ge(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Yv(n),i=C0(r,Bk);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Uk]="t",r[M0]=t,r[F0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=ge(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class df{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=y0(),window[Dk+this.uniqueCallbackIdentifier]=t,window[Ok+this.uniqueCallbackIdentifier]=n,this.myIFrame=df.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Se("frame writing exception"),l.stack&&Se(l.stack),Se(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Se("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[M0]=this.myID,t[F0]=this.myPW,t[$0]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+B0+r.length<=U0;){const o=this.pendingSegs.shift();r=r+"&"+Mk+i+"="+o.seg+"&"+Fk+i+"="+o.ts+"&"+$k+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(jk)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Se("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=16384,Vk=45e3;let bl=null;typeof MozWebSocket<"u"?bl=MozWebSocket:typeof WebSocket<"u"&&(bl=WebSocket);class yt{constructor(t,n,r,i,s,o,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=go(this.connId),this.stats_=hf(n),this.connURL=yt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[T0]=cf,typeof location<"u"&&location.hostname&&P0.test(location.hostname)&&(o[k0]=N0),n&&(o[I0]=n),r&&(o[R0]=r),i&&(o[yh]=i),s&&(o[x0]=s),L0(t,A0,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hr.set("previous_websocket_failure",!0);try{let r;Jv(),this.mySock=new bl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){yt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&bl!==null&&!yt.forceDisallow_}static previouslyFailed(){return hr.isInMemoryStorage||hr.get("previous_websocket_failure")===!0}markConnectionHealthy(){hr.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ds(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(E(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=ge(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=C0(n,Wk);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Vk))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}yt.responsesRequiredToBeHealthy=2;yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[In,yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=yt&&yt.isAvailable();let r=n&&!yt.previouslyFailed();if(t.webSocketOnly&&(n||Be("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yt];else{const i=this.transports_=[];for(const s of gi.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);gi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=6e4,Hk=5e3,Qk=10*1024,Gk=100*1024,qu="t",Vg="d",Kk="s",bg="r",Yk="e",Hg="o",Qg="a",Gg="n",Kg="p",Xk="h";class qk{constructor(t,n,r,i,s,o,l,a,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=go("c:"+this.id+":"),this.transportManager_=new gi(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=us(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Gk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Qk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(qu in t){const n=t[qu];n===Qg?this.upgradeIfSecondaryHealthy_():n===bg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Hg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Vi("t",t),r=Vi("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Kg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Qg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Gg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Vi("t",t),r=Vi("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Vi(qu,t);if(Vg in t){const r=t[Vg];if(n===Xk){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Gg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Kk?this.onConnectionShutdown_(r):n===bg?this.onReset_(r):n===Yk?vh("Server Error: "+r):n===Hg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vh("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),cf!==r&&Be("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),us(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(bk))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):us(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Hk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Kg,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t){this.allowedEvents_=t,this.listeners_={},E(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){E(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends z0{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Hl}getInitialEvent(t){return E(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=32,Xg=768;class b{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function V(){return new b("")}function M(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function bn(e){return e.pieces_.length-e.pieceNum_}function K(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new b(e.pieces_,t)}function ff(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Jk(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function bs(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function W0(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new b(t,0)}function ne(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof b)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new b(n,0)}function F(e){return e.pieceNum_>=e.pieces_.length}function Ve(e,t){const n=M(e),r=M(t);if(n===null)return t;if(n===r)return Ve(K(e),K(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Zk(e,t){const n=bs(e,0),r=bs(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Or(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function pf(e,t){if(bn(e)!==bn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Et(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(bn(e)>bn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class eN{constructor(t,n){this.errorPrefix_=n,this.parts_=bs(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ta(this.parts_[r]);V0(this)}}function tN(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ta(t),V0(e)}function nN(e){const t=e.parts_.pop();e.byteLength_-=Ta(t),e.parts_.length>0&&(e.byteLength_-=1)}function V0(e){if(e.byteLength_>Xg)throw new Error(e.errorPrefix_+"has a key path longer than "+Xg+" bytes ("+e.byteLength_+").");if(e.parts_.length>Yg)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yg+") or object contains a cycle "+sr(e))}function sr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends z0{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new gf}getInitialEvent(t){return E(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=1e3,rN=60*5*1e3,qg=30*1e3,iN=1.3,sN=3e4,oN="server_kill",Jg=3;class un extends j0{constructor(t,n,r,i,s,o,l,a){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=un.nextPersistentConnectionId_++,this.log_=go("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bi,this.maxReconnectDelay_=rN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Jv())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gf.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Hl.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(ge(s)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Ye,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),E(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;un.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,a))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&ht(t,"w")){const r=Cr(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Be(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||SS(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qg)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=CS(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),E(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ge(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):vh("Unrecognized action received from server: "+ge(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=bi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>sN&&(this.reconnectDelay_=bi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*iN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+un.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(h){E(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Se("getToken() completed but was canceled"):(Se("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,l=new qk(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,g=>{Be(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(oN)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Be(h),a())}}}interrupt(t){Se("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Se("Resuming connection for reason: "+t),delete this.interruptReasons_[t],eh(this.interruptReasons_)&&(this.reconnectDelay_=bi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>uf(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new b(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Se("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Jg&&(this.reconnectDelay_=qg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Se("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Jg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+m0.replace(/\./g,"-")]=1,qv()?t["framework.cordova"]=1:mS()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Hl.getInstance().currentlyOnline();return eh(this.interruptReasons_)&&t}}un.nextPersistentConnectionId_=0;un.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new U(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new U(Vn,t),i=new U(Vn,n);return this.compare(r,i)!==0}minPost(){return U.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go;class b0 extends Va{static get __EMPTY_NODE(){return Go}static set __EMPTY_NODE(t){Go=t}compare(t,n){return Or(t.name,n.name)}isDefinedOn(t){throw Si("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return U.MIN}maxPost(){return new U(gn,Go)}makePost(t,n){return E(typeof t=="string","KeyIndex indexValue must always be a string."),new U(t,Go)}toString(){return".key"}}const Yt=new b0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Ce{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ce.RED,this.left=i??qe.EMPTY_NODE,this.right=s??qe.EMPTY_NODE}copy(t,n,r,i,s){return new Ce(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return qe.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return qe.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Ce.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Ce.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Ce.RED=!0;Ce.BLACK=!1;class lN{copy(t,n,r,i,s){return this}insert(t,n,r){return new Ce(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class qe{constructor(t,n=qe.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new qe(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ce.BLACK,null,null))}remove(t){return new qe(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ce.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ko(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ko(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ko(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ko(this.root_,null,this.comparator_,!0,t)}}qe.EMPTY_NODE=new lN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(e,t){return Or(e.name,t.name)}function mf(e,t){return Or(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh;function uN(e){wh=e}const H0=function(e){return typeof e=="number"?"number:"+S0(e):"string:"+e},Q0=function(e){if(e.isLeafNode()){const t=e.val();E(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ht(t,".sv"),"Priority must be a string or number.")}else E(e===wh||e.isEmpty(),"priority of unexpected type.");E(e===wh||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zg;class ye{constructor(t,n=ye.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Q0(this.priorityNode_)}static set __childrenNodeConstructor(t){Zg=t}static get __childrenNodeConstructor(){return Zg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ye(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ye.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return F(t)?this:M(t)===".priority"?this.priorityNode_:ye.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:ye.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=M(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(E(r!==".priority"||bn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ye.__childrenNodeConstructor.EMPTY_NODE.updateChild(K(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+H0(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=S0(this.value_):t+=this.value_,this.lazyHash_=w0(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ye.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ye.__childrenNodeConstructor?-1:(E(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=ye.VALUE_TYPE_ORDER.indexOf(n),s=ye.VALUE_TYPE_ORDER.indexOf(r);return E(i>=0,"Unknown leaf type: "+n),E(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ye.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0,K0;function cN(e){G0=e}function hN(e){K0=e}class dN extends Va{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Or(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return U.MIN}maxPost(){return new U(gn,new ye("[PRIORITY-POST]",K0))}makePost(t,n){const r=G0(t);return new U(n,new ye("[PRIORITY-POST]",r))}toString(){return".priority"}}const q=new dN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=Math.log(2);class pN{constructor(t){const n=s=>parseInt(Math.log(s)/fN,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ql=function(e,t,n,r){e.sort(t);const i=function(a,u){const c=u-a;let h,d;if(c===0)return null;if(c===1)return h=e[a],d=n?n(h):h,new Ce(d,h.node,Ce.BLACK,null,null);{const g=parseInt(c/2,10)+a,_=i(a,g),v=i(g+1,u);return h=e[g],d=n?n(h):h,new Ce(d,h.node,Ce.BLACK,_,v)}},s=function(a){let u=null,c=null,h=e.length;const d=function(_,v){const I=h-_,p=h;h-=_;const f=i(I+1,p),m=e[I],y=n?n(m):m;g(new Ce(y,m.node,v,null,f))},g=function(_){u?(u.left=_,u=_):(c=_,u=_)};for(let _=0;_<a.count;++_){const v=a.nextBitIsOne(),I=Math.pow(2,a.count-(_+1));v?d(I,Ce.BLACK):(d(I,Ce.BLACK),d(I,Ce.RED))}return c},o=new pN(e.length),l=s(o);return new qe(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju;const Ur={};class on{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return E(Ur&&q,"ChildrenNode.ts has not been loaded"),Ju=Ju||new on({".priority":Ur},{".priority":q}),Ju}get(t){const n=Cr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof qe?n:null}hasIndex(t){return ht(this.indexSet_,t.toString())}addIndex(t,n){E(t!==Yt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(U.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Ql(r,t.getCompare()):l=Ur;const a=t.toString(),u=Object.assign({},this.indexSet_);u[a]=t;const c=Object.assign({},this.indexes_);return c[a]=l,new on(c,u)}addToIndexes(t,n){const r=Ll(this.indexes_,(i,s)=>{const o=Cr(this.indexSet_,s);if(E(o,"Missing index implementation for "+s),i===Ur)if(o.isDefinedOn(t.node)){const l=[],a=n.getIterator(U.Wrap);let u=a.getNext();for(;u;)u.name!==t.name&&l.push(u),u=a.getNext();return l.push(t),Ql(l,o.getCompare())}else return Ur;else{const l=n.get(t.name);let a=i;return l&&(a=a.remove(new U(t.name,l))),a.insert(t,t.node)}});return new on(r,this.indexSet_)}removeFromIndexes(t,n){const r=Ll(this.indexes_,i=>{if(i===Ur)return i;{const s=n.get(t.name);return s?i.remove(new U(t.name,s)):i}});return new on(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hi;class A{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Q0(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hi||(Hi=new A(new qe(mf),null,on.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hi}updatePriority(t){return this.children_.isEmpty()?this:new A(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?Hi:n}}getChild(t){const n=M(t);return n===null?this:this.getImmediateChild(n).getChild(K(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(E(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new U(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Hi:this.priorityNode_;return new A(i,o,s)}}updateChild(t,n){const r=M(t);if(r===null)return n;{E(M(t)!==".priority"||bn(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(K(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(q,(o,l)=>{n[o]=l.val(t),r++,s&&A.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+H0(this.getPriority().val())+":"),this.forEachChild(q,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":w0(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new U(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new U(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new U(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,U.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,U.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===mo?-1:0}withIndex(t){if(t===Yt||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new A(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Yt||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(q),i=n.getIterator(q);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Yt?null:this.indexMap_.get(t.toString())}}A.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class gN extends A{constructor(){super(new qe(mf),A.EMPTY_NODE,on.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return A.EMPTY_NODE}isEmpty(){return!1}}const mo=new gN;Object.defineProperties(U,{MIN:{value:new U(Vn,A.EMPTY_NODE)},MAX:{value:new U(gn,mo)}});b0.__EMPTY_NODE=A.EMPTY_NODE;ye.__childrenNodeConstructor=A;uN(mo);hN(mo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=!0;function ie(e,t=null){if(e===null)return A.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),E(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new ye(n,ie(t))}if(!(e instanceof Array)&&mN){const n=[];let r=!1;if(ke(e,(o,l)=>{if(o.substring(0,1)!=="."){const a=ie(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new U(o,a)))}}),n.length===0)return A.EMPTY_NODE;const s=Ql(n,aN,o=>o.name,mf);if(r){const o=Ql(n,q.getCompare());return new A(s,ie(t),new on({".priority":o},{".priority":q}))}else return new A(s,ie(t),on.Default)}else{let n=A.EMPTY_NODE;return ke(e,(r,i)=>{if(ht(e,r)&&r.substring(0,1)!=="."){const s=ie(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ie(t))}}cN(ie);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends Va{constructor(t){super(),this.indexPath_=t,E(!F(t)&&M(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Or(t.name,n.name):s}makePost(t,n){const r=ie(t),i=A.EMPTY_NODE.updateChild(this.indexPath_,r);return new U(n,i)}maxPost(){const t=A.EMPTY_NODE.updateChild(this.indexPath_,mo);return new U(gn,t)}toString(){return bs(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N extends Va{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Or(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return U.MIN}maxPost(){return U.MAX}makePost(t,n){const r=ie(t);return new U(n,r)}toString(){return".value"}}const vf=new _N;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(e){return{type:"value",snapshotNode:e}}function mi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Hs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Qs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function vN(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){E(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(Hs(n,l)):E(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(mi(n,r)):o.trackChildChange(Qs(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(q,(i,s)=>{n.hasChild(i)||r.trackChildChange(Hs(i,s))}),n.isLeafNode()||n.forEachChild(q,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(Qs(i,s,o))}else r.trackChildChange(mi(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?A.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t){this.indexedFilter_=new yf(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Gs.getStartPost_(t),this.endPost_=Gs.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new U(n,r))||(r=A.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=A.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(A.EMPTY_NODE);const s=this;return n.forEachChild(q,(o,l)=>{s.matches(new U(o,l))||(i=i.updateImmediateChild(o,A.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Gs(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new U(n,r))||(r=A.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=A.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=A.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(A.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,A.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,g)=>h(g,d)}else o=this.index_.getCompare();const l=t;E(l.numChildren()===this.limit_,"");const a=new U(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(l.hasChild(n)){const h=l.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||l.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const g=d==null?1:o(d,a);if(c&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(Qs(n,r,h)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Hs(n,h));const v=l.updateImmediateChild(n,A.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(mi(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}}else return r.isEmpty()?t:c&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Hs(u.name,u.node)),s.trackChildChange(mi(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,A.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=q}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vn}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===q}copy(){const t=new ba;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function wN(e){return e.loadsAllData()?new yf(e.getIndex()):e.hasLimit()?new yN(e):new Gs(e)}function EN(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function CN(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Eh(e,t,n){const r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function SN(e,t,n){let r;return e.index_===Yt||n?r=Eh(e,t,n):r=Eh(e,t,gn),r.startAfterSet_=!0,r}function Ch(e,t,n){const r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function TN(e,t,n){let r;return e.index_===Yt||n?r=Ch(e,t,n):r=Ch(e,t,Vn),r.endBeforeSet_=!0,r}function Ha(e,t){const n=e.copy();return n.index_=t,n}function em(e){const t={};if(e.isDefault())return t;let n;if(e.index_===q?n="$priority":e.index_===vf?n="$value":e.index_===Yt?n="$key":(E(e.index_ instanceof _f,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ge(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=ge(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ge(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ge(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ge(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function tm(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==q&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends j0{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=go("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(E(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Gl.getListenId_(t,r),l={};this.listens_[o]=l;const a=em(t._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Cr(this.listens_,o)===l){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(t,n){const r=Gl.getListenId_(t,n);delete this.listens_[r]}get(t){const n=em(t._queryParams),r=t._path.toString(),i=new Ye;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+TS(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Ds(l.responseText)}catch{Be("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Be("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.rootNode_=A.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(){return{value:null,children:new Map}}function Pi(e,t,n){if(F(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=M(t);e.children.has(r)||e.children.set(r,Kl());const i=e.children.get(r);t=K(t),Pi(i,t,n)}}function Sh(e,t){if(F(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(q,(r,i)=>{Pi(e,new b(r),i)}),Sh(e,t)}}else if(e.children.size>0){const n=M(t);return t=K(t),e.children.has(n)&&Sh(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function Th(e,t,n){e.value!==null?n(t,e.value):kN(e,(r,i)=>{const s=new b(t.toString()+"/"+r);Th(i,s,n)})}function kN(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ke(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=10*1e3,PN=30*1e3,RN=5*60*1e3;class xN{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new NN(t);const r=nm+(PN-nm)*Math.random();us(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;ke(t,(i,s)=>{s>0&&ht(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),us(this.reportStats_.bind(this),Math.floor(Math.random()*2*RN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Lt||(Lt={}));function wf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ef(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Cf(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Lt.ACK_USER_WRITE,this.source=wf()}operationForChild(t){if(F(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new b(t));return new Yl(V(),n,this.revert)}}else return E(M(this.path)===t,"operationForChild called for unrelated child."),new Yl(K(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t,n){this.source=t,this.path=n,this.type=Lt.LISTEN_COMPLETE}operationForChild(t){return F(this.path)?new Ks(this.source,V()):new Ks(this.source,K(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Lt.OVERWRITE}operationForChild(t){return F(this.path)?new Ir(this.source,V(),this.snap.getImmediateChild(t)):new Ir(this.source,K(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Lt.MERGE}operationForChild(t){if(F(this.path)){const n=this.children.subtree(new b(t));return n.isEmpty()?null:n.value?new Ir(this.source,V(),n.value):new _i(this.source,V(),n)}else return E(M(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new _i(this.source,K(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(F(t))return this.isFullyInitialized()&&!this.filtered_;const n=M(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function DN(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(vN(o.childName,o.snapshotNode))}),Qi(e,i,"child_removed",t,r,n),Qi(e,i,"child_added",t,r,n),Qi(e,i,"child_moved",s,r,n),Qi(e,i,"child_changed",t,r,n),Qi(e,i,"value",t,r,n),i}function Qi(e,t,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>LN(e,l,a)),o.forEach(l=>{const a=ON(e,l,s);i.forEach(u=>{u.respondsTo(l.type)&&t.push(u.createEvent(a,e.query_))})})}function ON(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function LN(e,t,n){if(t.childName==null||n.childName==null)throw Si("Should only compare child_ events.");const r=new U(t.childName,t.snapshotNode),i=new U(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(e,t){return{eventCache:e,serverCache:t}}function cs(e,t,n,r){return Qa(new Hn(t,n,r),e.serverCache)}function X0(e,t,n,r){return Qa(e.eventCache,new Hn(t,n,r))}function Xl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function kr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu;const MN=()=>(Zu||(Zu=new qe(_k)),Zu);class Y{constructor(t,n=MN()){this.value=t,this.children=n}static fromObject(t){let n=new Y(null);return ke(t,(r,i)=>{n=n.set(new b(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:V(),value:this.value};if(F(t))return null;{const r=M(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(K(t),n);return s!=null?{path:ne(new b(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(F(t))return this;{const n=M(t),r=this.children.get(n);return r!==null?r.subtree(K(t)):new Y(null)}}set(t,n){if(F(t))return new Y(n,this.children);{const r=M(t),s=(this.children.get(r)||new Y(null)).set(K(t),n),o=this.children.insert(r,s);return new Y(this.value,o)}}remove(t){if(F(t))return this.children.isEmpty()?new Y(null):new Y(null,this.children);{const n=M(t),r=this.children.get(n);if(r){const i=r.remove(K(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Y(null):new Y(this.value,s)}else return this}}get(t){if(F(t))return this.value;{const n=M(t),r=this.children.get(n);return r?r.get(K(t)):null}}setTree(t,n){if(F(t))return n;{const r=M(t),s=(this.children.get(r)||new Y(null)).setTree(K(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Y(this.value,o)}}fold(t){return this.fold_(V(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ne(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,V(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(F(t))return null;{const s=M(t),o=this.children.get(s);return o?o.findOnPath_(K(t),ne(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,V(),n)}foreachOnPath_(t,n,r){if(F(t))return this;{this.value&&r(n,this.value);const i=M(t),s=this.children.get(i);return s?s.foreachOnPath_(K(t),ne(n,i),r):new Y(null)}}foreach(t){this.foreach_(V(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ne(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.writeTree_=t}static empty(){return new $t(new Y(null))}}function hs(e,t,n){if(F(t))return new $t(new Y(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Ve(i,t);return s=s.updateChild(o,n),new $t(e.writeTree_.set(i,s))}else{const i=new Y(n),s=e.writeTree_.setTree(t,i);return new $t(s)}}}function Ih(e,t,n){let r=e;return ke(n,(i,s)=>{r=hs(r,ne(t,i),s)}),r}function rm(e,t){if(F(t))return $t.empty();{const n=e.writeTree_.setTree(t,new Y(null));return new $t(n)}}function kh(e,t){return Lr(e,t)!=null}function Lr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ve(n.path,t)):null}function im(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(q,(r,i)=>{t.push(new U(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new U(r,i.value))}),t}function Fn(e,t){if(F(t))return e;{const n=Lr(e,t);return n!=null?new $t(new Y(n)):new $t(e.writeTree_.subtree(t))}}function Nh(e){return e.writeTree_.isEmpty()}function vi(e,t){return q0(V(),e.writeTree_,t)}function q0(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(E(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=q0(ne(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ne(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(e,t){return t1(t,e)}function FN(e,t,n,r,i){E(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=hs(e.visibleWrites,t,n)),e.lastWriteId=r}function $N(e,t,n,r){E(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Ih(e.visibleWrites,t,n),e.lastWriteId=r}function UN(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function BN(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);E(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const l=e.allWrites[o];l.visible&&(o>=n&&jN(l,r.path)?i=!1:Et(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return zN(e),!0;if(r.snap)e.visibleWrites=rm(e.visibleWrites,r.path);else{const l=r.children;ke(l,a=>{e.visibleWrites=rm(e.visibleWrites,ne(r.path,a))})}return!0}else return!1}function jN(e,t){if(e.snap)return Et(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Et(ne(e.path,n),t))return!0;return!1}function zN(e){e.visibleWrites=J0(e.allWrites,WN,V()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function WN(e){return e.visible}function J0(e,t,n){let r=$t.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let l;if(s.snap)Et(n,o)?(l=Ve(n,o),r=hs(r,l,s.snap)):Et(o,n)&&(l=Ve(o,n),r=hs(r,V(),s.snap.getChild(l)));else if(s.children){if(Et(n,o))l=Ve(n,o),r=Ih(r,l,s.children);else if(Et(o,n))if(l=Ve(o,n),F(l))r=Ih(r,V(),s.children);else{const a=Cr(s.children,M(l));if(a){const u=a.getChild(K(l));r=hs(r,V(),u)}}}else throw Si("WriteRecord should have .snap or .children")}}return r}function Z0(e,t,n,r,i){if(!r&&!i){const s=Lr(e.visibleWrites,t);if(s!=null)return s;{const o=Fn(e.visibleWrites,t);if(Nh(o))return n;if(n==null&&!kh(o,V()))return null;{const l=n||A.EMPTY_NODE;return vi(o,l)}}}else{const s=Fn(e.visibleWrites,t);if(!i&&Nh(s))return n;if(!i&&n==null&&!kh(s,V()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Et(u.path,t)||Et(t,u.path))},l=J0(e.allWrites,o,t),a=n||A.EMPTY_NODE;return vi(l,a)}}}function VN(e,t,n){let r=A.EMPTY_NODE;const i=Lr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(q,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Fn(e.visibleWrites,t);return n.forEachChild(q,(o,l)=>{const a=vi(Fn(s,new b(o)),l);r=r.updateImmediateChild(o,a)}),im(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Fn(e.visibleWrites,t);return im(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function bN(e,t,n,r,i){E(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ne(t,n);if(kh(e.visibleWrites,s))return null;{const o=Fn(e.visibleWrites,s);return Nh(o)?i.getChild(n):vi(o,i.getChild(n))}}function HN(e,t,n,r){const i=ne(t,n),s=Lr(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Fn(e.visibleWrites,i);return vi(o,r.getNode().getImmediateChild(n))}else return null}function QN(e,t){return Lr(e.visibleWrites,t)}function GN(e,t,n,r,i,s,o){let l;const a=Fn(e.visibleWrites,t),u=Lr(a,V());if(u!=null)l=u;else if(n!=null)l=vi(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],h=o.getCompare(),d=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=d.getNext();for(;g&&c.length<i;)h(g,r)!==0&&c.push(g),g=d.getNext();return c}else return[]}function KN(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function ql(e,t,n,r){return Z0(e.writeTree,e.treePath,t,n,r)}function Sf(e,t){return VN(e.writeTree,e.treePath,t)}function sm(e,t,n,r){return bN(e.writeTree,e.treePath,t,n,r)}function Jl(e,t){return QN(e.writeTree,ne(e.treePath,t))}function YN(e,t,n,r,i,s){return GN(e.writeTree,e.treePath,t,n,r,i,s)}function Tf(e,t,n){return HN(e.writeTree,e.treePath,t,n)}function e1(e,t){return t1(ne(e.treePath,t),e.writeTree)}function t1(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Qs(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Hs(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,mi(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Qs(r,t.snapshotNode,i.oldSnap));else throw Si("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const n1=new qN;class If{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Hn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tf(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:kr(this.viewCache_),s=YN(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(e){return{filter:e}}function ZN(e,t){E(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),E(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function eP(e,t,n,r,i){const s=new XN;let o,l;if(n.type===Lt.OVERWRITE){const u=n;u.source.fromUser?o=Ph(e,t,u.path,u.snap,r,i,s):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered()&&!F(u.path),o=Zl(e,t,u.path,u.snap,r,i,l,s))}else if(n.type===Lt.MERGE){const u=n;u.source.fromUser?o=nP(e,t,u.path,u.children,r,i,s):(E(u.source.fromServer,"Unknown source."),l=u.source.tagged||t.serverCache.isFiltered(),o=Rh(e,t,u.path,u.children,r,i,l,s))}else if(n.type===Lt.ACK_USER_WRITE){const u=n;u.revert?o=sP(e,t,u.path,r,i,s):o=rP(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===Lt.LISTEN_COMPLETE)o=iP(e,t,n.path,r,s);else throw Si("Unknown operation type: "+n.type);const a=s.getChanges();return tP(t,o,a),{viewCache:o,changes:a}}function tP(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Xl(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Y0(Xl(t)))}}function r1(e,t,n,r,i,s){const o=t.eventCache;if(Jl(r,n)!=null)return t;{let l,a;if(F(n))if(E(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=kr(t),c=u instanceof A?u:A.EMPTY_NODE,h=Sf(r,c);l=e.filter.updateFullNode(t.eventCache.getNode(),h,s)}else{const u=ql(r,kr(t));l=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=M(n);if(u===".priority"){E(bn(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=t.serverCache.getNode();const h=sm(r,n,c,a);h!=null?l=e.filter.updatePriority(c,h):l=o.getNode()}else{const c=K(n);let h;if(o.isCompleteForChild(u)){a=t.serverCache.getNode();const d=sm(r,n,o.getNode(),a);d!=null?h=o.getNode().getImmediateChild(u).updateChild(c,d):h=o.getNode().getImmediateChild(u)}else h=Tf(r,u,t.serverCache);h!=null?l=e.filter.updateChild(o.getNode(),u,h,c,i,s):l=o.getNode()}}return cs(t,l,o.isFullyInitialized()||F(n),e.filter.filtersNodes())}}function Zl(e,t,n,r,i,s,o,l){const a=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(F(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),g,null)}else{const g=M(n);if(!a.isCompleteForPath(n)&&bn(n)>1)return t;const _=K(n),I=a.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?u=c.updatePriority(a.getNode(),I):u=c.updateChild(a.getNode(),g,I,_,n1,null)}const h=X0(t,u,a.isFullyInitialized()||F(n),c.filtersNodes()),d=new If(i,h,s);return r1(e,h,n,i,d,l)}function Ph(e,t,n,r,i,s,o){const l=t.eventCache;let a,u;const c=new If(i,t,s);if(F(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),a=cs(t,u,!0,e.filter.filtersNodes());else{const h=M(n);if(h===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),a=cs(t,u,l.isFullyInitialized(),l.isFiltered());else{const d=K(n),g=l.getNode().getImmediateChild(h);let _;if(F(d))_=r;else{const v=c.getCompleteChild(h);v!=null?ff(d)===".priority"&&v.getChild(W0(d)).isEmpty()?_=v:_=v.updateChild(d,r):_=A.EMPTY_NODE}if(g.equals(_))a=t;else{const v=e.filter.updateChild(l.getNode(),h,_,d,c,o);a=cs(t,v,l.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function om(e,t){return e.eventCache.isCompleteForChild(t)}function nP(e,t,n,r,i,s,o){let l=t;return r.foreach((a,u)=>{const c=ne(n,a);om(t,M(c))&&(l=Ph(e,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=ne(n,a);om(t,M(c))||(l=Ph(e,l,c,u,i,s,o))}),l}function lm(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Rh(e,t,n,r,i,s,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let a=t,u;F(n)?u=r:u=new Y(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((h,d)=>{if(c.hasChild(h)){const g=t.serverCache.getNode().getImmediateChild(h),_=lm(e,g,d);a=Zl(e,a,new b(h),_,i,s,o,l)}}),u.children.inorderTraversal((h,d)=>{const g=!t.serverCache.isCompleteForChild(h)&&d.value===null;if(!c.hasChild(h)&&!g){const _=t.serverCache.getNode().getImmediateChild(h),v=lm(e,_,d);a=Zl(e,a,new b(h),v,i,s,o,l)}}),a}function rP(e,t,n,r,i,s,o){if(Jl(i,n)!=null)return t;const l=t.serverCache.isFiltered(),a=t.serverCache;if(r.value!=null){if(F(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Zl(e,t,n,a.getNode().getChild(n),i,s,l,o);if(F(n)){let u=new Y(null);return a.getNode().forEachChild(Yt,(c,h)=>{u=u.set(new b(c),h)}),Rh(e,t,n,u,i,s,l,o)}else return t}else{let u=new Y(null);return r.foreach((c,h)=>{const d=ne(n,c);a.isCompleteForPath(d)&&(u=u.set(c,a.getNode().getChild(d)))}),Rh(e,t,n,u,i,s,l,o)}}function iP(e,t,n,r,i){const s=t.serverCache,o=X0(t,s.getNode(),s.isFullyInitialized()||F(n),s.isFiltered());return r1(e,o,n,r,n1,i)}function sP(e,t,n,r,i,s){let o;if(Jl(r,n)!=null)return t;{const l=new If(r,t,i),a=t.eventCache.getNode();let u;if(F(n)||M(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=ql(r,kr(t));else{const h=t.serverCache.getNode();E(h instanceof A,"serverChildren would be complete if leaf node"),c=Sf(r,h)}c=c,u=e.filter.updateFullNode(a,c,s)}else{const c=M(n);let h=Tf(r,c,t.serverCache);h==null&&t.serverCache.isCompleteForChild(c)&&(h=a.getImmediateChild(c)),h!=null?u=e.filter.updateChild(a,c,h,K(n),l,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(a,c,A.EMPTY_NODE,K(n),l,s):u=a,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=ql(r,kr(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||Jl(r,V())!=null,cs(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new yf(r.getIndex()),s=wN(r);this.processor_=JN(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(A.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(A.EMPTY_NODE,l.getNode(),null),c=new Hn(a,o.isFullyInitialized(),i.filtersNodes()),h=new Hn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Qa(h,c),this.eventGenerator_=new AN(this.query_)}get query(){return this.query_}}function lP(e){return e.viewCache_.serverCache.getNode()}function aP(e){return Xl(e.viewCache_)}function uP(e,t){const n=kr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!F(t)&&!n.getImmediateChild(M(t)).isEmpty())?n.getChild(t):null}function am(e){return e.eventRegistrations_.length===0}function cP(e,t){e.eventRegistrations_.push(t)}function um(e,t,n){const r=[];if(n){E(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function cm(e,t,n,r){t.type===Lt.MERGE&&t.source.queryId!==null&&(E(kr(e.viewCache_),"We should always have a full cache before handling merges"),E(Xl(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=eP(e.processor_,i,t,n,r);return ZN(e.processor_,s.viewCache),E(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,i1(e,s.changes,s.viewCache.eventCache.getNode(),null)}function hP(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(q,(s,o)=>{r.push(mi(s,o))}),n.isFullyInitialized()&&r.push(Y0(n.getNode())),i1(e,r,n.getNode(),t)}function i1(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return DN(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea;class s1{constructor(){this.views=new Map}}function dP(e){E(!ea,"__referenceConstructor has already been defined"),ea=e}function fP(){return E(ea,"Reference.ts has not been loaded"),ea}function pP(e){return e.views.size===0}function kf(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return E(s!=null,"SyncTree gave us an op for an invalid query."),cm(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(cm(o,t,n,r));return s}}function o1(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let l=ql(n,i?r:null),a=!1;l?a=!0:r instanceof A?(l=Sf(n,r),a=!1):(l=A.EMPTY_NODE,a=!1);const u=Qa(new Hn(l,a,!1),new Hn(r,i,!1));return new oP(t,u)}return o}function gP(e,t,n,r,i,s){const o=o1(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),cP(o,n),hP(o,n)}function mP(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const l=Qn(e);if(i==="default")for(const[a,u]of e.views.entries())o=o.concat(um(u,n,r)),am(u)&&(e.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=e.views.get(i);a&&(o=o.concat(um(a,n,r)),am(a)&&(e.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Qn(e)&&s.push(new(fP())(t._repo,t._path)),{removed:s,events:o}}function l1(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function $n(e,t){let n=null;for(const r of e.views.values())n=n||uP(r,t);return n}function a1(e,t){if(t._queryParams.loadsAllData())return Ka(e);{const r=t._queryIdentifier;return e.views.get(r)}}function u1(e,t){return a1(e,t)!=null}function Qn(e){return Ka(e)!=null}function Ka(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta;function _P(e){E(!ta,"__referenceConstructor has already been defined"),ta=e}function vP(){return E(ta,"Reference.ts has not been loaded"),ta}let yP=1;class hm{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Y(null),this.pendingWriteTree_=KN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Nf(e,t,n,r,i){return FN(e.pendingWriteTree_,t,n,r,i),i?Ri(e,new Ir(wf(),t,n)):[]}function wP(e,t,n,r){$N(e.pendingWriteTree_,t,n,r);const i=Y.fromObject(n);return Ri(e,new _i(wf(),t,i))}function kn(e,t,n=!1){const r=UN(e.pendingWriteTree_,t);if(BN(e.pendingWriteTree_,t)){let s=new Y(null);return r.snap!=null?s=s.set(V(),!0):ke(r.children,o=>{s=s.set(new b(o),!0)}),Ri(e,new Yl(r.path,s,n))}else return[]}function _o(e,t,n){return Ri(e,new Ir(Ef(),t,n))}function EP(e,t,n){const r=Y.fromObject(n);return Ri(e,new _i(Ef(),t,r))}function CP(e,t){return Ri(e,new Ks(Ef(),t))}function SP(e,t,n){const r=Pf(e,n);if(r){const i=Rf(r),s=i.path,o=i.queryId,l=Ve(s,t),a=new Ks(Cf(o),l);return xf(e,s,a)}else return[]}function na(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let l=[];if(o&&(t._queryIdentifier==="default"||u1(o,t))){const a=mP(o,t,n,r);pP(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=e.syncPointTree_.findOnPath(s,(d,g)=>Qn(g));if(c&&!h){const d=e.syncPointTree_.subtree(s);if(!d.isEmpty()){const g=kP(d);for(let _=0;_<g.length;++_){const v=g[_],I=v.query,p=f1(e,v);e.listenProvider_.startListening(ds(I),Ys(e,I),p.hashFn,p.onComplete)}}}!h&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(ds(t),null):u.forEach(d=>{const g=e.queryToTagMap.get(Xa(d));e.listenProvider_.stopListening(ds(d),g)}))}NP(e,u)}return l}function c1(e,t,n,r){const i=Pf(e,r);if(i!=null){const s=Rf(i),o=s.path,l=s.queryId,a=Ve(o,t),u=new Ir(Cf(l),a,n);return xf(e,o,u)}else return[]}function TP(e,t,n,r){const i=Pf(e,r);if(i){const s=Rf(i),o=s.path,l=s.queryId,a=Ve(o,t),u=Y.fromObject(n),c=new _i(Cf(l),a,u);return xf(e,o,c)}else return[]}function xh(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(d,g)=>{const _=Ve(d,i);s=s||$n(g,_),o=o||Qn(g)});let l=e.syncPointTree_.get(i);l?(o=o||Qn(l),s=s||$n(l,V())):(l=new s1,e.syncPointTree_=e.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=A.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((g,_)=>{const v=$n(_,V());v&&(s=s.updateImmediateChild(g,v))}));const u=u1(l,t);if(!u&&!t._queryParams.loadsAllData()){const d=Xa(t);E(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");const g=PP();e.queryToTagMap.set(d,g),e.tagToQueryMap.set(g,d)}const c=Ga(e.pendingWriteTree_,i);let h=gP(l,t,n,c,s,a);if(!u&&!o&&!r){const d=a1(l,t);h=h.concat(RP(e,t,d))}return h}function Ya(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,l)=>{const a=Ve(o,t),u=$n(l,a);if(u)return u});return Z0(i,t,s,n,!0)}function IP(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const h=Ve(u,n);r=r||$n(c,h)});let i=e.syncPointTree_.get(n);i?r=r||$n(i,V()):(i=new s1,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new Hn(r,!0,!1):null,l=Ga(e.pendingWriteTree_,t._path),a=o1(i,t,l,s?o.getNode():A.EMPTY_NODE,s);return aP(a)}function Ri(e,t){return h1(t,e.syncPointTree_,null,Ga(e.pendingWriteTree_,V()))}function h1(e,t,n,r){if(F(e.path))return d1(e,t,n,r);{const i=t.get(V());n==null&&i!=null&&(n=$n(i,V()));let s=[];const o=M(e.path),l=e.operationForChild(o),a=t.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=e1(r,o);s=s.concat(h1(l,a,u,c))}return i&&(s=s.concat(kf(i,e,r,n))),s}}function d1(e,t,n,r){const i=t.get(V());n==null&&i!=null&&(n=$n(i,V()));let s=[];return t.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=e1(r,o),c=e.operationForChild(o);c&&(s=s.concat(d1(c,l,a,u)))}),i&&(s=s.concat(kf(i,e,r,n))),s}function f1(e,t){const n=t.query,r=Ys(e,n);return{hashFn:()=>(lP(t)||A.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?SP(e,n._path,r):CP(e,n._path);{const s=wk(i,n);return na(e,n,null,s)}}}}function Ys(e,t){const n=Xa(t);return e.queryToTagMap.get(n)}function Xa(e){return e._path.toString()+"$"+e._queryIdentifier}function Pf(e,t){return e.tagToQueryMap.get(t)}function Rf(e){const t=e.indexOf("$");return E(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new b(e.substr(0,t))}}function xf(e,t,n){const r=e.syncPointTree_.get(t);E(r,"Missing sync point for query tag that we're tracking");const i=Ga(e.pendingWriteTree_,t);return kf(r,n,i,null)}function kP(e){return e.fold((t,n,r)=>{if(n&&Qn(n))return[Ka(n)];{let i=[];return n&&(i=l1(n)),ke(r,(s,o)=>{i=i.concat(o)}),i}})}function ds(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(vP())(e._repo,e._path):e}function NP(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Xa(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function PP(){return yP++}function RP(e,t,n){const r=t._path,i=Ys(e,t),s=f1(e,n),o=e.listenProvider_.startListening(ds(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)E(!Qn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,c,h)=>{if(!F(u)&&c&&Qn(c))return[Ka(c).query];{let d=[];return c&&(d=d.concat(l1(c).map(g=>g.query))),ke(h,(g,_)=>{d=d.concat(_)}),d}});for(let u=0;u<a.length;++u){const c=a[u];e.listenProvider_.stopListening(ds(c),Ys(e,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Af(n)}node(){return this.node_}}class Df{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ne(this.path_,t);return new Df(this.syncTree_,n)}node(){return Ya(this.syncTree_,this.path_)}}const xP=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},dm=function(e,t,n){if(!e||typeof e!="object")return e;if(E(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return AP(e[".sv"],t,n);if(typeof e[".sv"]=="object")return DP(e[".sv"],t);E(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},AP=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+e)}},DP=function(e,t,n){e.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);const i=t.node();if(E(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},p1=function(e,t,n,r){return Lf(t,new Df(n,e),r)},Of=function(e,t,n){return Lf(e,new Af(t),n)};function Lf(e,t,n){const r=e.getPriority().val(),i=dm(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,l=dm(o.getValue(),t,n);return l!==o.getValue()||i!==o.getPriority().val()?new ye(l,ie(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ye(i))),o.forEachChild(q,(l,a)=>{const u=Lf(a,t.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function qa(e,t){let n=t instanceof b?t:new b(t),r=e,i=M(n);for(;i!==null;){const s=Cr(r.node.children,i)||{children:{},childCount:0};r=new Mf(i,r,s),n=K(n),i=M(n)}return r}function Mr(e){return e.node.value}function Ff(e,t){e.node.value=t,Ah(e)}function g1(e){return e.node.childCount>0}function OP(e){return Mr(e)===void 0&&!g1(e)}function Ja(e,t){ke(e.node.children,(n,r)=>{t(new Mf(n,e,r))})}function m1(e,t,n,r){n&&!r&&t(e),Ja(e,i=>{m1(i,t,!0,r)}),n&&r&&t(e)}function LP(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function vo(e){return new b(e.parent===null?e.name:vo(e.parent)+"/"+e.name)}function Ah(e){e.parent!==null&&MP(e.parent,e.name,e)}function MP(e,t,n){const r=OP(n),i=ht(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Ah(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Ah(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=/[\[\].#$\/\u0000-\u001F\u007F]/,$P=/[\[\].#$\u0000-\u001F\u007F]/,ec=10*1024*1024,Za=function(e){return typeof e=="string"&&e.length!==0&&!FP.test(e)},_1=function(e){return typeof e=="string"&&e.length!==0&&!$P.test(e)},UP=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),_1(e)},Xs=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Wa(e)||e&&typeof e=="object"&&ht(e,".sv")},Zt=function(e,t,n,r){r&&t===void 0||yo(tt(e,"value"),t,n)},yo=function(e,t,n){const r=n instanceof b?new eN(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+sr(r));if(typeof t=="function")throw new Error(e+"contains a function "+sr(r)+" with contents = "+t.toString());if(Wa(t))throw new Error(e+"contains "+t.toString()+" "+sr(r));if(typeof t=="string"&&t.length>ec/3&&Ta(t)>ec)throw new Error(e+"contains a string greater than "+ec+" utf8 bytes "+sr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(ke(t,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Za(o)))throw new Error(e+" contains an invalid key ("+o+") "+sr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);tN(r,o),yo(e,l,r),nN(r)}),i&&s)throw new Error(e+' contains ".value" child '+sr(r)+" in addition to actual children.")}},BP=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=bs(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Za(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Zk);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Et(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},v1=function(e,t,n,r){if(r&&t===void 0)return;const i=tt(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];ke(t,(o,l)=>{const a=new b(o);if(yo(i,l,ne(n,a)),ff(a)===".priority"&&!Xs(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),BP(i,s)},$f=function(e,t,n){if(!(n&&t===void 0)){if(Wa(t))throw new Error(tt(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Xs(t))throw new Error(tt(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wo=function(e,t,n,r){if(!(r&&n===void 0)&&!Za(n))throw new Error(tt(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},qs=function(e,t,n,r){if(!(r&&n===void 0)&&!_1(n))throw new Error(tt(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jP=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qs(e,t,n,r)},Ct=function(e,t){if(M(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},y1=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Za(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!UP(n))throw new Error(tt(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eu(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!pf(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function w1(e,t,n){eu(e,n),E1(e,r=>pf(r,t))}function dt(e,t,n){eu(e,n),E1(e,r=>Et(r,t)||Et(t,r))}function E1(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(WP(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function WP(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();mr&&Se("event: "+n.toString()),Ni(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="repo_interrupt",VP=25;class bP{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kl(),this.transactionQueueTree_=new Mf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function HP(e,t,n){if(e.stats_=hf(e.repoInfo_),e.forceRestClient_||Tk())e.server_=new Gl(e.repoInfo_,(r,i,s,o)=>{fm(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>pm(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ge(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new un(e.repoInfo_,t,(r,i,s,o)=>{fm(e,r,i,s,o)},r=>{pm(e,r)},r=>{QP(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Rk(e.repoInfo_,()=>new xN(e.stats_,e.server_)),e.infoData_=new IN,e.infoSyncTree_=new hm({startListening:(r,i,s,o)=>{let l=[];const a=e.infoData_.getNode(r._path);return a.isEmpty()||(l=_o(e.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Uf(e,"connected",!1),e.serverSyncTree_=new hm({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);dt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function S1(e){const n=e.infoData_.getNode(new b(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Eo(e){return xP({timestamp:S1(e)})}function fm(e,t,n,r,i){e.dataUpdateCount++;const s=new b(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const a=Ll(n,u=>ie(u));o=TP(e.serverSyncTree_,s,a,i)}else{const a=ie(n);o=c1(e.serverSyncTree_,s,a,i)}else if(r){const a=Ll(n,u=>ie(u));o=EP(e.serverSyncTree_,s,a)}else{const a=ie(n);o=_o(e.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=yi(e,s)),dt(e.eventQueue_,l,o)}function pm(e,t){Uf(e,"connected",t),t===!1&&YP(e)}function QP(e,t){ke(t,(n,r)=>{Uf(e,n,r)})}function Uf(e,t,n){const r=new b("/.info/"+t),i=ie(n);e.infoData_.updateSnapshot(r,i);const s=_o(e.infoSyncTree_,r,i);dt(e.eventQueue_,r,s)}function tu(e){return e.nextWriteId_++}function GP(e,t,n){const r=IP(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=ie(i).withIndex(t._queryParams.getIndex());xh(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=_o(e.serverSyncTree_,t._path,s);else{const l=Ys(e.serverSyncTree_,t);o=c1(e.serverSyncTree_,t._path,s,l)}return dt(e.eventQueue_,t._path,o),na(e.serverSyncTree_,t,n,null,!0),s},i=>(xi(e,"get for query "+ge(t)+" failed: "+i),Promise.reject(new Error(i))))}function Bf(e,t,n,r,i){xi(e,"set",{path:t.toString(),value:n,priority:r});const s=Eo(e),o=ie(n,r),l=Ya(e.serverSyncTree_,t),a=Of(o,l,s),u=tu(e),c=Nf(e.serverSyncTree_,t,a,u,!0);eu(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(d,g)=>{const _=d==="ok";_||Be("set at "+t+" failed: "+d);const v=kn(e.serverSyncTree_,u,!_);dt(e.eventQueue_,t,v),Gn(e,i,d,g)});const h=zf(e,t);yi(e,h),dt(e.eventQueue_,h,[])}function KP(e,t,n,r){xi(e,"update",{path:t.toString(),value:n});let i=!0;const s=Eo(e),o={};if(ke(n,(l,a)=>{i=!1,o[l]=p1(ne(t,l),ie(a),e.serverSyncTree_,s)}),i)Se("update() called with empty data.  Don't do anything."),Gn(e,r,"ok",void 0);else{const l=tu(e),a=wP(e.serverSyncTree_,t,o,l);eu(e.eventQueue_,a),e.server_.merge(t.toString(),n,(u,c)=>{const h=u==="ok";h||Be("update at "+t+" failed: "+u);const d=kn(e.serverSyncTree_,l,!h),g=d.length>0?yi(e,t):t;dt(e.eventQueue_,g,d),Gn(e,r,u,c)}),ke(n,u=>{const c=zf(e,ne(t,u));yi(e,c)}),dt(e.eventQueue_,t,[])}}function YP(e){xi(e,"onDisconnectEvents");const t=Eo(e),n=Kl();Th(e.onDisconnect_,V(),(i,s)=>{const o=p1(i,s,e.serverSyncTree_,t);Pi(n,i,o)});let r=[];Th(n,V(),(i,s)=>{r=r.concat(_o(e.serverSyncTree_,i,s));const o=zf(e,i);yi(e,o)}),e.onDisconnect_=Kl(),dt(e.eventQueue_,V(),r)}function XP(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{r==="ok"&&Sh(e.onDisconnect_,t),Gn(e,n,r,i)})}function gm(e,t,n,r){const i=ie(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(s,o)=>{s==="ok"&&Pi(e.onDisconnect_,t,i),Gn(e,r,s,o)})}function qP(e,t,n,r,i){const s=ie(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),(o,l)=>{o==="ok"&&Pi(e.onDisconnect_,t,s),Gn(e,i,o,l)})}function JP(e,t,n,r){if(eh(n)){Se("onDisconnect().update() called with empty data.  Don't do anything."),Gn(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(i,s)=>{i==="ok"&&ke(n,(o,l)=>{const a=ie(l);Pi(e.onDisconnect_,ne(t,o),a)}),Gn(e,r,i,s)})}function ZP(e,t,n){let r;M(t._path)===".info"?r=xh(e.infoSyncTree_,t,n):r=xh(e.serverSyncTree_,t,n),w1(e.eventQueue_,t._path,r)}function Dh(e,t,n){let r;M(t._path)===".info"?r=na(e.infoSyncTree_,t,n):r=na(e.serverSyncTree_,t,n),w1(e.eventQueue_,t._path,r)}function T1(e){e.persistentConnection_&&e.persistentConnection_.interrupt(C1)}function eR(e){e.persistentConnection_&&e.persistentConnection_.resume(C1)}function xi(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Se(n,...t)}function Gn(e,t,n,r){t&&Ni(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function tR(e,t,n,r,i,s){xi(e,"transaction on "+t);const o={path:t,update:n,onComplete:r,status:null,order:y0(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=jf(e,t,void 0);o.currentInputSnapshot=l;const a=o.update(l.val());if(a===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{yo("transaction failed: Data returned ",a,o.path),o.status=0;const u=qa(e.transactionQueueTree_,t),c=Mr(u)||[];c.push(o),Ff(u,c);let h;typeof a=="object"&&a!==null&&ht(a,".priority")?(h=Cr(a,".priority"),E(Xs(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(Ya(e.serverSyncTree_,t)||A.EMPTY_NODE).getPriority().val();const d=Eo(e),g=ie(a,h),_=Of(g,l,d);o.currentOutputSnapshotRaw=g,o.currentOutputSnapshotResolved=_,o.currentWriteId=tu(e);const v=Nf(e.serverSyncTree_,t,_,o.currentWriteId,o.applyLocally);dt(e.eventQueue_,t,v),nu(e,e.transactionQueueTree_)}}function jf(e,t,n){return Ya(e.serverSyncTree_,t,n)||A.EMPTY_NODE}function nu(e,t=e.transactionQueueTree_){if(t||ru(e,t),Mr(t)){const n=k1(e,t);E(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&nR(e,vo(t),n)}else g1(t)&&Ja(t,n=>{nu(e,n)})}function nR(e,t,n){const r=n.map(u=>u.currentWriteId),i=jf(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];E(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=Ve(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=t;e.server_.put(a.toString(),l,u=>{xi(e,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(kn(e.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();ru(e,qa(e.transactionQueueTree_,t)),nu(e,e.transactionQueueTree_),dt(e.eventQueue_,t,c);for(let d=0;d<h.length;d++)Ni(h[d])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Be("transaction at "+a.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}yi(e,t)}},o)}function yi(e,t){const n=I1(e,t),r=vo(n),i=k1(e,n);return rR(e,i,r),r}function rR(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const a=t[l],u=Ve(n,a.path);let c=!1,h;if(E(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,h=a.abortReason,i=i.concat(kn(e.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=VP)c=!0,h="maxretry",i=i.concat(kn(e.serverSyncTree_,a.currentWriteId,!0));else{const d=jf(e,a.path,o);a.currentInputSnapshot=d;const g=t[l].update(d.val());if(g!==void 0){yo("transaction failed: Data returned ",g,a.path);let _=ie(g);typeof g=="object"&&g!=null&&ht(g,".priority")||(_=_.updatePriority(d.getPriority()));const I=a.currentWriteId,p=Eo(e),f=Of(_,d,p);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=f,a.currentWriteId=tu(e),o.splice(o.indexOf(I),1),i=i.concat(Nf(e.serverSyncTree_,a.path,f,a.currentWriteId,a.applyLocally)),i=i.concat(kn(e.serverSyncTree_,I,!0))}else c=!0,h="nodata",i=i.concat(kn(e.serverSyncTree_,a.currentWriteId,!0))}dt(e.eventQueue_,n,i),i=[],c&&(t[l].status=2,function(d){setTimeout(d,Math.floor(0))}(t[l].unwatcher),t[l].onComplete&&(h==="nodata"?r.push(()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot)):r.push(()=>t[l].onComplete(new Error(h),!1,null))))}ru(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Ni(r[l]);nu(e,e.transactionQueueTree_)}function I1(e,t){let n,r=e.transactionQueueTree_;for(n=M(t);n!==null&&Mr(r)===void 0;)r=qa(r,n),t=K(t),n=M(t);return r}function k1(e,t){const n=[];return N1(e,t,n),n.sort((r,i)=>r.order-i.order),n}function N1(e,t,n){const r=Mr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ja(t,i=>{N1(e,i,n)})}function ru(e,t){const n=Mr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Ff(t,n.length>0?n:void 0)}Ja(t,r=>{ru(e,r)})}function zf(e,t){const n=vo(I1(e,t)),r=qa(e.transactionQueueTree_,t);return LP(r,i=>{tc(e,i)}),tc(e,r),m1(r,i=>{tc(e,i)}),n}function tc(e,t){const n=Mr(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(E(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(E(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(kn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Ff(t,void 0):n.length=s+1,dt(e.eventQueue_,vo(t),i);for(let o=0;o<r.length;o++)Ni(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function sR(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Be(`Invalid query segment '${n}' in query '${e}'`)}return t}const Oh=function(e,t){const n=oR(e),r=n.namespace;n.domain==="firebase.com"&&Jt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Jt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gk();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new O0(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new b(n.pathString)}},oR=function(e){let t="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let h=e.indexOf("?");h===-1&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=iR(e.substring(c,h)));const d=sR(e.substring(Math.min(e.length,h)));u=t.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(t.substring(u+1),10)):u=t.length;const g=t.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lR=function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=mm.charAt(n%64),n=Math.floor(n/64);E(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=mm.charAt(t[i]);return E(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ge(this.snapshot.exportVal())}}class R1{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aR=class{constructor(t,n){this._repo=t,this._path=n}cancel(){const t=new Ye;return XP(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ct("OnDisconnect.remove",this._path);const t=new Ye;return gm(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ct("OnDisconnect.set",this._path),Zt("OnDisconnect.set",t,this._path,!1);const n=new Ye;return gm(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){Ct("OnDisconnect.setWithPriority",this._path),Zt("OnDisconnect.setWithPriority",t,this._path,!1),$f("OnDisconnect.setWithPriority",n,!1);const r=new Ye;return qP(this._repo,this._path,t,n,r.wrapCallback(()=>{})),r.promise}update(t){Ct("OnDisconnect.update",this._path),v1("OnDisconnect.update",t,this._path,!1);const n=new Ye;return JP(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return F(this._path)?null:ff(this._path)}get ref(){return new Nt(this._repo,this._path)}get _queryIdentifier(){const t=tm(this._queryParams),n=uf(t);return n==="{}"?"default":n}get _queryObject(){return tm(this._queryParams)}isEqual(t){if(t=gt(t),!(t instanceof nt))return!1;const n=this._repo===t._repo,r=pf(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Jk(this._path)}}function iu(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Zn(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Yt){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Vn)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==gn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===q){if(t!=null&&!Xs(t)||n!=null&&!Xs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(E(e.getIndex()instanceof _f||e.getIndex()===vf,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function su(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Nt extends nt{constructor(t,n){super(t,n,new ba,!1)}get parent(){const t=W0(this._path);return t===null?null:new Nt(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}let ou=class Lh{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new b(t),r=Nr(this.ref,t);return new Lh(this._node.getChild(n),r,q)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Lh(i,Nr(this.ref,r),q)))}hasChild(t){const n=new b(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function x1(e,t){return e=gt(e),e._checkNotDeleted("ref"),t!==void 0?Nr(e._root,t):e._root}function _m(e,t){e=gt(e),e._checkNotDeleted("refFromURL");const n=Oh(t,e._repo.repoInfo_.nodeAdmin);y1("refFromURL",n);const r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Jt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),x1(e,n.path.toString())}function Nr(e,t){return e=gt(e),M(e._path)===null?jP("child","path",t,!1):qs("child","path",t,!1),new Nt(e._repo,ne(e._path,t))}function uR(e,t){e=gt(e),Ct("push",e._path),Zt("push",t,e._path,!0);const n=S1(e._repo),r=lR(n),i=Nr(e,r),s=Nr(e,r);let o;return t!=null?o=Vf(s,t).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function cR(e){return Ct("remove",e._path),Vf(e,null)}function Vf(e,t){e=gt(e),Ct("set",e._path),Zt("set",t,e._path,!1);const n=new Ye;return Bf(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function hR(e,t){e=gt(e),Ct("setPriority",e._path),$f("setPriority",t,!1);const n=new Ye;return Bf(e._repo,ne(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function dR(e,t,n){if(Ct("setWithPriority",e._path),Zt("setWithPriority",t,e._path,!1),$f("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new Ye;return Bf(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}function fR(e,t){v1("update",t,e._path,!1);const n=new Ye;return KP(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function pR(e){e=gt(e);const t=new Wf(()=>{}),n=new Co(t);return GP(e._repo,e,n).then(r=>new ou(r,new Nt(e._repo,e._path),e._queryParams.getIndex()))}class Co{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new P1("value",this,new ou(t.snapshotNode,new Nt(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new R1(this,t,n):null}matches(t){return t instanceof Co?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class lu{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new R1(this,t,n):null}createEvent(t,n){E(t.childName!=null,"Child events should have a childName.");const r=Nr(new Nt(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new P1(t.type,this,new ou(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof lu?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function So(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(c,h)=>{Dh(e._repo,e,l),a(c,h)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new Wf(n,s||void 0),l=t==="value"?new Co(o):new lu(t,o);return ZP(e._repo,e,l),()=>Dh(e._repo,e,l)}function Mh(e,t,n,r){return So(e,"value",t,n,r)}function vm(e,t,n,r){return So(e,"child_added",t,n,r)}function ym(e,t,n,r){return So(e,"child_changed",t,n,r)}function wm(e,t,n,r){return So(e,"child_moved",t,n,r)}function Em(e,t,n,r){return So(e,"child_removed",t,n,r)}function Cm(e,t,n){let r=null;const i=n?new Wf(n):null;t==="value"?r=new Co(i):t&&(r=new lu(t,i)),Dh(e._repo,e,r)}class Bt{}class A1 extends Bt{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Zt("endAt",this._value,t._path,!0);const n=Ch(t._queryParams,this._value,this._key);if(su(n),Zn(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new nt(t._repo,t._path,n,t._orderByCalled)}}function gR(e,t){return wo("endAt","key",t,!0),new A1(e,t)}class mR extends Bt{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Zt("endBefore",this._value,t._path,!1);const n=TN(t._queryParams,this._value,this._key);if(su(n),Zn(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new nt(t._repo,t._path,n,t._orderByCalled)}}function _R(e,t){return wo("endBefore","key",t,!0),new mR(e,t)}class D1 extends Bt{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Zt("startAt",this._value,t._path,!0);const n=Eh(t._queryParams,this._value,this._key);if(su(n),Zn(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new nt(t._repo,t._path,n,t._orderByCalled)}}function vR(e=null,t){return wo("startAt","key",t,!0),new D1(e,t)}class yR extends Bt{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){Zt("startAfter",this._value,t._path,!1);const n=SN(t._queryParams,this._value,this._key);if(su(n),Zn(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new nt(t._repo,t._path,n,t._orderByCalled)}}function wR(e,t){return wo("startAfter","key",t,!0),new yR(e,t)}class ER extends Bt{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new nt(t._repo,t._path,EN(t._queryParams,this._limit),t._orderByCalled)}}function CR(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ER(e)}class SR extends Bt{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new nt(t._repo,t._path,CN(t._queryParams,this._limit),t._orderByCalled)}}function TR(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new SR(e)}class IR extends Bt{constructor(t){super(),this._path=t}_apply(t){iu(t,"orderByChild");const n=new b(this._path);if(F(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new _f(n),i=Ha(t._queryParams,r);return Zn(i),new nt(t._repo,t._path,i,!0)}}function kR(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qs("orderByChild","path",e,!1),new IR(e)}class NR extends Bt{_apply(t){iu(t,"orderByKey");const n=Ha(t._queryParams,Yt);return Zn(n),new nt(t._repo,t._path,n,!0)}}function PR(){return new NR}class RR extends Bt{_apply(t){iu(t,"orderByPriority");const n=Ha(t._queryParams,q);return Zn(n),new nt(t._repo,t._path,n,!0)}}function xR(){return new RR}class AR extends Bt{_apply(t){iu(t,"orderByValue");const n=Ha(t._queryParams,vf);return Zn(n),new nt(t._repo,t._path,n,!0)}}function DR(){return new AR}class OR extends Bt{constructor(t,n){super(),this._value=t,this._key=n}_apply(t){if(Zt("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new A1(this._value,this._key)._apply(new D1(this._value,this._key)._apply(t))}}function LR(e,t){return wo("equalTo","key",t,!0),new OR(e,t)}function xt(e,...t){let n=gt(e);for(const r of t)n=r._apply(n);return n}dP(Nt);_P(Nt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="FIREBASE_DATABASE_EMULATOR_HOST",Fh={};let FR=!1;function $R(e,t,n,r){e.repoInfo_=new O0(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function O1(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Jt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Se("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=Oh(s,i),l=o.repoInfo,a,u;typeof process<"u"&&$g&&(u=$g[MR]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=Oh(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new li(li.OWNER):new kk(e.name,e.options,t);y1("Invalid Firebase Database URL",o),F(o.path)||Jt("Database URL must point to the root of a Firebase Database (not including a child path).");const h=BR(l,e,c,new Ik(e.name,n));return new jR(h,e)}function UR(e,t){const n=Fh[t];(!n||n[e.key]!==e)&&Jt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),T1(e),delete n[e.key]}function BR(e,t,n,r){let i=Fh[t.name];i||(i={},Fh[t.name]=i);let s=i[e.toURLString()];return s&&Jt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bP(e,FR,n,r),i[e.toURLString()]=s,s}let jR=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(HP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nt(this._repo,V())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Jt("Cannot call "+t+" on a deleted database.")}};function L1(){gi.IS_TRANSPORT_INITIALIZED&&Be("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function zR(){L1(),In.forceDisallow()}function WR(){L1(),yt.forceDisallow(),In.forceAllow()}function VR(e,t,n,r={}){e=gt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Jt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Jt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new li(li.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:fS(r.mockUserToken,e.app.options.projectId);s=new li(o)}$R(i,t,n,s)}function bR(e){e=gt(e),e._checkNotDeleted("goOffline"),T1(e._repo)}function HR(e){e=gt(e),e._checkNotDeleted("goOnline"),eR(e._repo)}function QR(e,t){E0(e,t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(e){_0(Ia),Tr(new Xt("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return O1(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Kt(Ug,Bg,e),Kt(Ug,Bg,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={".sv":"timestamp"};function YR(){return KR}function XR(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qR=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function JR(e,t,n){var r;if(e=gt(e),Ct("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Ye,o=(a,u,c)=>{let h=null;a?s.reject(a):(h=new ou(c,new Nt(e._repo,e._path),q),s.resolve(new qR(u,h)))},l=Mh(e,()=>{});return tR(e._repo,e._path,t,o,l,i),s.promise}un.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};un.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};GR();const ZR="@firebase/database-compat",ex="1.0.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new io("@firebase/database-compat"),M1=function(e){const t="FIREBASE WARNING: "+e;tx.warn(t)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(tt(e,t)+"must be a boolean.")},rx=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(tt(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t){this._delegate=t}cancel(t){D("OnDisconnect.cancel",0,1,arguments.length),Ee("OnDisconnect.cancel","onComplete",t,!0);const n=this._delegate.cancel();return t&&n.then(()=>t(null),r=>t(r)),n}remove(t){D("OnDisconnect.remove",0,1,arguments.length),Ee("OnDisconnect.remove","onComplete",t,!0);const n=this._delegate.remove();return t&&n.then(()=>t(null),r=>t(r)),n}set(t,n){D("OnDisconnect.set",1,2,arguments.length),Ee("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){D("OnDisconnect.setWithPriority",2,3,arguments.length),Ee("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(t,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(t,n){if(D("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let s=0;s<t.length;++s)i[""+s]=t[s];t=i,M1("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ee("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(t);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return D("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t,n){this._database=t,this._delegate=n}val(){return D("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return D("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return D("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return D("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return D("DataSnapshot.child",0,1,arguments.length),t=String(t),qs("DataSnapshot.child","path",t,!1),new Un(this._database,this._delegate.child(t))}hasChild(t){return D("DataSnapshot.hasChild",1,1,arguments.length),qs("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return D("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return D("DataSnapshot.forEach",1,1,arguments.length),Ee("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new Un(this._database,n)))}hasChildren(){return D("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return D("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return D("DataSnapshot.ref",0,0,arguments.length),new ot(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Pe{constructor(t,n){this.database=t,this._delegate=n}on(t,n,r,i){var s;D("Query.on",2,4,arguments.length),Ee("Query.on","callback",n,!1);const o=Pe.getCancelAndContextArgs_("Query.on",r,i),l=(u,c)=>{n.call(o.context,new Un(this.database,u),c)};l.userCallback=n,l.context=o.context;const a=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(t){case"value":return Mh(this._delegate,l,a),n;case"child_added":return vm(this._delegate,l,a),n;case"child_removed":return Em(this._delegate,l,a),n;case"child_changed":return ym(this._delegate,l,a),n;case"child_moved":return wm(this._delegate,l,a),n;default:throw new Error(tt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,r){if(D("Query.off",0,3,arguments.length),rx("Query.off",t,!0),Ee("Query.off","callback",n,!0),ug("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,Cm(this._delegate,t,i)}else Cm(this._delegate,t)}get(){return pR(this._delegate).then(t=>new Un(this.database,t))}once(t,n,r,i){D("Query.once",1,4,arguments.length),Ee("Query.once","callback",n,!0);const s=Pe.getCancelAndContextArgs_("Query.once",r,i),o=new Ye,l=(u,c)=>{const h=new Un(this.database,u);n&&n.call(s.context,h,c),o.resolve(h)};l.userCallback=n,l.context=s.context;const a=u=>{s.cancel&&s.cancel.call(s.context,u),o.reject(u)};switch(t){case"value":Mh(this._delegate,l,a,{onlyOnce:!0});break;case"child_added":vm(this._delegate,l,a,{onlyOnce:!0});break;case"child_removed":Em(this._delegate,l,a,{onlyOnce:!0});break;case"child_changed":ym(this._delegate,l,a,{onlyOnce:!0});break;case"child_moved":wm(this._delegate,l,a,{onlyOnce:!0});break;default:throw new Error(tt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return D("Query.limitToFirst",1,1,arguments.length),new Pe(this.database,xt(this._delegate,CR(t)))}limitToLast(t){return D("Query.limitToLast",1,1,arguments.length),new Pe(this.database,xt(this._delegate,TR(t)))}orderByChild(t){return D("Query.orderByChild",1,1,arguments.length),new Pe(this.database,xt(this._delegate,kR(t)))}orderByKey(){return D("Query.orderByKey",0,0,arguments.length),new Pe(this.database,xt(this._delegate,PR()))}orderByPriority(){return D("Query.orderByPriority",0,0,arguments.length),new Pe(this.database,xt(this._delegate,xR()))}orderByValue(){return D("Query.orderByValue",0,0,arguments.length),new Pe(this.database,xt(this._delegate,DR()))}startAt(t=null,n){return D("Query.startAt",0,2,arguments.length),new Pe(this.database,xt(this._delegate,vR(t,n)))}startAfter(t=null,n){return D("Query.startAfter",0,2,arguments.length),new Pe(this.database,xt(this._delegate,wR(t,n)))}endAt(t=null,n){return D("Query.endAt",0,2,arguments.length),new Pe(this.database,xt(this._delegate,gR(t,n)))}endBefore(t=null,n){return D("Query.endBefore",0,2,arguments.length),new Pe(this.database,xt(this._delegate,_R(t,n)))}equalTo(t,n){return D("Query.equalTo",1,2,arguments.length),new Pe(this.database,xt(this._delegate,LR(t,n)))}toString(){return D("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return D("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(D("Query.isEqual",1,1,arguments.length),!(t instanceof Pe)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ee(t,"cancel",i.cancel,!0),i.context=r,ug(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(tt(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new ot(this.database,new Nt(this._delegate._repo,this._delegate._path))}}class ot extends Pe{constructor(t,n){super(t,new nt(n._repo,n._path,new ba,!1)),this.database=t,this._delegate=n}getKey(){return D("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return D("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new ot(this.database,Nr(this._delegate,t))}getParent(){D("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ot(this.database,t):null}getRoot(){return D("Reference.root",0,0,arguments.length),new ot(this.database,this._delegate.root)}set(t,n){D("Reference.set",1,2,arguments.length),Ee("Reference.set","onComplete",n,!0);const r=Vf(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}update(t,n){if(D("Reference.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let s=0;s<t.length;++s)i[""+s]=t[s];t=i,M1("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ct("Reference.update",this._delegate._path),Ee("Reference.update","onComplete",n,!0);const r=fR(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){D("Reference.setWithPriority",2,3,arguments.length),Ee("Reference.setWithPriority","onComplete",r,!0);const i=dR(this._delegate,t,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(t){D("Reference.remove",0,1,arguments.length),Ee("Reference.remove","onComplete",t,!0);const n=cR(this._delegate);return t&&n.then(()=>t(null),r=>t(r)),n}transaction(t,n,r){D("Reference.transaction",1,3,arguments.length),Ee("Reference.transaction","transactionUpdate",t,!1),Ee("Reference.transaction","onComplete",n,!0),nx("Reference.transaction","applyLocally",r,!0);const i=JR(this._delegate,t,{applyLocally:r}).then(s=>new sx(s.committed,new Un(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(t,n){D("Reference.setPriority",1,2,arguments.length),Ee("Reference.setPriority","onComplete",n,!0);const r=hR(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}push(t,n){D("Reference.push",0,2,arguments.length),Ee("Reference.push","onComplete",n,!0);const r=uR(this._delegate,t),i=r.then(o=>new ot(this.database,o));n&&i.then(()=>n(null),o=>n(o));const s=new ot(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return Ct("Reference.onDisconnect",this._delegate._path),new ix(new aR(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:zR,forceLongPolling:WR}}useEmulator(t,n,r={}){VR(this._delegate,t,n,r)}ref(t){if(D("database.ref",0,1,arguments.length),t instanceof ot){const n=_m(this._delegate,t.toString());return new ot(this,n)}else{const n=x1(this._delegate,t);return new ot(this,n)}}refFromURL(t){D("database.refFromURL",1,1,arguments.length);const r=_m(this._delegate,t);return new ot(this,r)}goOffline(){return D("database.goOffline",0,0,arguments.length),bR(this._delegate)}goOnline(){return D("database.goOnline",0,0,arguments.length),HR(this._delegate)}}Js.ServerValue={TIMESTAMP:YR(),increment:e=>XR(e)};function ox({app:e,url:t,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){_0(n);const l=new ey("database-standalone"),a=new nh("auth-internal",l);a.setComponent(new Xt("auth-internal",()=>r,"PRIVATE"));let u;return i&&(u=new nh("app-check-internal",l),u.setComponent(new Xt("app-check-internal",()=>i,"PRIVATE"))),{instance:new Js(O1(e,a,u,t,o),e),namespace:s}}var lx=Object.freeze({__proto__:null,initStandalone:ox});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=Js.ServerValue;function ux(e){e.INTERNAL.registerComponent(new Xt("database-compat",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:n});return new Js(i,r)},"PUBLIC").setServiceProps({Reference:ot,Query:Pe,Database:Js,DataSnapshot:Un,enableLogging:QR,INTERNAL:lx,ServerValue:ax}).setMultipleInstances(!0)),e.registerVersion(ZR,ex)}ux(za);const cx={apiKey:"AIzaSyCneEXNZEx7o7-Yti71NwwDRfbKzf8p4uQ",authDomain:"exchange-gifts-tool.firebaseapp.com",databaseURL:"https://exchange-gifts-tool-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"exchange-gifts-tool",storageBucket:"exchange-gifts-tool.appspot.com",messagingSenderId:"688277934034",appId:"1:688277934034:web:e74eb4191229db5e58420b",measurementId:"G-Y6BV69KNDF"};za.initializeApp(cx);const nc=za.database();function hx(){const[e,t]=N.useState(null),[n,r]=N.useState(null),[i,s]=N.useState(!1),[o,l]=N.useState([]),a=BC();N.useEffect(()=>((async()=>{try{nc.ref("participants").on("value",d=>{const g=d.val(),_=Object.keys(g).map(v=>({id:v,name:g[v]}));l(_)})}catch(h){console.error("Error fetching data:",h)}})(),()=>nc.ref("participants").off()),[]);const u=(c,h)=>{t(c),s(!0),r(h),setTimeout(()=>{nc.ref(`participants/${h}`).remove().then(()=>{l(d=>d.filter(g=>g.id!==h))}).catch(d=>{console.error("Error deleting participant:",d)}),a(`/newpage/${c}`)},500)};return ae.jsxs(ae.Fragment,{children:[ae.jsxs("h1",{className:"text-2xl text-center mb-5",children:["請抽選要準備的"," ",ae.jsx("span",{className:"text-red font-bold",children:e})," 🎁"]}),ae.jsx("div",{className:`card-container grid grid-cols-3 gap-4 text-center ${i?"fade-transition fade-out":""}`,children:o.map(c=>ae.jsxs("div",{className:`card ${n===c.id?"card-selected":""} w-20 h-32`,onClick:()=>u(c.name,c.id),children:[ae.jsx("div",{className:"card-front"}),ae.jsx("div",{className:"card-back",children:c.name})," "]},c.id))})]})}function dx(){const{cardContent:e}=zC();return ae.jsx("div",{children:ae.jsxs("h1",{className:"text-3xl text-center",children:["恭喜🎉 你要幫 ",ae.jsx("span",{className:"text-red font-bold",children:e})," ","準備 🎁 喔 ! 🥰"]})})}const fx=({children:e})=>ae.jsx("div",{className:"w-screen h-screen p-5 flex items-center justify-center",children:ae.jsx("section",{className:"container mx-auto flex flex-col items-center p-5",children:e})});function px(){return ae.jsx(rS,{children:ae.jsx(fx,{children:ae.jsxs(tS,{children:[ae.jsx(qc,{path:"/",element:ae.jsx(hx,{})}),ae.jsx(qc,{path:"/newpage/:cardContent",element:ae.jsx(dx,{})})]})})})}rc.createRoot(document.getElementById("root")).render(ae.jsx(Dm.StrictMode,{children:ae.jsx(px,{})}));
